<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[39ä¸ªå¿…çŸ¥å¿…ä¼šçš„SQL æ€§èƒ½è°ƒä¼˜æ–¹æ³•]]></title>
    <url>%2Fblog%2F2017-06-08.39-tips-about-SQL-optimize%2F</url>
    <content type="text"><![CDATA[è½¬è‡ª ï¼šhttps://mp.weixin.qq.com/s/jSYyXiE-kNoE9jpZ4kAEhw http://www.cnblogs.com/llrr/p/6655977.html æˆ‘ä»¬è¦åšåˆ°ä¸ä½†ä¼šå†™SQL,è¿˜è¦åšåˆ°å†™å‡ºæ€§èƒ½ä¼˜è‰¯çš„SQL,ä»¥ä¸‹ä¸ºç¬”è€…å­¦ä¹ ã€æ‘˜å½•ã€å¹¶æ±‡æ€»éƒ¨åˆ†èµ„æ–™ä¸Žå¤§å®¶åˆ†äº«ï¼ 1ã€é€‰æ‹©æœ€æœ‰æ•ˆçŽ‡çš„è¡¨åé¡ºåº(åªåœ¨åŸºäºŽè§„åˆ™çš„ä¼˜åŒ–å™¨ä¸­æœ‰æ•ˆ)ORACLE çš„è§£æžå™¨æŒ‰ç…§ä»Žå³åˆ°å·¦çš„é¡ºåºå¤„ç†FROMå­å¥ä¸­çš„è¡¨åï¼ŒFROMå­å¥ä¸­å†™åœ¨æœ€åŽçš„è¡¨(åŸºç¡€è¡¨ driving table)å°†è¢«æœ€å…ˆå¤„ç†ï¼Œåœ¨FROMå­å¥ä¸­åŒ…å«å¤šä¸ªè¡¨çš„æƒ…å†µä¸‹,ä½ å¿…é¡»é€‰æ‹©è®°å½•æ¡æ•°æœ€å°‘çš„è¡¨ä½œä¸ºåŸºç¡€è¡¨ã€‚å¦‚æžœæœ‰3ä¸ªä»¥ä¸Šçš„è¡¨è¿žæŽ¥æŸ¥è¯¢, é‚£å°±éœ€è¦é€‰æ‹©äº¤å‰è¡¨(intersection table)ä½œä¸ºåŸºç¡€è¡¨, äº¤å‰è¡¨æ˜¯æŒ‡é‚£ä¸ªè¢«å…¶ä»–è¡¨æ‰€å¼•ç”¨çš„è¡¨. 2ã€WHEREå­å¥ä¸­çš„è¿žæŽ¥é¡ºåºORACLEé‡‡ç”¨è‡ªä¸‹è€Œä¸Šçš„é¡ºåºè§£æžWHEREå­å¥,æ ¹æ®è¿™ä¸ªåŽŸç†,è¡¨ä¹‹é—´çš„è¿žæŽ¥å¿…é¡»å†™åœ¨å…¶ä»–WHEREæ¡ä»¶ä¹‹å‰, é‚£äº›å¯ä»¥è¿‡æ»¤æŽ‰æœ€å¤§æ•°é‡è®°å½•çš„æ¡ä»¶å¿…é¡»å†™åœ¨WHEREå­å¥çš„æœ«å°¾. 3ã€SELECTå­å¥ä¸­é¿å…ä½¿ç”¨ â€˜ * â€˜ORACLEåœ¨è§£æžçš„è¿‡ç¨‹ä¸­, ä¼šå°†â€™*â€™ ä¾æ¬¡è½¬æ¢æˆæ‰€æœ‰çš„åˆ—å, è¿™ä¸ªå·¥ä½œæ˜¯é€šè¿‡æŸ¥è¯¢æ•°æ®å­—å…¸å®Œæˆçš„, è¿™æ„å‘³ç€å°†è€—è´¹æ›´å¤šçš„æ—¶é—´ 4ã€å‡å°‘è®¿é—®æ•°æ®åº“çš„æ¬¡æ•°ORACLEåœ¨å†…éƒ¨æ‰§è¡Œäº†è®¸å¤šå·¥ä½œ: è§£æžSQLè¯­å¥, ä¼°ç®—ç´¢å¼•çš„åˆ©ç”¨çŽ‡, ç»‘å®šå˜é‡ , è¯»æ•°æ®å—ç­‰ï¼› 5ã€åœ¨SQL*Plus , SQLFormså’ŒProCä¸­é‡æ–°è®¾ç½®ARRAYSIZEå‚æ•°, å¯ä»¥å¢žåŠ æ¯æ¬¡æ•°æ®åº“è®¿é—®çš„æ£€ç´¢æ•°æ®é‡ ,å»ºè®®å€¼ä¸º2006ã€ä½¿ç”¨DECODEå‡½æ•°æ¥å‡å°‘å¤„ç†æ—¶é—´ä½¿ç”¨DECODEå‡½æ•°å¯ä»¥é¿å…é‡å¤æ‰«æç›¸åŒè®°å½•æˆ–é‡å¤è¿žæŽ¥ç›¸åŒçš„è¡¨. 7ã€æ•´åˆç®€å•,æ— å…³è”çš„æ•°æ®åº“è®¿é—®å¦‚æžœä½ æœ‰å‡ ä¸ªç®€å•çš„æ•°æ®åº“æŸ¥è¯¢è¯­å¥,ä½ å¯ä»¥æŠŠå®ƒä»¬æ•´åˆåˆ°ä¸€ä¸ªæŸ¥è¯¢ä¸­(å³ä½¿å®ƒä»¬ä¹‹é—´æ²¡æœ‰å…³ç³») 8ã€åˆ é™¤é‡å¤è®°å½•æœ€é«˜æ•ˆçš„åˆ é™¤é‡å¤è®°å½•æ–¹æ³• ( å› ä¸ºä½¿ç”¨äº†ROWID)ä¾‹å­ï¼š DELETE FROM EMP E WHERE E.ROWID &gt; (SELECT MIN(X.ROWID) FROM EMP X WHERE X.EMP_NO = E.EMP_NO); 9ã€ç”¨TRUNCATEæ›¿ä»£DELETEå½“åˆ é™¤è¡¨ä¸­çš„è®°å½•æ—¶,åœ¨é€šå¸¸æƒ…å†µä¸‹, å›žæ»šæ®µ(rollback segments ) ç”¨æ¥å­˜æ”¾å¯ä»¥è¢«æ¢å¤çš„ä¿¡æ¯. å¦‚æžœä½ æ²¡æœ‰COMMITäº‹åŠ¡,ORACLEä¼šå°†æ•°æ®æ¢å¤åˆ°åˆ é™¤ä¹‹å‰çš„çŠ¶æ€(å‡†ç¡®åœ°è¯´æ˜¯æ¢å¤åˆ°æ‰§è¡Œåˆ é™¤å‘½ä»¤ä¹‹å‰çš„çŠ¶å†µ) è€Œå½“è¿ç”¨TRUNCATEæ—¶, å›žæ»šæ®µä¸å†å­˜æ”¾ä»»ä½•å¯è¢«æ¢å¤çš„ä¿¡æ¯.å½“å‘½ä»¤è¿è¡ŒåŽ,æ•°æ®ä¸èƒ½è¢«æ¢å¤.å› æ­¤å¾ˆå°‘çš„èµ„æºè¢«è°ƒç”¨,æ‰§è¡Œæ—¶é—´ä¹Ÿä¼šå¾ˆçŸ­. (è¯‘è€…æŒ‰: TRUNCATEåªåœ¨åˆ é™¤å…¨è¡¨é€‚ç”¨,TRUNCATEæ˜¯DDLä¸æ˜¯DML) 10ã€å°½é‡å¤šä½¿ç”¨COMMITåªè¦æœ‰å¯èƒ½,åœ¨ç¨‹åºä¸­å°½é‡å¤šä½¿ç”¨COMMIT, è¿™æ ·ç¨‹åºçš„æ€§èƒ½å¾—åˆ°æé«˜,éœ€æ±‚ä¹Ÿä¼šå› ä¸ºCOMMITæ‰€é‡Šæ”¾çš„èµ„æºè€Œå‡å°‘: COMMITæ‰€é‡Šæ”¾çš„èµ„æºï¼š a. å›žæ»šæ®µä¸Šç”¨äºŽæ¢å¤æ•°æ®çš„ä¿¡æ¯. b. è¢«ç¨‹åºè¯­å¥èŽ·å¾—çš„é” c. redo log buffer ä¸­çš„ç©ºé—´ d. ORACLEä¸ºç®¡ç†ä¸Šè¿°3ç§èµ„æºä¸­çš„å†…éƒ¨èŠ±è´¹ 11ã€ç”¨Whereå­å¥æ›¿æ¢HAVINGå­å¥é¿å…ä½¿ç”¨HAVINGå­å¥, HAVING åªä¼šåœ¨æ£€ç´¢å‡ºæ‰€æœ‰è®°å½•ä¹‹åŽæ‰å¯¹ç»“æžœé›†è¿›è¡Œè¿‡æ»¤. è¿™ä¸ªå¤„ç†éœ€è¦æŽ’åº,æ€»è®¡ç­‰æ“ä½œ. å¦‚æžœèƒ½é€šè¿‡WHEREå­å¥é™åˆ¶è®°å½•çš„æ•°ç›®,é‚£å°±èƒ½å‡å°‘è¿™æ–¹é¢çš„å¼€é”€. (éžoracleä¸­)onã€whereã€havingè¿™ä¸‰ä¸ªéƒ½å¯ä»¥åŠ æ¡ä»¶çš„å­å¥ä¸­ï¼Œonæ˜¯æœ€å…ˆæ‰§è¡Œï¼Œwhereæ¬¡ä¹‹ï¼Œhavingæœ€åŽï¼Œå› ä¸ºonæ˜¯å…ˆæŠŠä¸ ç¬¦åˆæ¡ä»¶çš„è®°å½•è¿‡æ»¤åŽæ‰è¿›è¡Œç»Ÿè®¡ï¼Œå®ƒå°±å¯ä»¥å‡å°‘ä¸­é—´è¿ç®—è¦å¤„ç†çš„æ•°æ®ï¼ŒæŒ‰ç†è¯´åº”è¯¥é€Ÿåº¦æ˜¯æœ€å¿«çš„ï¼Œwhereä¹Ÿåº”è¯¥æ¯”havingå¿«ç‚¹çš„ï¼Œå› ä¸ºå®ƒè¿‡æ»¤æ•°æ®åŽ æ‰è¿›è¡Œsumï¼Œåœ¨ä¸¤ä¸ªè¡¨è”æŽ¥æ—¶æ‰ç”¨onçš„ï¼Œæ‰€ä»¥åœ¨ä¸€ä¸ªè¡¨çš„æ—¶å€™ï¼Œå°±å‰©ä¸‹whereè·Ÿhavingæ¯”è¾ƒäº†ã€‚åœ¨è¿™å•è¡¨æŸ¥è¯¢ç»Ÿè®¡çš„æƒ…å†µä¸‹ï¼Œå¦‚æžœè¦è¿‡æ»¤çš„æ¡ä»¶æ²¡æœ‰æ¶‰åŠåˆ°è¦è®¡ç®—å­—æ®µï¼Œé‚£å®ƒä»¬çš„ç»“æžœæ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯whereå¯ä»¥ä½¿ç”¨rushmoreæŠ€æœ¯ï¼Œè€Œhavingå°±ä¸èƒ½ï¼Œåœ¨é€Ÿåº¦ä¸ŠåŽè€…è¦æ…¢å¦‚æžœè¦æ¶‰åŠåˆ°è®¡ç®—çš„å­— æ®µï¼Œå°±è¡¨ç¤ºåœ¨æ²¡è®¡ç®—ä¹‹å‰ï¼Œè¿™ä¸ªå­—æ®µçš„å€¼æ˜¯ä¸ç¡®å®šçš„ï¼Œæ ¹æ®ä¸Šç¯‡å†™çš„å·¥ä½œæµç¨‹ï¼Œwhereçš„ä½œç”¨æ—¶é—´æ˜¯åœ¨è®¡ç®—ä¹‹å‰å°±å®Œæˆçš„ï¼Œè€Œhavingå°±æ˜¯åœ¨è®¡ç®—åŽæ‰èµ·ä½œ ç”¨çš„ï¼Œæ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸¤è€…çš„ç»“æžœä¼šä¸åŒã€‚åœ¨å¤šè¡¨è”æŽ¥æŸ¥è¯¢æ—¶ï¼Œonæ¯”whereæ›´æ—©èµ·ä½œç”¨ã€‚ç³»ç»Ÿé¦–å…ˆæ ¹æ®å„ä¸ªè¡¨ä¹‹é—´çš„è”æŽ¥æ¡ä»¶ï¼ŒæŠŠå¤šä¸ªè¡¨åˆæˆä¸€ä¸ªä¸´æ—¶è¡¨ åŽï¼Œå†ç”±whereè¿›è¡Œè¿‡æ»¤ï¼Œç„¶åŽå†è®¡ç®—ï¼Œè®¡ç®—å®ŒåŽå†ç”±havingè¿›è¡Œè¿‡æ»¤ã€‚ç”±æ­¤å¯è§ï¼Œè¦æƒ³è¿‡æ»¤æ¡ä»¶èµ·åˆ°æ­£ç¡®çš„ä½œç”¨ï¼Œé¦–å…ˆè¦æ˜Žç™½è¿™ä¸ªæ¡ä»¶åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™èµ·ä½œç”¨ï¼Œç„¶åŽå†å†³å®šæ”¾åœ¨é‚£é‡Œ 12ã€ å‡å°‘å¯¹è¡¨çš„æŸ¥è¯¢åœ¨å«æœ‰å­æŸ¥è¯¢çš„SQLè¯­å¥ä¸­,è¦ç‰¹åˆ«æ³¨æ„å‡å°‘å¯¹è¡¨çš„æŸ¥è¯¢.ä¾‹å­ï¼š 123SELECT TAB_NAME FROM TABLES WHERE (TAB_NAME,DB_VER) = ( SELECTTAB_NAME,DB_VER FROM TAB_COLUMNS WHERE VERSION = 604) 13ã€é€šè¿‡å†…éƒ¨å‡½æ•°æé«˜SQLæ•ˆçŽ‡å¤æ‚çš„SQLå¾€å¾€ç‰ºç‰²äº†æ‰§è¡Œæ•ˆçŽ‡. èƒ½å¤ŸæŽŒæ¡ä¸Šé¢çš„è¿ç”¨å‡½æ•°è§£å†³é—®é¢˜çš„æ–¹æ³•åœ¨å®žé™…å·¥ä½œä¸­æ˜¯éžå¸¸æœ‰æ„ä¹‰çš„ 14ã€ä½¿ç”¨è¡¨çš„åˆ«å(Alias)å½“åœ¨SQLè¯­å¥ä¸­è¿žæŽ¥å¤šä¸ªè¡¨æ—¶, è¯·ä½¿ç”¨è¡¨çš„åˆ«åå¹¶æŠŠåˆ«åå‰ç¼€äºŽæ¯ä¸ªColumnä¸Š.è¿™æ ·ä¸€æ¥,å°±å¯ä»¥å‡å°‘è§£æžçš„æ—¶é—´å¹¶å‡å°‘é‚£äº›ç”±Columnæ­§ä¹‰å¼•èµ·çš„è¯­æ³•é”™è¯¯. 15ã€ ç”¨EXISTSæ›¿ä»£INã€ç”¨NOT EXISTSæ›¿ä»£NOT INåœ¨è®¸å¤šåŸºäºŽåŸºç¡€è¡¨çš„æŸ¥è¯¢ä¸­,ä¸ºäº†æ»¡è¶³ä¸€ä¸ªæ¡ä»¶,å¾€å¾€éœ€è¦å¯¹å¦ä¸€ä¸ªè¡¨è¿›è¡Œè”æŽ¥.åœ¨è¿™ç§æƒ…å†µä¸‹, ä½¿ç”¨EXISTS(æˆ–NOT EXISTS)é€šå¸¸å°†æé«˜æŸ¥è¯¢çš„æ•ˆçŽ‡. åœ¨å­æŸ¥è¯¢ä¸­,NOT INå­å¥å°†æ‰§è¡Œä¸€ä¸ªå†…éƒ¨çš„æŽ’åºå’Œåˆå¹¶. æ— è®ºåœ¨å“ªç§æƒ…å†µä¸‹,NOT INéƒ½æ˜¯æœ€ä½Žæ•ˆçš„(å› ä¸ºå®ƒå¯¹å­æŸ¥è¯¢ä¸­çš„è¡¨æ‰§è¡Œäº†ä¸€ä¸ªå…¨è¡¨éåŽ†). ä¸ºäº†é¿å…ä½¿ç”¨NOT IN ,æˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ”¹å†™æˆå¤–è¿žæŽ¥(Outer Joins)æˆ–NOT EXISTS. ä¾‹å­ï¼š 1234567é«˜æ•ˆï¼šSELECT * FROM EMP (åŸºç¡€è¡¨) WHERE EMPNO &gt; 0 AND EXISTS (SELECT â€˜X' FROM DEPT WHERE DEPT.DEPTNO = EMP.DEPTNO AND LOC = â€˜MELB')ä½Žæ•ˆï¼šSELECT * FROM EMP (åŸºç¡€è¡¨) WHERE EMPNO &gt; 0 AND DEPTNO IN(SELECT DEPTNO FROM DEPT WHERE LOC = â€˜MELB') 16ã€è¯†åˆ«â€™ä½Žæ•ˆæ‰§è¡Œâ€™çš„SQLè¯­å¥è™½ç„¶ç›®å‰å„ç§å…³äºŽSQLä¼˜åŒ–çš„å›¾å½¢åŒ–å·¥å…·å±‚å‡ºä¸ç©·,ä½†æ˜¯å†™å‡ºè‡ªå·±çš„SQLå·¥å…·æ¥è§£å†³é—®é¢˜å§‹ç»ˆæ˜¯ä¸€ä¸ªæœ€å¥½çš„æ–¹æ³•ï¼š 1234567891011121314151617SELECT EXECUTIONS , DISK_READS, BUFFER_GETS,ROUND((BUFFER_GETS-DISK_READS)/BUFFER_GETS,2) Hit_radio,ROUND(DISK_READS/EXECUTIONS,2) Reads_per_run,SQL_TEXTFROM V$SQLAREAWHERE EXECUTIONS&gt;0AND BUFFER_GETS &gt; 0AND (BUFFER_GETS-DISK_READS)/BUFFER_GETS &lt; 0.8ORDER BY 4 DESC; 17ã€ç”¨ç´¢å¼•æé«˜æ•ˆçŽ‡ç´¢å¼•æ˜¯è¡¨çš„ä¸€ä¸ªæ¦‚å¿µéƒ¨åˆ†,ç”¨æ¥æé«˜æ£€ç´¢æ•°æ®çš„æ•ˆçŽ‡ï¼ŒORACLEä½¿ç”¨äº†ä¸€ä¸ªå¤æ‚çš„è‡ªå¹³è¡¡B-treeç»“æž„. é€šå¸¸,é€šè¿‡ç´¢å¼•æŸ¥è¯¢æ•°æ®æ¯”å…¨è¡¨æ‰«æè¦å¿«. å½“ORACLEæ‰¾å‡ºæ‰§è¡ŒæŸ¥è¯¢å’ŒUpdateè¯­å¥çš„æœ€ä½³è·¯å¾„æ—¶, ORACLEä¼˜åŒ–å™¨å°†ä½¿ç”¨ç´¢å¼•. åŒæ ·åœ¨è”ç»“å¤šä¸ªè¡¨æ—¶ä½¿ç”¨ç´¢å¼•ä¹Ÿå¯ä»¥æé«˜æ•ˆçŽ‡. å¦ä¸€ä¸ªä½¿ç”¨ç´¢å¼•çš„å¥½å¤„æ˜¯,å®ƒæä¾›äº†ä¸»é”®(primary key)çš„å”¯ä¸€æ€§éªŒè¯.ã€‚é‚£äº›LONGæˆ–LONG RAWæ•°æ®ç±»åž‹, ä½ å¯ä»¥ç´¢å¼•å‡ ä¹Žæ‰€æœ‰çš„åˆ—. é€šå¸¸, åœ¨å¤§åž‹è¡¨ä¸­ä½¿ç”¨ç´¢å¼•ç‰¹åˆ«æœ‰æ•ˆ. å½“ç„¶,ä½ ä¹Ÿä¼šå‘çŽ°, åœ¨æ‰«æå°è¡¨æ—¶,ä½¿ç”¨ç´¢å¼•åŒæ ·èƒ½æé«˜æ•ˆçŽ‡. è™½ç„¶ä½¿ç”¨ç´¢å¼•èƒ½å¾—åˆ°æŸ¥è¯¢æ•ˆçŽ‡çš„æé«˜,ä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¿…é¡»æ³¨æ„åˆ°å®ƒçš„ä»£ä»·. ç´¢å¼•éœ€è¦ç©ºé—´æ¥å­˜å‚¨,ä¹Ÿéœ€è¦å®šæœŸç»´æŠ¤, æ¯å½“æœ‰è®°å½•åœ¨è¡¨ä¸­å¢žå‡æˆ–ç´¢å¼•åˆ—è¢«ä¿®æ”¹æ—¶, ç´¢å¼•æœ¬èº«ä¹Ÿä¼šè¢«ä¿®æ”¹. è¿™æ„å‘³ç€æ¯æ¡è®°å½•çš„INSERT , DELETE , UPDATEå°†ä¸ºæ­¤å¤šä»˜å‡º4 , 5 æ¬¡çš„ç£ç›˜I/O . å› ä¸ºç´¢å¼•éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´å’Œå¤„ç†,é‚£äº›ä¸å¿…è¦çš„ç´¢å¼•åè€Œä¼šä½¿æŸ¥è¯¢ååº”æ—¶é—´å˜æ…¢.ã€‚å®šæœŸçš„é‡æž„ç´¢å¼•æ˜¯æœ‰å¿…è¦çš„.ï¼š 1ALTER INDEX &lt;INDEXNAME&gt; REBUILD &lt;TABLESPACENAME&gt; 18ã€ç”¨EXISTSæ›¿æ¢DISTINCTå½“æäº¤ä¸€ä¸ªåŒ…å«ä¸€å¯¹å¤šè¡¨ä¿¡æ¯(æ¯”å¦‚éƒ¨é—¨è¡¨å’Œé›‡å‘˜è¡¨)çš„æŸ¥è¯¢æ—¶,é¿å…åœ¨SELECTå­å¥ä¸­ä½¿ç”¨DISTINCT. ä¸€èˆ¬å¯ä»¥è€ƒè™‘ç”¨EXISTæ›¿æ¢, EXISTS ä½¿æŸ¥è¯¢æ›´ä¸ºè¿…é€Ÿ,å› ä¸ºRDBMSæ ¸å¿ƒæ¨¡å—å°†åœ¨å­æŸ¥è¯¢çš„æ¡ä»¶ä¸€æ—¦æ»¡è¶³åŽ,ç«‹åˆ»è¿”å›žç»“æžœ. ä¾‹å­ï¼š 1234567891011ä½Žæ•ˆï¼šSELECT DISTINCT DEPT_NO,DEPT_NAME FROM DEPT D , EMP EWHERE D.DEPT_NO = E.DEPT_NOé«˜æ•ˆï¼šSELECT DEPT_NO,DEPT_NAME FROM DEPT D WHERE EXISTS ( SELECT â€˜X'FROM EMP E WHERE E.DEPT_NO = D.DEPT_NO); 19ã€sqlè¯­å¥ç”¨å¤§å†™çš„ï¼›å› ä¸ºoracleæ€»æ˜¯å…ˆè§£æžsqlè¯­å¥ï¼ŒæŠŠå°å†™çš„å­—æ¯è½¬æ¢æˆå¤§å†™çš„å†æ‰§è¡Œ20ã€åœ¨javaä»£ç ä¸­å°½é‡å°‘ç”¨è¿žæŽ¥ç¬¦â€œï¼‹â€è¿žæŽ¥å­—ç¬¦ä¸²ï¼21ã€é¿å…åœ¨ç´¢å¼•åˆ—ä¸Šä½¿ç”¨NOT é€šå¸¸æˆ‘ä»¬è¦é¿å…åœ¨ç´¢å¼•åˆ—ä¸Šä½¿ç”¨NOT, NOTä¼šäº§ç”Ÿåœ¨å’Œåœ¨ç´¢å¼•åˆ—ä¸Šä½¿ç”¨å‡½æ•°ç›¸åŒçš„å½±å“. å½“ORACLEâ€é‡åˆ°â€NOT,ä»–å°±ä¼šåœæ­¢ä½¿ç”¨ç´¢å¼•è½¬è€Œæ‰§è¡Œå…¨è¡¨æ‰«æ. 22ã€é¿å…åœ¨ç´¢å¼•åˆ—ä¸Šä½¿ç”¨è®¡ç®—WHEREå­å¥ä¸­ï¼Œå¦‚æžœç´¢å¼•åˆ—æ˜¯å‡½æ•°çš„ä¸€éƒ¨åˆ†ï¼Žä¼˜åŒ–å™¨å°†ä¸ä½¿ç”¨ç´¢å¼•è€Œä½¿ç”¨å…¨è¡¨æ‰«æï¼Ž ä¸¾ä¾‹: 1234567ä½Žæ•ˆï¼šSELECT â€¦ FROM DEPT WHERE SAL * 12 &gt; 25000;é«˜æ•ˆ:SELECT â€¦ FROM DEPT WHERE SAL &gt; 25000/12; 23ã€ç”¨&gt;=æ›¿ä»£&gt;1234567é«˜æ•ˆ:SELECT * FROM EMP WHERE DEPTNO &gt;=4ä½Žæ•ˆ:SELECT * FROM EMP WHERE DEPTNO &gt;3 ä¸¤è€…çš„åŒºåˆ«åœ¨äºŽ, å‰è€…DBMSå°†ç›´æŽ¥è·³åˆ°ç¬¬ä¸€ä¸ªDEPTç­‰äºŽ4çš„è®°å½•è€ŒåŽè€…å°†é¦–å…ˆå®šä½åˆ°DEPTNO=3çš„è®°å½•å¹¶ä¸”å‘å‰æ‰«æåˆ°ç¬¬ä¸€ä¸ªDEPTå¤§äºŽ3çš„è®°å½•. 24ã€ç”¨UNIONæ›¿æ¢OR (é€‚ç”¨äºŽç´¢å¼•åˆ—)é€šå¸¸æƒ…å†µä¸‹, ç”¨UNIONæ›¿æ¢WHEREå­å¥ä¸­çš„ORå°†ä¼šèµ·åˆ°è¾ƒå¥½çš„æ•ˆæžœ. å¯¹ç´¢å¼•åˆ—ä½¿ç”¨ORå°†é€ æˆå…¨è¡¨æ‰«æ. æ³¨æ„, ä»¥ä¸Šè§„åˆ™åªé’ˆå¯¹å¤šä¸ªç´¢å¼•åˆ—æœ‰æ•ˆ. å¦‚æžœæœ‰columnæ²¡æœ‰è¢«ç´¢å¼•, æŸ¥è¯¢æ•ˆçŽ‡å¯èƒ½ä¼šå› ä¸ºä½ æ²¡æœ‰é€‰æ‹©ORè€Œé™ä½Ž. åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­, LOC_ID å’ŒREGIONä¸Šéƒ½å»ºæœ‰ç´¢å¼•. 1234567891011121314151617181920212223é«˜æ•ˆ:SELECT LOC_ID , LOC_DESC , REGIONFROM LOCATIONWHERE LOC_ID = 10UNIONSELECT LOC_ID , LOC_DESC , REGIONFROM LOCATIONWHERE REGION = â€œMELBOURNEâ€ä½Žæ•ˆï¼šSELECT LOC_ID , LOC_DESC , REGIONFROM LOCATIONWHERE LOC_ID = 10 OR REGION = â€œMELBOURNEâ€ å¦‚æžœä½ åšæŒè¦ç”¨OR, é‚£å°±éœ€è¦è¿”å›žè®°å½•æœ€å°‘çš„ç´¢å¼•åˆ—å†™åœ¨æœ€å‰é¢. 25ã€ç”¨INæ¥æ›¿æ¢OR è¿™æ˜¯ä¸€æ¡ç®€å•æ˜“è®°çš„è§„åˆ™ï¼Œä½†æ˜¯å®žé™…çš„æ‰§è¡Œæ•ˆæžœè¿˜é¡»æ£€éªŒï¼Œåœ¨ORACLE8iä¸‹ï¼Œä¸¤è€…çš„æ‰§è¡Œè·¯å¾„ä¼¼ä¹Žæ˜¯ç›¸åŒçš„ï¼Ž 1234567ä½Žæ•ˆ:SELECTâ€¦. FROM LOCATION WHERE LOC_ID = 10 OR LOC_ID = 20 OR LOC_ID = 30é«˜æ•ˆSELECTâ€¦ FROM LOCATION WHERE LOC_IN IN (10,20,30); 26ã€é¿å…åœ¨ç´¢å¼•åˆ—ä¸Šä½¿ç”¨IS NULLå’ŒIS NOT NULLé¿å…åœ¨ç´¢å¼•ä¸­ä½¿ç”¨ä»»ä½•å¯ä»¥ä¸ºç©ºçš„åˆ—ï¼ŒORACLEå°†æ— æ³•ä½¿ç”¨è¯¥ç´¢å¼•ï¼Žå¯¹äºŽå•åˆ—ç´¢å¼•ï¼Œå¦‚æžœåˆ—åŒ…å«ç©ºå€¼ï¼Œç´¢å¼•ä¸­å°†ä¸å­˜åœ¨æ­¤è®°å½•. å¯¹äºŽå¤åˆç´¢å¼•ï¼Œå¦‚æžœæ¯ä¸ªåˆ—éƒ½ä¸ºç©ºï¼Œç´¢å¼•ä¸­åŒæ ·ä¸å­˜åœ¨æ­¤è®°å½•. å¦‚æžœè‡³å°‘æœ‰ä¸€ä¸ªåˆ—ä¸ä¸ºç©ºï¼Œåˆ™è®°å½•å­˜åœ¨äºŽç´¢å¼•ä¸­ï¼Žä¸¾ä¾‹: å¦‚æžœå”¯ä¸€æ€§ç´¢å¼•å»ºç«‹åœ¨è¡¨çš„Aåˆ—å’ŒBåˆ—ä¸Š, å¹¶ä¸”è¡¨ä¸­å­˜åœ¨ä¸€æ¡è®°å½•çš„A,Bå€¼ä¸º(123,null) , ORACLEå°†ä¸æŽ¥å—ä¸‹ä¸€æ¡å…·æœ‰ç›¸åŒA,Bå€¼ï¼ˆ123,nullï¼‰çš„è®°å½•(æ’å…¥). ç„¶è€Œå¦‚æžœæ‰€æœ‰çš„ç´¢å¼•åˆ—éƒ½ä¸ºç©ºï¼ŒORACLEå°†è®¤ä¸ºæ•´ä¸ªé”®å€¼ä¸ºç©ºè€Œç©ºä¸ç­‰äºŽç©º. å› æ­¤ä½ å¯ä»¥æ’å…¥1000 æ¡å…·æœ‰ç›¸åŒé”®å€¼çš„è®°å½•,å½“ç„¶å®ƒä»¬éƒ½æ˜¯ç©º! å› ä¸ºç©ºå€¼ä¸å­˜åœ¨äºŽç´¢å¼•åˆ—ä¸­,æ‰€ä»¥WHEREå­å¥ä¸­å¯¹ç´¢å¼•åˆ—è¿›è¡Œç©ºå€¼æ¯”è¾ƒå°†ä½¿ORACLEåœç”¨è¯¥ç´¢å¼•. 1234567ä½Žæ•ˆ: (ç´¢å¼•å¤±æ•ˆ)SELECT â€¦ FROM DEPARTMENT WHERE DEPT_CODE IS NOT NULL;é«˜æ•ˆ: (ç´¢å¼•æœ‰æ•ˆ)SELECT â€¦ FROM DEPARTMENT WHERE DEPT_CODE &gt;=0; 27ã€ æ€»æ˜¯ä½¿ç”¨ç´¢å¼•çš„ç¬¬ä¸€ä¸ªåˆ—å¦‚æžœç´¢å¼•æ˜¯å»ºç«‹åœ¨å¤šä¸ªåˆ—ä¸Š, åªæœ‰åœ¨å®ƒçš„ç¬¬ä¸€ä¸ªåˆ—(leading column)è¢«whereå­å¥å¼•ç”¨æ—¶,ä¼˜åŒ–å™¨æ‰ä¼šé€‰æ‹©ä½¿ç”¨è¯¥ç´¢å¼•. è¿™ä¹Ÿæ˜¯ä¸€æ¡ç®€å•è€Œé‡è¦çš„è§„åˆ™ï¼Œå½“ä»…å¼•ç”¨ç´¢å¼•çš„ç¬¬äºŒä¸ªåˆ—æ—¶,ä¼˜åŒ–å™¨ä½¿ç”¨äº†å…¨è¡¨æ‰«æè€Œå¿½ç•¥äº†ç´¢å¼• 28ã€ç”¨UNION-ALL æ›¿æ¢UNION ( å¦‚æžœæœ‰å¯èƒ½çš„è¯)å½“SQL è¯­å¥éœ€è¦UNIONä¸¤ä¸ªæŸ¥è¯¢ç»“æžœé›†åˆæ—¶,è¿™ä¸¤ä¸ªç»“æžœé›†åˆä¼šä»¥UNION-ALLçš„æ–¹å¼è¢«åˆå¹¶, ç„¶åŽåœ¨è¾“å‡ºæœ€ç»ˆç»“æžœå‰è¿›è¡ŒæŽ’åº. å¦‚æžœç”¨UNION ALLæ›¿ä»£UNION, è¿™æ ·æŽ’åºå°±ä¸æ˜¯å¿…è¦äº†. æ•ˆçŽ‡å°±ä¼šå› æ­¤å¾—åˆ°æé«˜. éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒUNION ALL å°†é‡å¤è¾“å‡ºä¸¤ä¸ªç»“æžœé›†åˆä¸­ç›¸åŒè®°å½•. å› æ­¤å„ä½è¿˜æ˜¯è¦ä»Žä¸šåŠ¡éœ€æ±‚åˆ†æžä½¿ç”¨UNION ALLçš„å¯è¡Œæ€§. UNION å°†å¯¹ç»“æžœé›†åˆæŽ’åº,è¿™ä¸ªæ“ä½œä¼šä½¿ç”¨åˆ°SORT_AREA_SIZEè¿™å—å†…å­˜. å¯¹äºŽè¿™å—å†…å­˜çš„ä¼˜åŒ–ä¹Ÿæ˜¯ç›¸å½“é‡è¦çš„. ä¸‹é¢çš„SQLå¯ä»¥ç”¨æ¥æŸ¥è¯¢æŽ’åºçš„æ¶ˆè€—é‡ 12345678910111213141516171819202122232425262728293031ä½Žæ•ˆï¼šSELECT ACCT_NUM, BALANCE_AMTFROM DEBIT_TRANSACTIONSWHERE TRAN_DATE = '31-DEC-95'UNIONSELECT ACCT_NUM, BALANCE_AMTFROM DEBIT_TRANSACTIONSWHERE TRAN_DATE = '31-DEC-95'é«˜æ•ˆ:SELECT ACCT_NUM, BALANCE_AMTFROM DEBIT_TRANSACTIONSWHERE TRAN_DATE = '31-DEC-95'UNION ALLSELECT ACCT_NUM, BALANCE_AMTFROM DEBIT_TRANSACTIONSWHERE TRAN_DATE = '31-DEC-95' 29ã€ç”¨WHEREæ›¿ä»£ORDER BYï¼šORDER BY å­å¥åªåœ¨ä¸¤ç§ä¸¥æ ¼çš„æ¡ä»¶ä¸‹ä½¿ç”¨ç´¢å¼•. ORDER BYä¸­æ‰€æœ‰çš„åˆ—å¿…é¡»åŒ…å«åœ¨ç›¸åŒçš„ç´¢å¼•ä¸­å¹¶ä¿æŒåœ¨ç´¢å¼•ä¸­çš„æŽ’åˆ—é¡ºåº. ORDER BYä¸­æ‰€æœ‰çš„åˆ—å¿…é¡»å®šä¹‰ä¸ºéžç©º. WHEREå­å¥ä½¿ç”¨çš„ç´¢å¼•å’ŒORDER BYå­å¥ä¸­æ‰€ä½¿ç”¨çš„ç´¢å¼•ä¸èƒ½å¹¶åˆ—. ä¾‹å¦‚: è¡¨DEPTåŒ…å«ä»¥ä¸‹åˆ—: DEPT_CODE PK NOT NULL DEPT_DESC NOT NULL DEPT_TYPE NULL 1234567ä½Žæ•ˆ: (ç´¢å¼•ä¸è¢«ä½¿ç”¨)SELECT DEPT_CODE FROM DEPT ORDER BY DEPT_TYPEé«˜æ•ˆ: (ä½¿ç”¨ç´¢å¼•)SELECT DEPT_CODE FROM DEPT WHERE DEPT_TYPE &gt; 0 30ã€é¿å…æ”¹å˜ç´¢å¼•åˆ—çš„ç±»åž‹å½“æ¯”è¾ƒä¸åŒæ•°**æ®ç±»åž‹çš„æ•°æ®æ—¶, ORACLEè‡ªåŠ¨å¯¹åˆ—è¿›è¡Œç®€å•çš„ç±»åž‹è½¬æ¢. å‡è®¾ EMPNOæ˜¯ä¸€ä¸ªæ•°å€¼ç±»åž‹çš„ç´¢å¼•åˆ—. 1SELECT â€¦ FROM EMP WHERE EMPNO = â€˜123' å®žé™…ä¸Š,ç»è¿‡ORACLEç±»åž‹è½¬æ¢, è¯­å¥è½¬åŒ–ä¸º: 1SELECT â€¦ FROM EMP WHERE EMPNO = TO_NUMBER(â€˜123') å¹¸è¿çš„æ˜¯,ç±»åž‹è½¬æ¢æ²¡æœ‰å‘ç”Ÿåœ¨ç´¢å¼•åˆ—ä¸Š,ç´¢å¼•çš„ç”¨é€”æ²¡æœ‰è¢«æ”¹å˜. çŽ°åœ¨,å‡è®¾EMP_TYPEæ˜¯ä¸€ä¸ªå­—ç¬¦ç±»åž‹çš„ç´¢å¼•åˆ—. 1SELECT â€¦ FROM EMP WHERE EMP_TYPE = 123 è¿™ä¸ªè¯­å¥è¢«ORACLEè½¬æ¢ä¸º: 1SELECT â€¦ FROM EMP WHERETO_NUMBER(EMP_TYPE)=123 å› ä¸ºå†…éƒ¨å‘ç”Ÿçš„ç±»åž‹è½¬æ¢, è¿™ä¸ªç´¢å¼•å°†ä¸ä¼šè¢«ç”¨åˆ°! ä¸ºäº†é¿å…ORACLEå¯¹ä½ çš„SQLè¿›è¡Œéšå¼çš„ç±»åž‹è½¬æ¢, æœ€å¥½æŠŠç±»åž‹è½¬æ¢ç”¨æ˜¾å¼è¡¨çŽ°å‡ºæ¥. æ³¨æ„å½“å­—ç¬¦å’Œæ•°å€¼æ¯”è¾ƒæ—¶, ORACLEä¼šä¼˜å…ˆè½¬æ¢æ•°å€¼ç±»åž‹åˆ°å­—ç¬¦ç±»åž‹ 31ã€éœ€è¦å½“å¿ƒçš„WHEREå­å¥æŸäº›SELECT è¯­å¥ä¸­çš„WHEREå­å¥ä¸ä½¿ç”¨ç´¢å¼•. è¿™é‡Œæœ‰ä¸€äº›ä¾‹å­. åœ¨ä¸‹é¢çš„ä¾‹å­é‡Œ, (1)â€˜!=â€™ å°†ä¸ä½¿ç”¨ç´¢å¼•. è®°ä½, ç´¢å¼•åªèƒ½å‘Šè¯‰ä½ ä»€ä¹ˆå­˜åœ¨äºŽè¡¨ä¸­, è€Œä¸èƒ½å‘Šè¯‰ä½ ä»€ä¹ˆä¸å­˜åœ¨äºŽè¡¨ä¸­. (2) â€˜ | |â€™æ˜¯å­—ç¬¦è¿žæŽ¥å‡½æ•°. å°±è±¡å…¶ä»–å‡½æ•°é‚£æ ·, åœç”¨äº†ç´¢å¼•. (3) â€˜+â€™æ˜¯æ•°å­¦å‡½æ•°. å°±è±¡å…¶ä»–æ•°å­¦å‡½æ•°é‚£æ ·, åœç”¨äº†ç´¢å¼•. (4)ç›¸åŒçš„ç´¢å¼•åˆ—ä¸èƒ½äº’ç›¸æ¯”è¾ƒ,è¿™å°†ä¼šå¯ç”¨å…¨è¡¨æ‰«æ. 32ã€a. å¦‚æžœæ£€ç´¢æ•°æ®é‡è¶…è¿‡30%çš„è¡¨ä¸­è®°å½•æ•°.ä½¿ç”¨ç´¢å¼•å°†æ²¡æœ‰æ˜¾è‘—çš„æ•ˆçŽ‡æé«˜b. åœ¨ç‰¹å®šæƒ…å†µä¸‹, ä½¿ç”¨ç´¢å¼•ä¹Ÿè®¸ä¼šæ¯”å…¨è¡¨æ‰«ææ…¢, ä½†è¿™æ˜¯åŒä¸€ä¸ªæ•°é‡çº§ä¸Šçš„åŒºåˆ«. è€Œé€šå¸¸æƒ…å†µä¸‹,ä½¿ç”¨ç´¢å¼•æ¯”å…¨è¡¨æ‰«æè¦å—å‡ å€ä¹ƒè‡³å‡ åƒå€! 33ã€é¿å…ä½¿ç”¨è€—è´¹èµ„æºçš„æ“ä½œå¸¦æœ‰DISTINCT,UNION,MINUS,INTERSECT,ORDER BYçš„SQLè¯­å¥ä¼šå¯åŠ¨SQLå¼•æ“Ž æ‰§è¡Œè€—è´¹èµ„æºçš„æŽ’åº(SORT)åŠŸèƒ½. DISTINCTéœ€è¦ä¸€æ¬¡æŽ’åºæ“ä½œ, è€Œå…¶ä»–çš„è‡³å°‘éœ€è¦æ‰§è¡Œä¸¤æ¬¡æŽ’åº. é€šå¸¸, å¸¦æœ‰UNION, MINUS , INTERSECTçš„SQLè¯­å¥éƒ½å¯ä»¥ç”¨å…¶ä»–æ–¹å¼é‡å†™. å¦‚æžœä½ çš„æ•°æ®åº“çš„SORT_AREA_SIZEè°ƒé…å¾—å¥½, ä½¿ç”¨UNION , MINUS, INTERSECTä¹Ÿæ˜¯å¯ä»¥è€ƒè™‘çš„, æ¯•ç«Ÿå®ƒä»¬çš„å¯è¯»æ€§å¾ˆå¼º 34ã€ä¼˜åŒ–GROUP BYæé«˜GROUP BY è¯­å¥çš„æ•ˆçŽ‡, å¯ä»¥é€šè¿‡å°†ä¸éœ€è¦çš„è®°å½•åœ¨GROUP BY ä¹‹å‰è¿‡æ»¤æŽ‰.ä¸‹é¢ä¸¤ä¸ªæŸ¥è¯¢è¿”å›žç›¸åŒç»“æžœä½†ç¬¬äºŒä¸ªæ˜Žæ˜¾å°±å¿«äº†è®¸å¤š. 1234567891011121314151617181920212223ä½Žæ•ˆ:SELECT JOB , AVG(SAL)FROM EMPGROUP by JOBHAVING JOB = â€˜PRESIDENT'OR JOB = â€˜MANAGER'é«˜æ•ˆ:SELECT JOB , AVG(SAL)FROM EMPWHERE JOB = â€˜PRESIDENT'OR JOB = â€˜MANAGER'GROUP by JOB 35ã€Select Count (*)å’ŒSelect Count(1) åŒºåˆ«ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒSelect Count (*)å’ŒSelect Count(1)ä¸¤ç€è¿”å›žç»“æžœæ˜¯ä¸€æ ·çš„ å‡å¦‚è¡¨æ²’æœ‰ä¸»é”®(Primary key), é‚£ä¹ˆcount(1)æ¯”count(*)å¿«ï¼Œ å¦‚æžœæœ‰ä¸»é”®çš„è©±ï¼Œé‚£ä¸»é”®ä½œä¸ºcountçš„æ¡ä»¶æ—¶å€™count(ä¸»é”®)æœ€å¿« å¦‚æžœä½ çš„è¡¨åªæœ‰ä¸€ä¸ªå­—æ®µçš„è¯é‚£count(*)å°±æ˜¯æœ€å¿«çš„ count(*) è·Ÿ count(1) çš„ç»“æžœä¸€æ ·ï¼Œéƒ½åŒ…æ‹¬å¯¹NULLçš„ç»Ÿè®¡ï¼Œè€Œcount(column) æ˜¯ä¸åŒ…æ‹¬NULLçš„ç»Ÿè®¡ selelct å¸¸é‡ from â€¦ å¯¹åº”æ‰€æœ‰è¡Œï¼Œè¿”å›žçš„æ°¸è¿œåªæœ‰ä¸€ä¸ªå€¼ï¼Œå³å¸¸é‡ ã€‚æ‰€ä»¥æ­£å¸¸åªä¼šç”¨æ¥åˆ¤æ–­æ˜¯å¦æœ‰è¿˜æ˜¯æ²¡æœ‰ï¼ˆæ¯”å¦‚existså­å¥ï¼‰ã€‚è€Œselect * from â€¦ æ˜¯è¿”å›žæ‰€æœ‰è¡Œçš„æ‰€æœ‰åˆ—ã€‚ æ€§èƒ½ä¸Šçš„å·®å¼‚ï¼Œå…³é”®çœ‹ä½ çš„fromå’Œwhereå­å¥ã€‚æ¯”å¦‚è¯´å¦‚æžœä½ çš„whereæ¡ä»¶ä¸­å¯ä»¥é€šè¿‡ç´¢å¼•ï¼Œé‚£æ˜¾ç„¶ select 1 from â€¦ çš„æ€§èƒ½æ¯” select * from â€¦ å¥½ã€‚ select count(*)è¿”å›žæ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„è®°å½•æ•°ï¼Œæ­¤æ—¶åŒselect sum(1) ä½†æ˜¯sum()å¯ä»¥ä¼ ä»»æ„æ•°å­—ï¼Œè´Ÿæ•°ã€æµ®ç‚¹æ•°éƒ½å¯ä»¥ï¼Œè¿”å›žçš„å€¼æ˜¯ä¼ å…¥å€¼n*æ»¡è¶³æ¡ä»¶è®°å½•æ•°m 36ã€IS NULL ä¸Ž IS NOT NULLä¸èƒ½ç”¨nullä½œç´¢å¼•ï¼Œä»»ä½•åŒ…å«nullå€¼çš„åˆ—éƒ½å°†ä¸ä¼šè¢«åŒ…å«åœ¨ç´¢å¼•ä¸­ã€‚å³ä½¿ç´¢å¼•æœ‰å¤šåˆ—è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œåªè¦è¿™äº›åˆ—ä¸­æœ‰ä¸€åˆ—å«æœ‰nullï¼Œè¯¥åˆ—å°±ä¼šä»Žç´¢å¼•ä¸­æŽ’é™¤ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æžœæŸåˆ—å­˜åœ¨ç©ºå€¼ï¼Œå³ä½¿å¯¹è¯¥åˆ—å»ºç´¢å¼•ä¹Ÿä¸ä¼šæé«˜æ€§èƒ½ã€‚ ä»»ä½•åœ¨whereå­å¥ä¸­ä½¿ç”¨is nullæˆ–is not nullçš„è¯­å¥ä¼˜åŒ–å™¨æ˜¯ä¸å…è®¸ä½¿ç”¨ç´¢å¼•çš„ã€‚ 37ã€è”æŽ¥åˆ—å¯¹äºŽæœ‰è”æŽ¥çš„åˆ—ï¼Œå³ä½¿æœ€åŽçš„è”æŽ¥å€¼ä¸ºä¸€ä¸ªé™æ€å€¼ï¼Œä¼˜åŒ–å™¨æ˜¯ä¸ä¼šä½¿ç”¨ç´¢å¼•çš„ã€‚æˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œå‡å®šæœ‰ä¸€ä¸ªèŒå·¥è¡¨(employee)ï¼Œå¯¹äºŽä¸€ä¸ªèŒå·¥çš„å§“å’Œååˆ†æˆä¸¤åˆ—å­˜æ”¾(FIRST_NAMEå’ŒLAST_NAME)ï¼ŒçŽ°åœ¨è¦æŸ¥è¯¢ä¸€ä¸ªå«æ¯”å°”.å…‹æž—é¡¿(Bill Cliton)çš„èŒå·¥ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªé‡‡ç”¨è”æŽ¥æŸ¥è¯¢çš„SQLè¯­å¥ï¼Œ 1select * from employss where first_name||''||last_name ='Beill Cliton'; â€‹ ä¸Šé¢è¿™æ¡è¯­å¥å®Œå…¨å¯ä»¥æŸ¥è¯¢å‡ºæ˜¯å¦æœ‰Bill Clitonè¿™ä¸ªå‘˜å·¥ï¼Œä½†æ˜¯è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œç³»ç»Ÿä¼˜åŒ–å™¨å¯¹åŸºäºŽlast_nameåˆ›å»ºçš„ç´¢å¼•æ²¡æœ‰ä½¿ç”¨ã€‚ å½“é‡‡ç”¨ä¸‹é¢è¿™ç§SQLè¯­å¥çš„ç¼–å†™ï¼ŒOracleç³»ç»Ÿå°±å¯ä»¥é‡‡ç”¨åŸºäºŽlast_nameåˆ›å»ºçš„ç´¢å¼•ã€‚ 1*** where first_name ='Beill' and last_name ='Cliton'; å¸¦é€šé…ç¬¦(%)çš„likeè¯­å¥ åŒæ ·ä»¥ä¸Šé¢çš„ä¾‹å­æ¥çœ‹è¿™ç§æƒ…å†µã€‚ç›®å‰çš„éœ€æ±‚æ˜¯è¿™æ ·çš„ï¼Œè¦æ±‚åœ¨èŒå·¥è¡¨ä¸­æŸ¥è¯¢åå­—ä¸­åŒ…å«clitonçš„äººã€‚å¯ä»¥é‡‡ç”¨å¦‚ä¸‹çš„æŸ¥è¯¢SQLè¯­å¥: 1select * from employee where last_name like '%cliton%'; è¿™é‡Œç”±äºŽé€šé…ç¬¦(%)åœ¨æœå¯»è¯é¦–å‡ºçŽ°ï¼Œæ‰€ä»¥Oracleç³»ç»Ÿä¸ä½¿ç”¨last_nameçš„ç´¢å¼•ã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹å¯èƒ½æ— æ³•é¿å…è¿™ç§æƒ…å†µï¼Œä½†æ˜¯ä¸€å®šè¦å¿ƒä¸­æœ‰åº•ï¼Œé€šé…ç¬¦å¦‚æ­¤ä½¿ç”¨ä¼šé™ä½ŽæŸ¥è¯¢é€Ÿåº¦ã€‚ç„¶è€Œå½“é€šé…ç¬¦å‡ºçŽ°åœ¨å­—ç¬¦ä¸²å…¶ä»–ä½ç½®æ—¶ï¼Œä¼˜åŒ–å™¨å°±èƒ½åˆ©ç”¨ç´¢å¼•ã€‚åœ¨ä¸‹é¢çš„æŸ¥è¯¢ä¸­ç´¢å¼•å¾—åˆ°äº†ä½¿ç”¨: 1select * from employee where last_name like 'c%'; 38ã€Order byè¯­å¥ORDER BYè¯­å¥å†³å®šäº†Oracleå¦‚ä½•å°†è¿”å›žçš„æŸ¥è¯¢ç»“æžœæŽ’åºã€‚Order byè¯­å¥å¯¹è¦æŽ’åºçš„åˆ—æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„é™åˆ¶ï¼Œä¹Ÿå¯ä»¥å°†å‡½æ•°åŠ å…¥åˆ—ä¸­(è±¡è”æŽ¥æˆ–è€…é™„åŠ ç­‰)ã€‚ä»»ä½•åœ¨Order byè¯­å¥çš„éžç´¢å¼•é¡¹æˆ–è€…æœ‰è®¡ç®—è¡¨è¾¾å¼éƒ½å°†é™ä½ŽæŸ¥è¯¢é€Ÿåº¦ã€‚ ä»”ç»†æ£€æŸ¥order byè¯­å¥ä»¥æ‰¾å‡ºéžç´¢å¼•é¡¹æˆ–è€…è¡¨è¾¾å¼ï¼Œå®ƒä»¬ä¼šé™ä½Žæ€§èƒ½ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠžæ³•å°±æ˜¯é‡å†™order byè¯­å¥ä»¥ä½¿ç”¨ç´¢å¼•ï¼Œä¹Ÿå¯ä»¥ä¸ºæ‰€ä½¿ç”¨çš„åˆ—å»ºç«‹å¦å¤–ä¸€ä¸ªç´¢å¼•ï¼ŒåŒæ—¶åº”ç»å¯¹é¿å…åœ¨order byå­å¥ä¸­ä½¿ç”¨è¡¨è¾¾å¼ã€‚ 39ã€ NOTæˆ‘ä»¬åœ¨æŸ¥è¯¢æ—¶ç»å¸¸åœ¨whereå­å¥ä½¿ç”¨ä¸€äº›é€»è¾‘è¡¨è¾¾å¼ï¼Œå¦‚å¤§äºŽã€å°äºŽã€ç­‰äºŽä»¥åŠä¸ç­‰äºŽç­‰ç­‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨and(ä¸Ž)ã€or(æˆ–)ä»¥åŠnot(éž)ã€‚NOTå¯ç”¨æ¥å¯¹ä»»ä½•é€»è¾‘è¿ç®—ç¬¦å·å–åã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªNOTå­å¥çš„ä¾‹å­: 1... where not (status ='VALID') å¦‚æžœè¦ä½¿ç”¨NOTï¼Œåˆ™åº”åœ¨å–åçš„çŸ­è¯­å‰é¢åŠ ä¸Šæ‹¬å·ï¼Œå¹¶åœ¨çŸ­è¯­å‰é¢åŠ ä¸ŠNOTè¿ç®—ç¬¦ã€‚NOTè¿ç®—ç¬¦åŒ…å«åœ¨å¦å¤–ä¸€ä¸ªé€»è¾‘è¿ç®—ç¬¦ä¸­ï¼Œè¿™å°±æ˜¯ä¸ç­‰äºŽ(&lt;&gt;)è¿ç®—ç¬¦ã€‚æ¢å¥è¯è¯´ï¼Œå³ä½¿ä¸åœ¨æŸ¥è¯¢whereå­å¥ä¸­æ˜¾å¼åœ°åŠ å…¥NOTè¯ï¼ŒNOTä»åœ¨è¿ç®—ç¬¦ä¸­ï¼Œè§ä¸‹ä¾‹: 1... where status &lt;&gt;'INVALID'; å¯¹è¿™ä¸ªæŸ¥è¯¢ï¼Œå¯ä»¥æ”¹å†™ä¸ºä¸ä½¿ç”¨NOT: 1select * from employee where salary&lt;3000 or salary&gt;3000; è™½ç„¶è¿™ä¸¤ç§æŸ¥è¯¢çš„ç»“æžœä¸€æ ·ï¼Œä½†æ˜¯ç¬¬äºŒç§æŸ¥è¯¢æ–¹æ¡ˆä¼šæ¯”ç¬¬ä¸€ç§æŸ¥è¯¢æ–¹æ¡ˆæ›´å¿«äº›ã€‚ç¬¬äºŒç§æŸ¥è¯¢å…è®¸Oracleå¯¹salaryåˆ—ä½¿ç”¨ç´¢å¼•ï¼Œè€Œç¬¬ä¸€ç§æŸ¥è¯¢åˆ™ä¸èƒ½ä½¿ç”¨ç´¢å¼•ã€‚]]></content>
      <categories>
        <category>Oracle</category>
      </categories>
      <tags>
        <tag>SQLä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€æŽ¨èã€‘Hexo çš„ Next ä¸»é¢˜ä¼˜åŒ–/ä¸ªæ€§åŒ–]]></title>
    <url>%2Fblog%2F2017-06-06.Hexo-theme-next-optimize%2F</url>
    <content type="text"><![CDATA[å‚è€ƒè‡ªï¼š Hexo å®˜æ–¹ Doc NexT å®˜æ–¹ Doc ã€ä¸»è¦æ¥æºã€‘hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–æ•™ç¨‹:æ‰“é€ ç‚«é…·ç½‘ç«™ Hexoå¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ hexoä¼˜åŒ– 0. åŸºæœ¬é…ç½®éƒ¨ç½²åˆ°å¤šå¹³å° å‚è€ƒ ï¼š å°†hexo-githubåšå®¢åŒæ­¥æ‰˜ç®¡è‡³coding ç”±äºŽç™¾åº¦èœ˜è››æŠŠgithubå±è”½äº†ï¼Œå¯¼è‡´ç™¾åº¦æœä¸åˆ°åšå®¢æ–‡ç« ï¼Œlet me feel a little unhappyï¼Œä¸ºäº†æ‰©å¤§ç½‘ç«™æ”¶å½•çŽ‡ï¼Œæˆ‘å°†hexo-githubåšå®¢åŒæ­¥æ‰˜ç®¡åˆ°å›½å†…codingä¸Šã€‚ Hexoæä¾›äº†hexo-deployer-gitå·¥å…·ï¼Œå¯ä»¥å¸®åŠ©éƒ¨ç½²Hexoåˆ°å¾ˆå¤šå¹³å°ã€‚ 1$ npm install hexo-deployer-git --save ä¿®æ”¹_config.ymlä¸­çš„é…ç½®ï¼š 123456deploy: type: git repo: coding: git@git.coding.net:yafey/blog.git github: git@github.com:yafey/blog.git branch: master ç„¶åŽæ‰§è¡Œå‘½ä»¤ï¼š 12hexo g # ç”Ÿæˆï¼Œ hexo generate çš„ç¼©å†™hexo d # éƒ¨ç½²ï¼Œ hexo deploy çš„ç¼©å†™ ä»¥ä¸‹å‚è€ƒè‡ª ï¼š Hexoåšå®¢æ­å»ºä¹‹ä½¿ç”¨Hexo+GitHubæ­å»ºä¸ªäººåšå®¢ åœ¨ä½¿ç”¨æ¡†æž¶æ—¶ï¼Œä¼šå¸¸ç”¨åˆ°ä»¥ä¸‹å‡ ä¸ªå‘½ä»¤ï¼š 12345$ hexo generate // ç®€å†™ï¼šhexo gï¼Œç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªpublicæ–‡ä»¶å¤¹$ hexo server // ç®€å†™ï¼šhexo sï¼Œå¯åŠ¨æœ¬åœ°æœåŠ¡ï¼Œç”¨äºŽåšå®¢çš„é¢„è§ˆ$ hexo deploy // ç®€å†™ï¼šhexo dï¼Œéƒ¨ç½²åˆ°è¿œç¨‹ï¼ˆå¦‚GitHubï¼Œå¯ä»¥åœ¨_config.ymlä¸­é…ç½®ï¼‰$ hexo new post-name // ç®€å†™ï¼šhexo n post-nameï¼Œ æ–°å»ºæ–‡ç« $ hexo new page page-name //ç®€å†™ï¼šhexo n page page-nameï¼Œæ–°å»ºé¡µé¢ è¿˜æœ‰å¸¸ç”¨çš„ç»„åˆå‘½ä»¤ï¼š 12$ hexo d -g // ç”Ÿæˆå’Œéƒ¨ç½²$ hexo s -g // ç”Ÿæˆå’Œé¢„è§ˆ è‰ç¨¿å‘½ä»¤ï¼š 123$ hexo new draft &lt;title&gt; // æ–°å»ºè‰ç¨¿ï¼Œå­˜æ”¾åœ¨source/_drafts$ hexo publish post &lt;title&gt; // å‘å¸ƒè‰ç¨¿ä¸ºæ–‡ç« ï¼Œæ–‡ç« è½¬ç§»åˆ°source/_posts$ hexo s -g --drafts // æ˜¾ç¤ºè‰ç¨¿ ç®€å•å¿…è¦è®¾ç½® æ³¨æ„ï¼šé…ç½®æ–‡ä»¶è¦ç¬¦åˆè‹±æ–‡æ ‡ç‚¹ç¬¦å·ä½¿ç”¨è§„èŒƒ: å†’å·åŽå¿…é¡»ç©ºæ ¼ï¼Œå¦åˆ™ä¼šç¼–è¯‘é”™è¯¯ a. Hexo _config.yml ä¿®æ”¹è¯­è¨€ 123language: - zh-Hans # ä¸­æ–‡ - defaults b. next _config.yml ä¿®æ”¹ ä¸»é¢˜ 1scheme: Mist #æ•´æ´æœ‰åºçš„å•æ å¤–è§‚ ï¼Œ å³ä¾§è¾¹æ  c. ç½‘ç«™æ ‡é¢˜ï¼Œä½œè€…Hexo _config.yml ï¼Œä¿®æ”¹è¿™äº›å€¼ï¼š12345title: Y.a.F.e.Y Blog #åšå®¢æ ‡é¢˜subtitle: #åšå®¢å‰¯æ ‡é¢˜description: #åšå®¢æè¿°author: YaFey #ä½œè€…timezone: Asia/Chongqing d. åŸŸåï¼Œæ–‡ç« é“¾æŽ¥ Hexo _config.yml ï¼Œä¿®æ”¹è¿™äº›å€¼ï¼š1234url: http://xxx #ä½ çš„åšå®¢ç½‘å€root: /blog/ #åšå®¢è·Ÿç›®å½•ï¼Œå¦‚æžœä½ çš„åšå®¢åœ¨ç½‘å€çš„äºŒçº§ç›®å½•ä¸‹ï¼Œåœ¨è¿™é‡Œå¡«ä¸Špermalink: :year/:month/:day/:title/permalink_defaults: #å¯ä»¥ä¸å¡« e. åˆ›å»ºé¡µé¢ &amp; ä¿®æ”¹èœå• æ·»åŠ ã€Œæ ‡ç­¾ã€é¡µé¢ æ·»åŠ ã€Œåˆ†ç±»ã€é¡µé¢ æ ‡ç­¾ å’Œ åˆ†ç±» ç¦ç”¨è¯„è®º 123456---title: categories # è‹¥ æ ‡ç­¾ï¼Œ title ä¸º tagsdate: 2017-05-28 09:53:57type: "categories" # è‹¥ æ ‡ç­¾ï¼Œ å¼•å·å†… ä¸º tagscomments: false #ç¦ç”¨è¯„è®º--- 1. next ä¸»é¢˜ä¼˜åŒ– çœ‹åˆ°æœ‰äº›nextä¸»é¢˜çš„ç½‘ç«™å¾ˆç‚«é…·ï¼Œé‚£ä¹ˆæ˜¯æ€Žä¹ˆé…ç½®çš„å‘¢ï¼ŸæŽ¥ä¸‹æ¥æˆ‘ä¼šè®²ä¸€è®²å¦‚ä½•å®žçŽ°ä¸€äº›ç‚«é…·çš„æ•ˆæžœ ä¸»è¦æœ‰ä»¥ä¸‹29ç§ï¼š åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®žçŽ°fork me on github æ·»åŠ RSS æ·»åŠ åŠ¨æ€èƒŒæ™¯ å®žçŽ°ç‚¹å‡»å‡ºçŽ°æ¡ƒå¿ƒæ•ˆæžœ ä¿®æ”¹æ–‡ç« å†…é“¾æŽ¥æ–‡æœ¬æ ·å¼ ä¿®æ”¹æ–‡ç« åº•éƒ¨çš„é‚£ä¸ªå¸¦#å·çš„æ ‡ç­¾ åœ¨æ¯ç¯‡æ–‡ç« æœ«å°¾ç»Ÿä¸€æ·»åŠ â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®° ä¿®æ”¹ä½œè€…å¤´åƒå¹¶æ—‹è½¬ åšæ–‡åŽ‹ç¼© ä¿®æ”¹``ä»£ç å—è‡ªå®šä¹‰æ ·å¼ ä¾§è¾¹æ ç¤¾äº¤å°å›¾æ ‡è®¾ç½® ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæžœ åœ¨ç½‘ç«™åº•éƒ¨åŠ ä¸Šè®¿é—®é‡ æ·»åŠ çƒ­åº¦ ç½‘ç«™åº•éƒ¨å­—æ•°ç»Ÿè®¡ æ·»åŠ  README.md æ–‡ä»¶ è®¾ç½®ç½‘ç«™çš„å›¾æ ‡Favicon å®žçŽ°ç»Ÿè®¡åŠŸèƒ½ æ·»åŠ é¡¶éƒ¨åŠ è½½æ¡ åœ¨æ–‡ç« åº•éƒ¨å¢žåŠ ç‰ˆæƒä¿¡æ¯ æ·»åŠ ç½‘æ˜“äº‘è·Ÿå¸– éšè—ç½‘é¡µåº•éƒ¨powered By Hexo / å¼ºåŠ›é©±åŠ¨ ä¿®æ”¹ç½‘é¡µåº•éƒ¨çš„æ¡ƒå¿ƒ æ–‡ç« åŠ å¯†è®¿é—® æ·»åŠ jiathisåˆ†äº« åšæ–‡ç½®é¡¶ ä¿®æ”¹å­—ä½“å¤§å° ä¿®æ”¹æ‰“èµå­—ä½“ä¸é—ªåŠ¨ ä¾§è¾¹æ æŽ¨èé˜…è¯» 0. æ— ç—›ä½¿ç”¨å›¾ç‰‡å‚è€ƒå¦ä¸€ç¯‡æ–‡ç«  åœ¨ hexo ä¸­æ— ç—›ä½¿ç”¨æœ¬åœ°å›¾ç‰‡ 1. åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®žçŽ°fork me on githubå®žçŽ°æ•ˆæžœå›¾ å…·ä½“å®žçŽ°æ–¹æ³• ç‚¹å‡»è¿™é‡ŒæŒ‘é€‰è‡ªå·±å–œæ¬¢çš„æ ·å¼ï¼Œå¹¶å¤åˆ¶ä»£ç ã€‚ ä¾‹å¦‚ï¼Œæˆ‘æ˜¯å¤åˆ¶å¦‚ä¸‹ä»£ç ï¼šç„¶åŽç²˜è´´åˆšæ‰å¤åˆ¶çš„ä»£ç åˆ°themes/next/layout/_layout.swigæ–‡ä»¶ä¸­(æ”¾åœ¨&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;çš„ä¸‹é¢)ï¼Œå¹¶æŠŠhrefæ”¹ä¸ºä½ çš„githubåœ°å€ 2.æ·»åŠ RSSå®žçŽ°æ•ˆæžœå›¾ å…·ä½“å®žçŽ°æ–¹æ³• åˆ‡æ¢åˆ°ä½ çš„blogï¼ˆæˆ‘æ˜¯å–åblogï¼Œå…·ä½“çš„çœ‹ä½ ä»¬çš„å–åæ˜¯ä»€ä¹ˆï¼‰çš„è·¯å¾„ï¼Œä¾‹å¦‚æˆ‘æ˜¯åœ¨/Users/chenzekun/Code/Hexo/blogè¿™ä¸ªè·¯å¾„ä¸Šï¼Œä¹Ÿå°±æ˜¯åœ¨ä½ çš„æ ¹ç›®å½•ä¸‹ ç„¶åŽå®‰è£… Hexo æ’ä»¶ï¼š(è¿™ä¸ªæ’ä»¶ä¼šæ”¾åœ¨node_modulesè¿™ä¸ªæ–‡ä»¶å¤¹é‡Œ) 1$ npm install --save hexo-generator-feed æŽ¥ä¸‹æ¥æ‰“å¼€ç”»çº¢çº¿çš„æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š åœ¨é‡Œé¢çš„æœ«å°¾æ·»åŠ ï¼š(è¯·æ³¨æ„åœ¨å†’å·åŽé¢è¦åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œä¸ç„¶ä¼šå‘ç”Ÿé”™è¯¯ï¼) 123# Extensions## Plugins: http://hexo.io/plugins/plugins: hexo-generate-feed ç„¶åŽæ‰“å¼€nextä¸»é¢˜æ–‡ä»¶å¤¹é‡Œé¢çš„_config.yml,åœ¨é‡Œé¢é…ç½®ä¸ºå¦‚ä¸‹æ ·å­ï¼š(å°±æ˜¯åœ¨rss:çš„åŽé¢åŠ ä¸Š/atom.xml,æ³¨æ„åœ¨å†’å·åŽé¢è¦åŠ ä¸€ä¸ªç©ºæ ¼) 1234# Set rss to false to disable feed link.# Leave rss as empty to use site's feed link.# Set rss to specific value if you have burned your feed already.rss: /atom.xml é…ç½®å®Œä¹‹åŽè¿è¡Œï¼š 1$ hexo g é‡æ–°ç”Ÿæˆä¸€æ¬¡ï¼Œä½ ä¼šåœ¨./public æ–‡ä»¶å¤¹ä¸­çœ‹åˆ° atom.xml æ–‡ä»¶ã€‚ç„¶åŽå¯åŠ¨æœåŠ¡å™¨æŸ¥çœ‹æ˜¯å¦æœ‰æ•ˆï¼Œä¹‹åŽå†éƒ¨ç½²åˆ° Github ä¸­ã€‚ 3. æ·»åŠ åŠ¨æ€èƒŒæ™¯å®žçŽ°æ•ˆæžœå›¾ å…·ä½“å®žçŽ°æ–¹æ³• è¿™ä¸ªæˆ‘ä¹‹å‰æœ‰ä¸€ç¯‡æ–‡ç« æœ‰è®²è¿‡äº†ï¼Œè¯¦æƒ…ç‚¹å‡»æˆ‘çš„åšå®¢ ä¿®æ”¹_layout.swigæ‰“å¼€ next/layout/_layout.swigåœ¨ &lt; /body&gt;ä¹‹å‰æ·»åŠ ä»£ç (æ³¨æ„ä¸è¦æ”¾åœ¨&lt; /head&gt;çš„åŽé¢) 123&#123;% if theme.canvas_nest %&#125;&lt;script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"&gt;&lt;/script&gt;&#123;% endif %&#125; ä¿®æ”¹é…ç½®æ–‡ä»¶æ‰“å¼€ /next/_config.yml,åœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š(å¯ä»¥æ”¾åœ¨æœ€åŽé¢) 123456# --------------------------------------------------------------# background settings# --------------------------------------------------------------# add canvas-nest effect# see detail from https://github.com/hustcc/canvas-nest.jscanvas_nest: true åˆ°æ­¤å°±ç»“æŸäº†ï¼Œè¿è¡Œ hexo cleanï¼Œç„¶åŽè¿è¡Œ hexo g,ç„¶åŽè¿è¡Œ hexo sï¼Œæœ€åŽæ‰“å¼€æµè§ˆå™¨åœ¨æµè§ˆå™¨çš„åœ°å€æ è¾“å…¥ localhost:4000 å°±èƒ½çœ‹åˆ°æ•ˆæžœäº†\ï¼ˆï¿£ï¸¶ï¿£ï¼‰/ å¦‚æžœä½ æ„Ÿè§‰é»˜è®¤çš„çº¿æ¡å¤ªå¤šçš„è¯å¯ä»¥è¿™ä¹ˆè®¾ç½®====&gt;åœ¨ä¸Šä¸€æ­¥ä¿®æ”¹ _layout.swigä¸­ï¼ŒæŠŠåˆšæ‰çš„è¿™äº›ä»£ç ï¼š 123&#123;% if theme.canvas_nest %&#125;&lt;script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"&gt;&lt;/script&gt;&#123;% endif %&#125; æ”¹ä¸º 1234&#123;% if theme.canvas_nest %&#125;&lt;script type="text/javascript"color="0,0,255" opacity='0.7' zIndex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"&gt;&lt;/script&gt;&#123;% endif %&#125; é…ç½®é¡¹è¯´æ˜Ž color ï¼šçº¿æ¡é¢œè‰², é»˜è®¤: &#39;0,0,0&#39;ï¼›ä¸‰ä¸ªæ•°å­—åˆ†åˆ«ä¸º(R,G,B) opacity: çº¿æ¡é€æ˜Žåº¦ï¼ˆ0~1ï¼‰, é»˜è®¤: 0.5 count: çº¿æ¡çš„æ€»æ•°é‡, é»˜è®¤: 150 zIndex: èƒŒæ™¯çš„z-indexå±žæ€§ï¼Œcsså±žæ€§ç”¨äºŽæŽ§åˆ¶æ‰€åœ¨å±‚çš„ä½ç½®, é»˜è®¤: -1 4. å®žçŽ°ç‚¹å‡»å‡ºçŽ°æ¡ƒå¿ƒæ•ˆæžœå®žçŽ°æ•ˆæžœå›¾ å…·ä½“å®žçŽ°æ–¹æ³• åœ¨ç½‘å€è¾“å…¥å¦‚ä¸‹ 1http://7u2ss1.com1.z0.glb.clouddn.com/love.js ç„¶åŽå°†é‡Œé¢çš„ä»£ç copyä¸€ä¸‹ï¼Œæ–°å»ºlove.jsæ–‡ä»¶å¹¶ä¸”å°†ä»£ç å¤åˆ¶è¿›åŽ»ï¼Œç„¶åŽä¿å­˜ã€‚å°†love.jsæ–‡ä»¶æ”¾åˆ°è·¯å¾„/themes/next/source/js/srcé‡Œé¢ï¼Œç„¶åŽæ‰“å¼€\themes\next\layout\_layout.swigæ–‡ä»¶,åœ¨æœ«å°¾ï¼ˆåœ¨å‰é¢å¼•ç”¨ä¼šå‡ºçŽ°æ‰¾ä¸åˆ°çš„bugï¼‰æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š 12&lt;!-- é¡µé¢ç‚¹å‡»å°çº¢å¿ƒ --&gt;&#123;% include '_third-party/love.swig' %&#125; æ–°å»º love.swig 1&lt;script type="text/javascript" src="&#123;&#123; url_for(theme.js) &#125;&#125;/src/love.js"&gt;&lt;/script&gt; 5. ä¿®æ”¹æ–‡ç« å†…é“¾æŽ¥æ–‡æœ¬æ ·å¼å®žçŽ°æ•ˆæžœå›¾ å…·ä½“å®žçŽ°æ–¹æ³• ä¿®æ”¹æ–‡ä»¶ themes\next\source\css\_common\components\post\post.stylï¼Œåœ¨æœ«å°¾æ·»åŠ å¦‚ä¸‹cssæ ·å¼ï¼Œï¼š 1234567891011// æ–‡ç« å†…é“¾æŽ¥æ–‡æœ¬æ ·å¼.post-body p a&#123; color: #0593d3; border-bottom: none; border-bottom: 1px solid #0593d3; &amp;:hover &#123; color: #fc6423; border-bottom: none; border-bottom: 1px solid #fc6423; &#125;&#125; å…¶ä¸­é€‰æ‹©.post-body æ˜¯ä¸ºäº†ä¸å½±å“æ ‡é¢˜ï¼Œé€‰æ‹© p æ˜¯ä¸ºäº†ä¸å½±å“é¦–é¡µâ€œé˜…è¯»å…¨æ–‡â€çš„æ˜¾ç¤ºæ ·å¼,é¢œè‰²å¯ä»¥è‡ªå·±å®šä¹‰ã€‚ 6. ä¿®æ”¹æ–‡ç« åº•éƒ¨çš„é‚£ä¸ªå¸¦#å·çš„æ ‡ç­¾å®žçŽ°æ•ˆæžœå›¾ å…·ä½“å®žçŽ°æ–¹æ³• ä¿®æ”¹æ¨¡æ¿/themes/next/layout/_macro/post.swigï¼Œæœç´¢ rel=&quot;tag&quot;&gt;#ï¼Œå°† # æ¢æˆ&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt; 7. åœ¨æ¯ç¯‡æ–‡ç« æœ«å°¾ç»Ÿä¸€æ·»åŠ â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®°å®žçŽ°æ•ˆæžœå›¾ å…·ä½“å®žçŽ°æ–¹æ³• åœ¨è·¯å¾„ \themes\next\layout\_macro ä¸­æ–°å»º passage-end-tag.swig æ–‡ä»¶,å¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š 12345&lt;div&gt; &#123;% if not is_index %&#125; &lt;div style="text-align:center;color: #ccc;font-size:14px;"&gt;-------------æœ¬æ–‡ç»“æŸ&lt;i class="fa fa-paw"&gt;&lt;/i&gt;æ„Ÿè°¢æ‚¨çš„é˜…è¯»-------------&lt;/div&gt; &#123;% endif %&#125;&lt;/div&gt; æŽ¥ç€æ‰“å¼€\themes\next\layout\_macro\post.swigæ–‡ä»¶ï¼Œåœ¨post-body ä¹‹åŽï¼Œ post-footer ä¹‹å‰æ·»åŠ å¦‚ä¸‹ç”»çº¢è‰²éƒ¨åˆ†ä»£ç ï¼ˆpost-footerä¹‹å‰ä¸¤ä¸ªDIVï¼‰ï¼š ä»£ç å¦‚ä¸‹ï¼š 12345&lt;div&gt; &#123;% if not is_index %&#125; &#123;% include 'passage-end-tag.swig' %&#125; &#123;% endif %&#125;&lt;/div&gt; ç„¶åŽæ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆ_config.yml),åœ¨æœ«å°¾æ·»åŠ ï¼š 123# æ–‡ç« æœ«å°¾æ·»åŠ â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®°passage_end_tag: enabled: true å®Œæˆä»¥ä¸Šè®¾ç½®ä¹‹åŽï¼Œåœ¨æ¯ç¯‡æ–‡ç« ä¹‹åŽéƒ½ä¼šæ·»åŠ å¦‚ä¸Šæ•ˆæžœå›¾çš„æ ·å­ã€‚ 8. ä¿®æ”¹ä½œè€…å¤´åƒå¹¶æ—‹è½¬å®žçŽ°æ•ˆæžœå›¾ å…·ä½“å®žçŽ°æ–¹æ³• æ‰“å¼€\themes\next\source\css\_common\components\sidebar\sidebar-author.stylï¼Œåœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960.site-author-image &#123; display: block; margin: 0 auto; padding: $site-author-image-padding; max-width: $site-author-image-width; height: $site-author-image-height; border: $site-author-image-border-width solid $site-author-image-border-color; /* å¤´åƒåœ†å½¢ */ border-radius: 80px; -webkit-border-radius: 80px; -moz-border-radius: 80px; box-shadow: inset 0 -1px 0 #333sf; /* è®¾ç½®å¾ªçŽ¯åŠ¨ç”» [animation: (play)åŠ¨ç”»åç§° (2s)åŠ¨ç”»æ’­æ”¾æ—¶é•¿å•ä½ç§’æˆ–å¾®ç§’ (ase-out)åŠ¨ç”»æ’­æ”¾çš„é€Ÿåº¦æ›²çº¿ä¸ºä»¥ä½Žé€Ÿç»“æŸ (1s)ç­‰å¾…1ç§’ç„¶åŽå¼€å§‹åŠ¨ç”» (1)åŠ¨ç”»æ’­æ”¾æ¬¡æ•°(infiniteä¸ºå¾ªçŽ¯æ’­æ”¾) ]*/ /* é¼ æ ‡ç»è¿‡å¤´åƒæ—‹è½¬360åº¦ */ -webkit-transition: -webkit-transform 1.0s ease-out; -moz-transition: -moz-transform 1.0s ease-out; transition: transform 1.0s ease-out;&#125;img:hover &#123; /* é¼ æ ‡ç»è¿‡åœæ­¢å¤´åƒæ—‹è½¬ -webkit-animation-play-state:paused; animation-play-state:paused;*/ /* é¼ æ ‡ç»è¿‡å¤´åƒæ—‹è½¬360åº¦ */ -webkit-transform: rotateZ(360deg); -moz-transform: rotateZ(360deg); transform: rotateZ(360deg);&#125;/* Z è½´æ—‹è½¬åŠ¨ç”» */@-webkit-keyframes play &#123; 0% &#123; -webkit-transform: rotateZ(0deg); &#125; 100% &#123; -webkit-transform: rotateZ(-360deg); &#125;&#125;@-moz-keyframes play &#123; 0% &#123; -moz-transform: rotateZ(0deg); &#125; 100% &#123; -moz-transform: rotateZ(-360deg); &#125;&#125;@keyframes play &#123; 0% &#123; transform: rotateZ(0deg); &#125; 100% &#123; transform: rotateZ(-360deg); &#125;&#125; 9. åšæ–‡åŽ‹ç¼©åœ¨ç«™ç‚¹çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 12$ npm install gulp -g$ npm install gulp-clean-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp --save åœ¨å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ–°å»º gulpfile.js ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š 123456789101112131415161718192021222324252627282930313233var gulp = require('gulp');var minifycss = require('gulp-clean-css');var uglify = require('gulp-uglify');var htmlmin = require('gulp-htmlmin');var htmlclean = require('gulp-htmlclean');// åŽ‹ç¼© public ç›®å½• cssgulp.task('minify-css', function() &#123; return gulp.src('./public/**/*.css') .pipe(minifycss()) .pipe(gulp.dest('./public'));&#125;);// åŽ‹ç¼© public ç›®å½• htmlgulp.task('minify-html', function() &#123; return gulp.src('./public/**/*.html') .pipe(htmlclean()) .pipe(htmlmin(&#123; removeComments: true, minifyJS: true, minifyCSS: true, minifyURLs: true, &#125;)) .pipe(gulp.dest('./public'))&#125;);// åŽ‹ç¼© public/js ç›®å½• jsgulp.task('minify-js', function() &#123; return gulp.src('./public/**/*.js') .pipe(uglify()) .pipe(gulp.dest('./public'));&#125;);// æ‰§è¡Œ gulp å‘½ä»¤æ—¶æ‰§è¡Œçš„ä»»åŠ¡gulp.task('default', [ 'minify-html','minify-css','minify-js']); ç”Ÿæˆåšæ–‡æ—¶æ‰§è¡Œ hexo g &amp;&amp; gulp å°±ä¼šæ ¹æ® gulpfile.js ä¸­çš„é…ç½®ï¼Œå¯¹ public ç›®å½•ä¸­çš„é™æ€èµ„æºæ–‡ä»¶è¿›è¡ŒåŽ‹ç¼©ã€‚ 10. ä¿®æ”¹``ä»£ç å—è‡ªå®šä¹‰æ ·å¼å®žçŽ°æ•ˆæžœå›¾ å…·ä½“å®žçŽ°æ–¹æ³• æ‰“å¼€\themes\next\source\css\_custom\custom.styl,å‘é‡Œé¢åŠ å…¥ï¼š(é¢œè‰²å¯ä»¥è‡ªå·±å®šä¹‰) 123456789101112131415// Custom styles.code &#123; color: #ff7600; background: #fbf7f8; margin: 2px;&#125;// å¤§ä»£ç å—çš„è‡ªå®šä¹‰æ ·å¼.highlight, pre &#123; margin: 5px 0; padding: 5px; border-radius: 3px;&#125;.highlight, code, pre &#123; border: 1px solid #d6d6d6;&#125; 11. ä¾§è¾¹æ ç¤¾äº¤å°å›¾æ ‡è®¾ç½®å®žçŽ°æ•ˆæžœå›¾ å…·ä½“å®žçŽ°æ–¹æ³• æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆ_config.ymlï¼‰ï¼Œæœç´¢social_icons:,åœ¨å›¾æ ‡åº“æ‰¾è‡ªå·±å–œæ¬¢çš„å°å›¾æ ‡ï¼Œå¹¶å°†åå­—å¤åˆ¶åœ¨å¦‚ä¸‹ä½ç½®ï¼Œä¿å­˜å³å¯ 12. ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæžœå®žçŽ°æ•ˆæžœå›¾ å…·ä½“å®žçŽ°æ–¹æ³• æ‰“å¼€\themes\next\source\css\_custom\custom.styl,å‘é‡Œé¢åŠ å…¥ï¼š 12345678// ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæžœ .post &#123; margin-top: 60px; margin-bottom: 60px; padding: 25px; -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5); -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5); &#125; 13. åœ¨ç½‘ç«™åº•éƒ¨åŠ ä¸Šè®¿é—®é‡å®žçŽ°æ•ˆæžœå›¾ å…·ä½“å®žçŽ°æ–¹æ³•æ‰“å¼€\themes\next\layout\_partials\footer.swigæ–‡ä»¶,åœ¨copyrightå‰åŠ ä¸Šç”»çº¢çº¿è¿™å¥è¯ï¼š ä»£ç å¦‚ä¸‹ï¼š 1&lt;script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"&gt;&lt;/script&gt; ç„¶åŽå†åˆé€‚çš„ä½ç½®æ·»åŠ æ˜¾ç¤ºç»Ÿè®¡çš„ä»£ç ï¼Œå¦‚å›¾ï¼šä»£ç å¦‚ä¸‹ï¼š 12345&lt;div class="powered-by"&gt;&lt;i class="fa fa-user-md"&gt;&lt;/i&gt;&lt;span id="busuanzi_container_site_uv"&gt; æœ¬ç«™è®¿å®¢æ•°:&lt;span id="busuanzi_value_site_uv"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt; åœ¨è¿™é‡Œæœ‰ä¸¤ä¸­ä¸åŒè®¡ç®—æ–¹å¼çš„ç»Ÿè®¡ä»£ç ï¼š pvçš„æ–¹å¼ï¼Œå•ä¸ªç”¨æˆ·è¿žç»­ç‚¹å‡»nç¯‡æ–‡ç« ï¼Œè®°å½•næ¬¡è®¿é—®é‡ 123&lt;span id="busuanzi_container_site_pv"&gt; æœ¬ç«™æ€»è®¿é—®é‡&lt;span id="busuanzi_value_site_pv"&gt;&lt;/span&gt;æ¬¡&lt;/span&gt; uvçš„æ–¹å¼ï¼Œå•ä¸ªç”¨æˆ·è¿žç»­ç‚¹å‡»nç¯‡æ–‡ç« ï¼Œåªè®°å½•1æ¬¡è®¿å®¢æ•° 123&lt;span id="busuanzi_container_site_uv"&gt; æœ¬ç«™æ€»è®¿é—®é‡&lt;span id="busuanzi_value_site_uv"&gt;&lt;/span&gt;æ¬¡&lt;/span&gt; æ·»åŠ ä¹‹åŽå†æ‰§è¡Œhexo d -gï¼Œç„¶åŽå†åˆ·æ–°é¡µé¢å°±èƒ½çœ‹åˆ°æ•ˆæžœ 14. æ·»åŠ çƒ­åº¦å®žçŽ°æ•ˆæžœå›¾ å…·ä½“å®žçŽ°æ–¹æ³• nextä¸»é¢˜é›†æˆleanCloudï¼Œæ‰“å¼€/themes/next/layout/_macro/post.swig,åœ¨ç”»çº¢çº¿çš„åŒºåŸŸæ·»åŠ â„ƒï¼š ç„¶åŽæ‰“å¼€ï¼Œ/themes/next/languages/zh-Hans.yml,å°†ç”»çº¢æ¡†çš„æ”¹ä¸ºçƒ­åº¦å°±å¯ä»¥äº† 15. ç½‘ç«™åº•éƒ¨å­—æ•°ç»Ÿè®¡å®žçŽ°æ•ˆæžœå›¾ å…·ä½“æ–¹æ³•å®žçŽ°åˆ‡æ¢åˆ°æ ¹ç›®å½•ä¸‹ï¼Œç„¶åŽè¿è¡Œå¦‚ä¸‹ä»£ç  1$ npm install hexo-wordcount --save ç„¶åŽåœ¨/themes/next/layout/_partials/footer.swigæ–‡ä»¶å°¾éƒ¨åŠ ä¸Šï¼š 1234&lt;div class="theme-info"&gt; &lt;div class="powered-by"&gt;&lt;/div&gt; &lt;span class="post-count"&gt;åšå®¢å…¨ç«™å…±&#123;&#123; totalcount(site) &#125;&#125;å­—&lt;/span&gt;&lt;/div&gt; 16. æ·»åŠ  README.md æ–‡ä»¶æ¯ä¸ªé¡¹ç›®ä¸‹ä¸€èˆ¬éƒ½æœ‰ä¸€ä¸ª README.md æ–‡ä»¶ï¼Œä½†æ˜¯ä½¿ç”¨ hexo éƒ¨ç½²åˆ°ä»“åº“åŽï¼Œé¡¹ç›®ä¸‹æ˜¯æ²¡æœ‰ README.md æ–‡ä»¶çš„ã€‚ åœ¨ Hexo ç›®å½•ä¸‹çš„ source æ ¹ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ª README.md æ–‡ä»¶ï¼Œä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.ymlï¼Œå°† skip_render å‚æ•°çš„å€¼è®¾ç½®ä¸º 1skip_render: README.md ä¿å­˜é€€å‡ºå³å¯ã€‚å†æ¬¡ä½¿ç”¨ hexo d å‘½ä»¤éƒ¨ç½²åšå®¢çš„æ—¶å€™å°±ä¸ä¼šåœ¨æ¸²æŸ“ README.md è¿™ä¸ªæ–‡ä»¶äº†ã€‚ 17. è®¾ç½®ç½‘ç«™çš„å›¾æ ‡Faviconå®žçŽ°æ•ˆæžœå›¾ å…·ä½“æ–¹æ³•å®žçŽ° åœ¨EasyIconä¸­æ‰¾ä¸€å¼ ï¼ˆ32*32ï¼‰çš„icoå›¾æ ‡,æˆ–è€…åŽ»åˆ«çš„ç½‘ç«™ä¸‹è½½æˆ–è€…åˆ¶ä½œï¼Œå¹¶å°†å›¾æ ‡åç§°æ”¹ä¸ºfavicon.icoï¼Œç„¶åŽæŠŠå›¾æ ‡æ”¾åœ¨/themes/next/source/imagesé‡Œï¼Œå¹¶ä¸”ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼š 12# Put your favicon.ico into `hexo-site/source/` directory.favicon: /favicon.ico 18. å®žçŽ°ç»Ÿè®¡åŠŸèƒ½å®žçŽ°æ•ˆæžœå›¾ å…·ä½“å®žçŽ°æ–¹æ³• åœ¨æ ¹ç›®å½•ä¸‹å®‰è£… hexo-wordcount,è¿è¡Œï¼š 1$ npm install hexo-wordcount --save ç„¶åŽåœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½®å¦‚ä¸‹ï¼š 123456# Post wordcount display settings# Dependencies: https://github.com/willin/hexo-wordcountpost_wordcount: item_text: true wordcount: true min2read: true 19. æ·»åŠ é¡¶éƒ¨åŠ è½½æ¡å®žçŽ°æ•ˆæžœå›¾ å…·ä½“å®žçŽ°æ–¹æ³• æ‰“å¼€/themes/next/layout/_partials/head.swigæ–‡ä»¶ï¼Œæ·»åŠ çº¢æ¡†ä¸Šçš„ä»£ç ä»£ç å¦‚ä¸‹ï¼š 12&lt;script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"&gt;&lt;/script&gt;&lt;link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet"&gt; ä½†æ˜¯ï¼Œé»˜è®¤çš„æ˜¯ç²‰è‰²çš„ï¼Œè¦æ”¹å˜é¢œè‰²å¯ä»¥åœ¨/themes/next/layout/_partials/head.swigæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼ˆæŽ¥åœ¨åˆšæ‰linkçš„åŽé¢ï¼‰ 12345678910111213&lt;style&gt; .pace .pace-progress &#123; background: #1E92FB; /*è¿›åº¦æ¡é¢œè‰²*/ height: 3px; &#125; .pace .pace-progress-inner &#123; box-shadow: 0 0 10px #1E92FB, 0 0 5px #1E92FB; /*é˜´å½±é¢œè‰²*/ &#125; .pace .pace-activity &#123; border-top-color: #1E92FB; /*ä¸Šè¾¹æ¡†é¢œè‰²*/ border-left-color: #1E92FB; /*å·¦è¾¹æ¡†é¢œè‰²*/ &#125;&lt;/style&gt; ç›®å‰ï¼Œåšä¸»çš„å¢žåŠ é¡¶éƒ¨åŠ è½½æ¡çš„pull request å·²è¢«MergeðŸ˜€===&gt;è¯¦æƒ…çŽ°åœ¨å‡çº§æœ€æ–°ç‰ˆçš„nextä¸»é¢˜ï¼Œå‡çº§åŽåªéœ€ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶(_config.yml)å°†pace: falseæ”¹ä¸ºpace: trueå°±è¡Œäº†ï¼Œä½ è¿˜å¯ä»¥æ¢ä¸åŒæ ·å¼çš„åŠ è½½æ¡ï¼Œå¦‚ä¸‹å›¾ï¼š 20. åœ¨æ–‡ç« åº•éƒ¨å¢žåŠ ç‰ˆæƒä¿¡æ¯å®žçŽ°æ•ˆæžœå›¾ åœ¨ç›®å½• next/layout/_macro/ä¸‹æ·»åŠ  my-copyright.swigï¼š 1234567891011121314151617181920212223242526272829303132&#123;% if page.copyright %&#125;&lt;div class="my_post_copyright"&gt; &lt;script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"&gt;&lt;/script&gt; &lt;!-- JSåº“ sweetalert å¯ä¿®æ”¹è·¯å¾„ --&gt; &lt;script type="text/javascript" src="http://jslibs.wuxubj.cn/sweetalert_mini/jquery-1.7.1.min.js"&gt;&lt;/script&gt; &lt;script src="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.min.js"&gt;&lt;/script&gt; &lt;link rel="stylesheet" type="text/css" href="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.mini.css"&gt; &lt;p&gt;&lt;span&gt;æœ¬æ–‡æ ‡é¢˜:&lt;/span&gt;&lt;a href="&#123;&#123; url_for(page.path) &#125;&#125;"&gt;&#123;&#123; page.title &#125;&#125;&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;span&gt;æ–‡ç« ä½œè€…:&lt;/span&gt;&lt;a href="/" title="è®¿é—® &#123;&#123; theme.author &#125;&#125; çš„ä¸ªäººåšå®¢"&gt;&#123;&#123; theme.author &#125;&#125;&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;span&gt;å‘å¸ƒæ—¶é—´:&lt;/span&gt;&#123;&#123; page.date.format("YYYYå¹´MMæœˆDDæ—¥ - HH:MM") &#125;&#125;&lt;/p&gt; &lt;p&gt;&lt;span&gt;æœ€åŽæ›´æ–°:&lt;/span&gt;&#123;&#123; page.updated.format("YYYYå¹´MMæœˆDDæ—¥ - HH:MM") &#125;&#125;&lt;/p&gt; &lt;p&gt;&lt;span&gt;åŽŸå§‹é“¾æŽ¥:&lt;/span&gt;&lt;a href="&#123;&#123; url_for(page.path) &#125;&#125;" title="&#123;&#123; page.title &#125;&#125;"&gt;&#123;&#123; page.permalink &#125;&#125;&lt;/a&gt; &lt;span class="copy-path" title="ç‚¹å‡»å¤åˆ¶æ–‡ç« é“¾æŽ¥"&gt;&lt;i class="fa fa-clipboard" data-clipboard-text="&#123;&#123; page.permalink &#125;&#125;" aria-label="å¤åˆ¶æˆåŠŸï¼"&gt;&lt;/i&gt;&lt;/span&gt; &lt;/p&gt; &lt;p&gt;&lt;span&gt;è®¸å¯åè®®:&lt;/span&gt;&lt;i class="fa fa-creative-commons"&gt;&lt;/i&gt; &lt;a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)"&gt;ç½²å-éžå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç»Ž 4.0 å›½é™…&lt;/a&gt; è½¬è½½è¯·ä¿ç•™åŽŸæ–‡é“¾æŽ¥åŠä½œè€…ã€‚&lt;/p&gt; &lt;/div&gt;&lt;script&gt; var clipboard = new Clipboard('.fa-clipboard'); clipboard.on('success', $(function()&#123; $(".fa-clipboard").click(function()&#123; swal(&#123; title: "", text: 'å¤åˆ¶æˆåŠŸ', html: false, timer: 500, showConfirmButton: false &#125;); &#125;); &#125;)); &lt;/script&gt;&#123;% endif %&#125; åœ¨ç›®å½•next/source/css/_common/components/post/ä¸‹æ·»åŠ my-post-copyright.stylï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445.my_post_copyright &#123; width: 85%; max-width: 45em; margin: 2.8em auto 0; padding: 0.5em 1.0em; border: 1px solid #d3d3d3; font-size: 0.93rem; line-height: 1.6em; word-break: break-all; background: rgba(255,255,255,0.4);&#125;.my_post_copyright p&#123;margin:0;&#125;.my_post_copyright span &#123; display: inline-block; width: 5.2em; color: #b5b5b5; font-weight: bold;&#125;.my_post_copyright .raw &#123; margin-left: 1em; width: 5em;&#125;.my_post_copyright a &#123; color: #808080; border-bottom:0;&#125;.my_post_copyright a:hover &#123; color: #a3d2a3; text-decoration: underline;&#125;.my_post_copyright:hover .fa-clipboard &#123; color: #000;&#125;.my_post_copyright .post-url:hover &#123; font-weight: normal;&#125;.my_post_copyright .copy-path &#123; margin-left: 1em; width: 1em; +mobile()&#123;display:none;&#125;&#125;.my_post_copyright .copy-path:hover &#123; color: #808080; cursor: pointer;&#125; ä¿®æ”¹next/layout/_macro/post.swigï¼Œåœ¨ä»£ç  12345&lt;div&gt; &#123;% if not is_index %&#125; &#123;% include 'wechat-subscriber.swig' %&#125; &#123;% endif %&#125;&lt;/div&gt; ä¹‹å‰æ·»åŠ å¢žåŠ å¦‚ä¸‹ä»£ç ï¼š 12345&lt;div&gt; &#123;% if not is_index %&#125; &#123;% include 'my-copyright.swig' %&#125; &#123;% endif %&#125;&lt;/div&gt; å¦‚ä¸‹ï¼š ä¿®æ”¹next/source/css/_common/components/post/post.stylæ–‡ä»¶ï¼Œåœ¨æœ€åŽä¸€è¡Œå¢žåŠ ä»£ç ï¼š 1@import "my-post-copyright" ä¿å­˜é‡æ–°ç”Ÿæˆå³å¯ã€‚å¦‚æžœè¦åœ¨è¯¥åšæ–‡ä¸‹é¢å¢žåŠ ç‰ˆæƒä¿¡æ¯çš„æ˜¾ç¤ºï¼Œéœ€è¦åœ¨ Markdown ä¸­å¢žåŠ copyright: trueçš„è®¾ç½®ï¼Œç±»ä¼¼ï¼š 1234567---title: å‰ç«¯å°é¡¹ç›®ï¼šä½¿ç”¨canvasç»˜ç”»å“†å•¦Aæ¢¦date: 2017-05-22 22:53:53tags: canvascategories: å‰ç«¯copyright: true--- å°æŠ€å·§ï¼šå¦‚æžœä½ è§‰å¾—æ¯æ¬¡éƒ½è¦è¾“å…¥copyright: trueå¾ˆéº»çƒ¦çš„è¯,é‚£ä¹ˆåœ¨/scaffolds/post.mdæ–‡ä»¶ä¸­æ·»åŠ ï¼šè¿™æ ·æ¯æ¬¡hexo new &quot;ä½ çš„å†…å®¹&quot;ä¹‹åŽï¼Œç”Ÿæˆçš„mdæ–‡ä»¶ä¼šè‡ªåŠ¨æŠŠcopyright:åŠ åˆ°é‡Œé¢åŽ»(æ³¨æ„ï¼šå¦‚æžœè§£æžå‡ºæ¥ä¹‹åŽï¼Œä½ çš„åŽŸå§‹é“¾æŽ¥æœ‰é—®é¢˜ï¼šå¦‚ï¼šhttp://yoursite.com/å‰ç«¯å°é¡¹ç›®ï¼šä½¿ç”¨canvasç»˜ç”»å“†å•¦Aæ¢¦.html,é‚£ä¹ˆåœ¨æ ¹ç›®å½•ä¸‹_config.ymlä¸­å†™æˆç±»ä¼¼è¿™æ ·ï¼šï¼‰å°±è¡Œäº†ã€‚ 21. æ·»åŠ ç½‘æ˜“äº‘è·Ÿå¸–å®žçŽ°æ•ˆæžœå›¾ å…·ä½“æ–¹æ³•å®žçŽ°æœ‰ä¸¤ç§å®žçŽ°æ–¹æ³•ï¼šâ‘ æ›´æ–°nextä¸»é¢˜ï¼Œå› ä¸ºæœ€æ–°ç‰ˆæœ¬çš„ä¸»é¢˜å·²ç»æ”¯æŒè¿™ç§è¯„è®ºã€‚ç›´æŽ¥åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶_config.yml æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®: 12 1gentie_productKey: #your-gentie-product-key â‘¡å¦‚æžœä½ ä¸æƒ³æ›´æ–°çš„è¯ï¼Œé‚£ä¹ˆæŒ‰ä¸‹é¢æ­¥éª¤è¿›è¡Œï¼šé¦–å…ˆï¼Œè¿˜æ˜¯åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶_config.yml æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®: 12 1gentie_productKey: #your-gentie-product-key ä½ çš„productKeyå°±æ˜¯ä¸‹é¢ç”»çº¢çº¿éƒ¨åˆ† ç„¶åŽåœ¨åœ¨layout/_scripts/third-party/comments/ ç›®å½•ä¸­æ·»åŠ  gentie.swigï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š 12 1234567891011121314&#123;% if not (theme.duoshuo and theme.duoshuo.shortname) and not theme.duoshuo_shortname and not theme.disqus_shortname and not theme.hypercomments_id %&#125; &#123;% if theme.gentie_productKey %&#125; &#123;% set gentie_productKey = theme.gentie_productKey %&#125; &lt;script&gt; var cloudTieConfig = &#123; url: document.location.href, sourceId: "", productKey: "&#123;&#123;gentie_productKey&#125;&#125;", target: "cloud-tie-wrapper" &#125;; &lt;/script&gt; &lt;script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"&gt;&lt;/script&gt; &#123;% endif %&#125;&#123;% endif %&#125; ç„¶åŽåœ¨layout/_scripts/third-party/comments.swigæ–‡ä»¶ä¸­è¿½åŠ ï¼š 12 1&#123;% include './comments/gentie.swig' %&#125; æœ€åŽï¼Œåœ¨ layout/_partials/comments.swig æ–‡ä»¶ä¸­æ¡ä»¶æœ€åŽè¿½åŠ ç½‘æ˜“äº‘è·Ÿå¸–æ’ä»¶å¼•ç”¨çš„åˆ¤æ–­é€»è¾‘ï¼š 12 123&#123;% elseif theme.gentie_productKey %&#125; &lt;div id="cloud-tie-wrapper" class="cloud-tie-wrapper"&gt; &lt;/div&gt; å…·ä½“ä½ç½®å¦‚ä¸‹ï¼š å¯èƒ½ä½ hexo sæ—¶å¯èƒ½çœ‹ä¸åˆ°ï¼Œç›´æŽ¥hexo då°±å¯ä»¥çœ‹åˆ°äº† 22. éšè—ç½‘é¡µåº•éƒ¨powered By Hexo / å¼ºåŠ›é©±åŠ¨æ‰“å¼€themes/next/layout/_partials/footer.swig,ä½¿ç”¨â€â€éšè—ä¹‹é—´çš„ä»£ç å³å¯ï¼Œæˆ–è€…ç›´æŽ¥åˆ é™¤ã€‚ä½ç½®å¦‚å›¾ï¼š 23. ä¿®æ”¹ç½‘é¡µåº•éƒ¨çš„æ¡ƒå¿ƒè¿˜æ˜¯æ‰“å¼€themes/next/layout/_partials/footer.swigï¼Œæ‰¾åˆ°ï¼šï¼Œç„¶åŽè¿˜æ˜¯åœ¨å›¾æ ‡åº“ä¸­æ‰¾åˆ°ä½ è‡ªå·±å–œæ¬¢çš„å›¾æ ‡ï¼Œç„¶åŽä¿®æ”¹ç”»çº¢çº¿çš„éƒ¨åˆ†å°±å¯ä»¥äº†ã€‚ 24. æ–‡ç« åŠ å¯†è®¿é—®å®žçŽ°æ•ˆæžœå›¾ å…·ä½“å®žçŽ°æ–¹æ³• æ‰“å¼€themes-&gt;next-&gt;layout-&gt;_partials-&gt;head.swigæ–‡ä»¶,åœ¨ä»¥ä¸‹ä½ç½®æ’å…¥è¿™æ ·ä¸€æ®µä»£ç ï¼š ä»£ç å¦‚ä¸‹ï¼š 12345678910&lt;script&gt; (function()&#123; if('&#123;&#123; page.password &#125;&#125;')&#123; if (prompt('è¯·è¾“å…¥æ–‡ç« å¯†ç ') !== '&#123;&#123; page.password &#125;&#125;')&#123; alert('å¯†ç é”™è¯¯ï¼'); history.back(); &#125; &#125; &#125;)();&lt;/script&gt; ç„¶åŽåœ¨æ–‡ç« ä¸Šå†™æˆç±»ä¼¼è¿™æ ·ï¼š 25. æ·»åŠ jiathisåˆ†äº«åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼Œjiathisä¸ºtrueï¼Œå°±è¡Œäº†ï¼Œå¦‚ä¸‹å›¾ é»˜è®¤æ˜¯è¿™æ ·å­çš„ï¼šå¦‚æžœä½ æƒ³è‡ªå®šä¹‰è¯ï¼Œæ‰“å¼€themes/next/layout/_partials/share/jiathis.swigä¿®æ”¹ç”»çº¢çº¿éƒ¨åˆ†å°±å¯ä»¥äº† 26. åšæ–‡ç½®é¡¶ä¿®æ”¹ hero-generator-index æ’ä»¶ï¼ŒæŠŠæ–‡ä»¶ï¼šnode_modules/hexo-generator-index/lib/generator.js å†…çš„ä»£ç æ›¿æ¢ä¸ºï¼š 12345678910111213141516171819202122232425262728'use strict';var pagination = require('hexo-pagination');module.exports = function(locals)&#123; var config = this.config; var posts = locals.posts; posts.data = posts.data.sort(function(a, b) &#123; if(a.top &amp;&amp; b.top) &#123; // ä¸¤ç¯‡æ–‡ç« topéƒ½æœ‰å®šä¹‰ if(a.top == b.top) return b.date - a.date; // è‹¥topå€¼ä¸€æ ·åˆ™æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæŽ’ else return b.top - a.top; // å¦åˆ™æŒ‰ç…§topå€¼é™åºæŽ’ &#125; else if(a.top &amp;&amp; !b.top) &#123; // ä»¥ä¸‹æ˜¯åªæœ‰ä¸€ç¯‡æ–‡ç« topæœ‰å®šä¹‰ï¼Œé‚£ä¹ˆå°†æœ‰topçš„æŽ’åœ¨å‰é¢ï¼ˆè¿™é‡Œç”¨å¼‚æˆ–æ“ä½œå±…ç„¶ä¸è¡Œ233ï¼‰ return -1; &#125; else if(!a.top &amp;&amp; b.top) &#123; return 1; &#125; else return b.date - a.date; // éƒ½æ²¡å®šä¹‰æŒ‰ç…§æ–‡ç« æ—¥æœŸé™åºæŽ’ &#125;); var paginationDir = config.pagination_dir || 'page'; return pagination('', posts, &#123; perPage: config.index_generator.per_page, layout: ['index', 'archive'], format: paginationDir + '/%d/', data: &#123; __index: true &#125; &#125;);&#125;; åœ¨æ–‡ç« ä¸­æ·»åŠ  top å€¼ï¼Œæ•°å€¼è¶Šå¤§æ–‡ç« è¶Šé å‰ï¼Œå¦‚ 12345678---title: è§£å†³Charlesä¹±ç é—®é¢˜date: 2017-05-22 22:45:48tags: æŠ€å·§categories: æŠ€å·§copyright: truetop: 100--- 27. ä¿®æ”¹å­—ä½“å¤§å°æ‰“å¼€\themes\next\source\css\ _variables\base.stylæ–‡ä»¶ï¼Œå°†$font-size-baseæ”¹æˆ16pxï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1$font-size-base =16px 28. ä¿®æ”¹æ‰“èµå­—ä½“ä¸é—ªåŠ¨ä¿®æ”¹æ–‡ä»¶next/source/css/_common/components/post/post-reward.stylï¼Œç„¶åŽæ³¨é‡Šå…¶ä¸­çš„å‡½æ•°wechat:hoverå’Œalipay:hoverï¼Œå¦‚ä¸‹ï¼š 123456789101112/* æ³¨é‡Šæ–‡å­—é—ªåŠ¨å‡½æ•° #wechat:hover p&#123; animation: roll 0.1s infinite linear; -webkit-animation: roll 0.1s infinite linear; -moz-animation: roll 0.1s infinite linear;&#125; #alipay:hover p&#123; animation: roll 0.1s infinite linear; -webkit-animation: roll 0.1s infinite linear; -moz-animation: roll 0.1s infinite linear;&#125;*/ 29. ä¾§è¾¹æ æŽ¨èé˜…è¯»ä»Šå¤©æœ‰ä½ç½‘å‹é—®æŽ¨èé˜…è¯»æ˜¯æ€Žä¹ˆå¼„ï¼Œå…¶å®žæŒºç®€å•çš„ï¼Œæ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ä¿®æ”¹æˆè¿™æ ·å°±è¡Œäº†(linksé‡Œé¢å†™ä½ æƒ³è¦çš„é“¾æŽ¥): 1234567891011# Blogrollslinks_title: æŽ¨èé˜…è¯»#links_layout: blocklinks_layout: inlinelinks: ä¼˜è®¾: http://www.uisdc.com/ å¼ é‘«æ—­: http://www.zhangxinxu.com/ Webå‰ç«¯å¯¼èˆª: http://www.alloyteam.com/nav/ å‰ç«¯ä¹¦ç±èµ„æ–™: http://www.36zhen.com/t?id=3448 ç™¾åº¦å‰ç«¯æŠ€æœ¯å­¦é™¢: http://ife.baidu.com/ googleå‰ç«¯å¼€å‘åŸºç¡€: http://wf.uisdc.com/cn/ è‡´è°¢ æ„Ÿè°¢å¤§ç¥žä»¬çš„æ–‡ç« ï¼ŒçœŸçš„å­¦åˆ°äº†è®¸å¤šï¼Œæœ‰äº›å¿˜äº†è®°å½•ä¸‹æ¥ï¼Œåœ¨è¿™é‡Œç”±è¡·çš„æ„Ÿè°¢ã€‚è™½ç„¶æ¯”è¾ƒæŠ˜è…¾ï¼Œä½†æ˜¯ç¡®å®žæ»¡æ»¡çš„æˆå°±æ„Ÿï¼ŒRoad endless its long and far, I will seek up and downï¼ æ¬¢è¿Žè®¿é—®æˆ‘çš„åšå®¢ å‚è€ƒçš„æ–‡ç« ï¼š http://blog.csdn.net/MasterAnt_D/article/details/56839222 http://zidingyi4qh.com/2017/04/27/NexT%E5%BA%95%E9%83%A8logo%E6%B7%BB%E5%8A%A0%E8%AE%BF%E9%97%AE%E9%87%8F/ https://fuyis.me/2017/01/25/Hexo-theme-next-and-optimized-configuration/ http://www.vitah.net/posts/20f300cc/ http://thief.one/2017/03/03/Hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Next ä¸»é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo ä¸»é¢˜åŒæ­¥]]></title>
    <url>%2Fblog%2F2017-06-06.Hexo-theme-sync%2F</url>
    <content type="text"><![CDATA[ä¸»é¢˜åŒæ­¥çš„æ—¶å€™è‚¯å®šä¼šäº§ç”Ÿå†²çªï¼Œä¸è¦å®³æ€•å†²çªï¼Œæœ‰å†²çªæ˜¯å¥½äº‹ï¼Œè¿˜èƒ½å¢žå¼ºå¯¹ Git çš„ä½¿ç”¨ï¼Œåªèƒ½è¿™æ ·å®‰æ…°è‡ªå·±äº†ã€‚ å…³äºŽ ä¸»é¢˜ åŒæ­¥ï¼Œè€ƒè™‘äº†å¥½å‡ å¤©ï¼Œ è¿˜æ˜¯é‡‡ç”¨è¿™ä¸ªæ–¹æ¡ˆå§ã€‚ å‚è€ƒ ï¼š åŒæ­¥hexoä¸»é¢˜ ä¸»é¢˜ä½œè€…ä¸€ç›´åœ¨å¢žåŠ æ–°åŠŸèƒ½ï¼Œæˆ‘å¶å°”ä¼šä¿®æ”¹ä¸‹ä¸»é¢˜çš„æ ·å¼ï¼Œå¦‚ä½•åº”ç”¨åˆ°æˆ‘è‡ªå·±çš„ç«™ç‚¹é‡Œï¼Ÿå…¶å®žå°±æ˜¯gitçš„submoduleçš„ç”¨æ³•ã€‚ 12345678910111213# é¦–å…ˆcloneæˆ‘è‡ªå·±çš„ repo åˆ° Hexo çš„æ ¹ç›®å½• ï¼Œ æ³¨æ„æœ€åŽçš„ ` themes/next`git clone &lt;hexo-theme-next@bitbucket.org&gt; themes/next# cd themes/next å¹¶ æ·»åŠ ä¸€ä¸ªgithubçš„remotecd themes/nextgit remote add github git@github.com:iissnan/hexo-theme-next.git # æ³¨æ„è¿™æ˜¯ä¸æ˜¯ origin , origin å…¶å®žæ˜¯é»˜è®¤çš„åˆ«å# å°†ä½œè€…çš„ä¸€äº›æ›´æ–°åˆå¹¶åˆ°æˆ‘è‡ªå·±çš„åˆ†æ”¯git pull github master # æ³¨æ„è¿™æ˜¯ä¸æ˜¯ origingit checkout foolbeargit merge master# è‚¯å®šä¼šæœ‰äº›å†²çªï¼Œè§£å†³å†²çªåŽcommitgit commit -m "xxx"# ä¿®æ”¹åŽçš„foolbearåˆ†æ”¯pushåˆ°æˆ‘è‡ªå·±çš„repogit push origin foolbear ä»¥ä¸‹æ“ä½œåœ¨æˆ‘è‡ªå·±ç¬”è®°æœ¬ä¸Š 123cd themes/nextgit pullgit checkout foolbear æ¦‚å¿µä¸Šæ˜¯å¾ˆç®€å•çš„ï¼Œåªæ˜¯è®°å½•ä¸‹ã€‚]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Next ä¸»é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git å¸¸ç”¨æ“ä½œ]]></title>
    <url>%2Fblog%2F2017-06-06.git-brief%2F</url>
    <content type="text"><![CDATA[git åˆå§‹åŒ–ï¼ˆä»¥ä¸‹å‘½ä»¤åœ¨ Git Bashä¸­æ“ä½œï¼‰æ·»åŠ  Coding è´¦æˆ· SSH å…¬é’¥ TL;DR [^1] å‚è€ƒ ï¼š coding å¸®åŠ©ä¸­å¿ƒ ç”Ÿæˆå…¬é’¥æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯è¾“å…¥ssh-keygen -t rsa -C â€œusername@example.comâ€,( æ³¨å†Œçš„é‚®ç®±)ï¼ŒæŽ¥ä¸‹æ¥ç‚¹å‡»enteré”®å³å¯ï¼ˆä¹Ÿå¯ä»¥è¾“å…¥å¯†ç ï¼‰ã€‚ 12345ssh-keygen -t rsa -b 4096 -C "your_email@example.com"# Creates a new ssh key, using the provided email as a label# Generating public/private rsa key pair.Enter file in which to save the key (/Users/you/.ssh/id_rsa): [Press enter] // å› ä¸ºæœ‰å¤šä¸ªgit ä»“åº“ï¼Œæ‰€ä»¥ æŽ¨èè·Ÿä»“åº“ååŠä½¿ç”¨çš„ç”µè„‘ç›¸å…³ï¼Œ å¦‚ï¼šcoding_pcEnter passphrase (empty for no passphrase): æˆåŠŸä¹‹åŽ 1234Your identification has been saved in /Users/you/.ssh/id_rsa.# Your public key has been saved in /Users/you/.ssh/id_rsa.pub.# The key fingerprint is:# 01:0f:f4:3b:ca:85:d6:17:a1:7d:f0:68:9d:f0:a2:db your_email@example.com æ·»åŠ å…¬é’¥ æœ¬åœ°æ‰“å¼€ id_rsa.pub æ–‡ä»¶ï¼Œå¤åˆ¶å…¶ä¸­å…¨éƒ¨å†…å®¹ï¼Œå¡«å†™åˆ°SSH_RSAå…¬é’¥keyä¸‹çš„ä¸€æ ï¼Œå…¬é’¥åç§°å¯ä»¥éšæ„èµ·åå­—ã€‚ å®ŒæˆåŽç‚¹å‡»â€œæ·»åŠ â€ï¼Œç„¶åŽè¾“å…¥å¯†ç æˆ–åŠ¨æ€ç å³å¯æ·»åŠ å®Œæˆã€‚ å®ŒæˆåŽåœ¨å‘½ä»¤è¡Œæµ‹è¯•ï¼Œé¦–æ¬¡å»ºç«‹é“¾æŽ¥ä¼šè¦æ±‚ä¿¡ä»»ä¸»æœºã€‚ ssh -T git@git.coding.net 12~/git $ ssh -T git@git.coding.netHello yafey! You've connected to Coding.net via SSH successfully! ã€çŸ¥è¯†ç‚¹ã€‘å¤šä¸ªè´¦æˆ·é…ç½® ï¼ˆå¦‚ github + codingï¼‰å¦‚æžœéœ€è¦ä½¿ç”¨å¤šä¸ªè´¦æˆ·å»ºè®®ç”Ÿæˆå¤šä¸ªå…¬é’¥ï¼Œå¯ä»¥åœ¨ ~/.ssh/configæ–‡ä»¶ä¸­åŠ ä¸Šä¸‹è¾¹ä¸€æ®µ 12345# è¯¥æ–‡ä»¶ç”¨äºŽé…ç½®ç§é’¥å¯¹åº”çš„æœåŠ¡å™¨Host git.coding.netUser xxxx@email.com # è¿™é‡Œ ä¹Ÿå¯ä»¥é…ç½®æˆ `User git`PreferredAuthentications publickeyIdentityFile ~/.ssh/coding_rsa # ç”Ÿæˆçš„éžé»˜è®¤åœ°å€çš„å…¬é’¥å­˜æ”¾ç‚¹ git clone --recursiveå¥½åƒæ˜¯ä¼šæŠŠ submodule ä¹Ÿæ›´æ–°å¥½ï¼Œ å¾…éªŒè¯ã€‚ git åˆå§‹åŒ–é¡¹ç›®åœ¨å‘½ä»¤è¡Œä¸­åˆ›å»º Git ä»“åº“ 12345678mkdir HexoBlogSourcecd HexoBlogSourcegit initecho "# HexoBlogSource" &gt;&gt; README.mdgit add README.mdgit commit -m "first commit"git remote add origin https://git.coding.net/yafey/HexoBlogSource.gitgit push -u origin master å·²æœ‰é¡¹ç›® 12git remote add origin https://git.coding.net/yafey/HexoBlogSource.gitgit push -u origin master git å¸¸ç”¨æ“ä½œé›†é”¦tag remote branch HEAD directly å‚è€ƒ ï¼š Git: Is there a way to tag remote branch HEAD directly by commit id? No real need to mess with local tags, just do the rewrite while pushing. 12# æ›¿æ¢ä¸‹é¢çš„ &lt;&gt; ä¸­çš„å†…å®¹ï¼Œ å¦‚æžœåªæœ‰ä¸€ä¸ª remote ï¼Œorigin ä¸ç”¨æ›¿æ¢ã€‚git push &lt;origin&gt; refs/remotes/&lt;origin&gt;/&lt;branch1&gt;:refs/tags/&lt;tagged-branch1&gt; [^1]: Too Long; Donâ€™t Readçš„ç¼©å†™ï¼Œæ¢æˆä¸­å›½è¯ï¼Œå°±æ˜¯å¤ªé•¿äº†ï¼Œè¯»ä¸ä¸‹åŽ»çš„æ„æ€ã€‚ ç½‘ç»œä¸Šçš„æ–‡ç« éƒ½å¤ªé•¿äº†ï¼Ÿ @2012-11-27 09:30 æ ¹æ®å­—å…¸è§£é‡Šï¼Œâ€œTL;DRâ€å‘æºè‡ªç½‘ç»œã€‚ä¸€èˆ¬ç”¨äºŽå›žå¤åˆ«äººå†™å¾—å¤ªå¤šï¼Œåè€Œè®©äººæŠ“ä¸ä½é‡ç‚¹ï¼ŒçŽ°åœ¨æœ‰çš„äººæŠŠå®ƒæ”¾åœ¨ä¸€æ®µè¯çš„å¼€å¤´ï¼Œä»£è¡¨â€œé•¿è¯çŸ­è¯´â€çš„æ„æ€â€”â€”å¦‚ä»Šä¸å°‘æœåŠ¡éƒ½ç›´æŽ¥ä»¥â€œTL;DRâ€ä¸ºå‘½åï¼ŒæŠŠç½‘ç»œä¸Šä¸€ç¯‡å¾ˆé•¿çš„æŠ¥é“ï¼Œç¼©çŸ­æˆç®€å•çš„ä¸‰ä¸¤å¥è¯ï¼Œè®©äººå¿«é€ŸæŠ“ä½æ–‡ç« çš„ç²¾åŽã€‚]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€ç®€è¦ã€‘è®°å½•æ­å»º Hexo çš„ä¸€äº›æ­¥éª¤]]></title>
    <url>%2Fblog%2F2017-06-06.Hexo-brief%2F</url>
    <content type="text"><![CDATA[æ€»æƒ³æœ‰ä¸ªè‡ªå·±çš„åœ°æ–¹è®°å½•ä¸€äº›ä¸œè¥¿ï¼Œ å…œå…œè½¬è½¬ï¼Œè¿˜æ˜¯é€‰æ‹©äº†GitHub Pagesã€‚è¯•è¿‡Jekyllï¼Œå¯æƒœrubyè·Ÿæˆ‘ç›¸æ€§å®žåœ¨ä¸åˆï¼ŒæŠ˜è…¾äº†åŠå¤©ä¹Ÿæ²¡æžæ˜Žç™½ã€‚äºŽæ˜¯é€‰æ‹©äº†Hexoã€‚ä½¿ç”¨å¾ˆç®€å•ï¼Œjsä¹Ÿæ¯”rubyäº²åˆ‡äº›ï¼Œä½†æ­å»ºè¿‡ç¨‹ä¸­è¿˜æ˜¯ç¢°åˆ°ä¸€äº›é—®é¢˜ï¼Œè¿™é‡Œè®°å½•ä¸‹ã€‚ å®‰è£… Node.jsæš‚æ—¶ç•¥ï¼Œ å¯å‚è€ƒ è®°å½•ä¸‹æ­å»ºhexoçš„ä¸€äº›é—®é¢˜ by è‡ªåˆ¶node.js + npmç»¿è‰²ç‰ˆ å®‰è£… Gitç•¥ï¼Œ ä½œä¸ºå¼€å‘ï¼Œ ä½ ç”µè„‘ä¸Šéƒ½æ²¡æœ‰ Git ï¼Ÿ æ•™ç¨‹ç½‘ä¸Šä¸€å¤§æŠŠã€‚ å»ºè®®ï¼š å®‰è£…çš„æ—¶å€™ï¼Œ ä¸è¦é€‰æ‹© checkout Window ï¼Œcommit Linux ï¼Œ è¿™æ ·è‡ªåŠ¨è½¬æ¢ EOL çš„ é»˜è®¤é€‰é¡¹ã€‚ å®‰è£… Hexo ã€é‡å¤´æˆå¼€å§‹äº†ã€‘å†™åšå®¢æ—¶ 2017å¹´6æœˆ6æ—¥23:46:34 çš„ ç‰ˆæœ¬ä¿¡æ¯ ï¼ŒHexo ä¸åŒçš„ç‰ˆæœ¬å˜åŒ–è¿˜æŒºå¤§çš„ã€‚ 12345678910111213PS ~\git\HexoBlogSource&gt; hexo versionhexo: 3.3.7hexo-cli: 1.0.3os: Windows_NT 10.0.14393 win32 x64http_parser: 2.7.0node: 6.9.2v8: 5.1.281.88uv: 1.9.1zlib: 1.2.8ares: 1.10.1-DEVicu: 57.1modules: 48openssl: 1.0.2j Hexo å®˜ç½‘ ç»™å‡ºäº† æœ€ç®€å•çš„ å®‰è£…æ­¥éª¤ (ç¨åŠ æ•´ç†) 1234567891011# npmå®‰è£…æ—¶å…¶å®žå¯ä»¥æŒ‡å®šç‰ˆæœ¬å·npm install hexo-cli -ghexo init blogcd blog# å®‰è£…ä¸€äº›å¿…è¦çš„ä¾èµ– ï¼Œ æ‰§è¡Œå‰çœ‹ä¸‹ &lt;ã€çŸ¥è¯†ç‚¹ã€‘åœ¨ä¸­å›½ï¼Œnpm ä½¿ç”¨ä¼˜åŒ– &gt;npm installhexo s[erver] -p 80 # [] æ–¹æ‹¬å·ä¸­çš„å†…å®¹å¯çœç•¥# å¯é€‰ï¼Œä½¿ç”¨rssæ—¶æ‰éœ€è¦npm install hexo-generator-feed --save# å¯é€‰ï¼Œç”Ÿæˆsitemapnpm install hexo-generator-sitemap --save ã€çŸ¥è¯†ç‚¹ã€‘åœ¨ä¸­å›½ï¼Œnpm ä½¿ç”¨ä¼˜åŒ– ç½‘ç»œä¸å¥½ã€è¢«å¢™çš„è¯ï¼Œnpmä¼šå¾ˆæ…¢ï¼Œè¯•è¯•åŠ å‚æ•°--registry=http://r.cnpmjs.orgï¼Œå›½å†…çš„é•œåƒã€‚ å‡ºçŽ°å„ç§å¥‡æ€ªçš„é”™è¯¯çš„è¯ï¼Œè¯•è¯•npm cache clearã€‚ å°† Npm çš„æºæ›¿æ¢æˆæ·˜å®çš„æº å‚è€ƒ ï¼š å°† Npm çš„æºæ›¿æ¢æˆæ·˜å®çš„æº by sg.ff @2016å¹´02æœˆ17æ—¥å‘å¸ƒ åœ¨å¢™å†…ä¹…äº†ï¼Œéš¾å…ä¼šç¢°åˆ°æ’žå¢™çš„æ—¶å€™ï¼Œæ‰€å¹¸å›½å†…ä¹Ÿæœ‰ä¼—å¤š NPM é•œåƒå¯ä¾›é€‰æ‹©ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å›½å†…çš„æºï¼ˆæ¯”å¦‚ æ·˜å® NPM é•œåƒ http://npm.taobao.orgï¼‰åŽ»æ›¿æ¢å®˜æ–¹çš„æºä»¥åŠ å¿«ä¸‹è½½åŒ…çš„é€Ÿåº¦ã€‚ ä¸è¿‡å‘¢ï¼Œæˆ‘ä»¬åœ¨å‘å¸ƒè‡ªå·±çš„åŒ…çš„æ—¶å€™å´éœ€è¦å°†æºä¿®æ”¹å›žå®˜æ–¹çš„ https://registry.npmjs.org æºã€‚ 1234567# ä¿®æ”¹æºåœ°å€ä¸ºæ·˜å® NPM é•œåƒnpm config set registry http://registry.npm.taobao.org/# ä¿®æ”¹æºåœ°å€ä¸ºå®˜æ–¹æºnpm config set registry https://registry.npmjs.org/ å®‰è£… Next ä¸»é¢˜ hexoçš„ä¸»é¢˜å¾ˆå¤šï¼Œä½†æ„Ÿè§‰å¥½çœ‹çš„ä¸å¤šã€‚ã€‚ã€‚æœ€ç»ˆé€‰æ‹©äº†NexTï¼Œå¾ˆå–œæ¬¢è¿™ç§ç®€æ´çš„é£Žæ ¼ï¼Œä½œè€…æ›´æ–°ä¹Ÿå¾ˆç§¯æžã€‚ ä½ ä¼šçˆ±ä¸Š Next çš„ ã€‚ Hexo ä¸»é¢˜çš„åŒæ­¥ç›®å‰æ˜¯ä¸ªé—®é¢˜ï¼Œ è¯¦è§ å¦ä¸€ç¯‡æ–‡ç«  ã€ŠHexo ä¸»é¢˜åŒæ­¥ã€‹ Next ä¸»é¢˜ä¼˜åŒ–å†…å®¹å¤ªå¤šï¼Œ è¯¦è§ å¦ä¸€ç¯‡æ–‡ç«  ã€ŠHexo ä¸»é¢˜ä¼˜åŒ–ã€‹ æœªè§£ä¹‹è°œ å¯èƒ½çš„åŽŸå› ï¼š å‚è€ƒè‡ªï¼š Hexoéƒ¨ç½²å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ å°†è‡ªå·±çš„Blogæ–‡ä»¶å¤¹ä½¿ç”¨Gitæ¥ç®¡ç†ï¼Œéœ€è¦æ³¨æ„ä¸€ä¸‹å‡ ç‚¹ã€‚ å¦‚æžœä¸»é¢˜æ˜¯é€šè¿‡gitç®¡ç†çš„ï¼Œéœ€è¦å°†ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹çš„.gitæ–‡ä»¶å¤¹åˆ é™¤ï¼Œæ‰èƒ½åŒæ­¥Blogæ–‡ä»¶å¤¹ï¼ˆ.gitæ–‡ä»¶å¤¹æ˜¯éšè—çš„ï¼Œéœ€è¦æ˜¾ç¤ºéšè—æ–‡ä»¶æ‰èƒ½åˆ é™¤ï¼ŒLinuxä¸‹éœ€è¦rm -rfå‘½ä»¤æ‰èƒ½åˆ é™¤ï¼ŒMacæ²¡ç”¨è¿‡ï¼Œä¸æ¸…æ¥šï¼‰ã€‚ æŒ‰ç…§Blogç›®å½•ä¸‹è‡ªå¸¦çš„.gitignoreæ–‡ä»¶ï¼Œnode_modulesæ–‡ä»¶å¤¹æ˜¯ä¸ä¼šåŒæ­¥çš„ï¼Œæ‰€ä»¥åŒæ­¥ä¹‹åŽéœ€è¦è‡ªå·±å†æ¬¡è¿›è¡Œnpm installï¼Œä½†æ˜¯æ³¨æ„ï¼Œä¸è¦è¿›è¡Œhexo initäº†ï¼Œå¦åˆ™_config.ymlå…¨éƒ½ç™½å¼„äº†ã€‚ å¯ä»¥çœ‹åˆ° hexo init a æ—¶ï¼Œ ä¼šè‡ªåŠ¨æŠŠ landscape ä¸‹è½½å¥½ï¼Œ æ—¥å¿—ä¸­ä¹Ÿæ‰“å‡ºäº† Submodule &#39;themes/landscape&#39; (...) registered for path &#39;themes/landscape&#39; è¿™æ ·çš„ä¿¡æ¯ï¼Œ ä½†æ˜¯ï¼š å¥‡æ€ªçš„å°±æ˜¯ ï¼Œ landscape åœ¨ Hexo æ ¹ç›®å½• ç”¨ git gui å‘½ä»¤ æ˜¯å¯ä»¥çœ‹åˆ° æ–‡ä»¶çš„ï¼Œ ä½†æ˜¯ next ä¸»é¢˜åªæ˜¾ç¤º subproject ä¸€ä¸ªæ–‡ä»¶ï¼Œ éš¾é“æ˜¯å› ä¸º hexo init a ç”¨äº†ç±»ä¼¼ git clone --recursive çš„è¯­æ³•ï¼Œç„¶åŽå°±ä¸ä½œä¸ºä¸€ä¸ª subproject äº†ï¼Ÿ ç„¶åŽæˆ‘æŠŠ landscape ç›®å½•åˆ äº†ï¼Œ æŒ‰ Next æ–¹å¼ clone äº†ä¸€éï¼Œ landscape ç›®å½•ä¹Ÿåƒ next é‚£æ ·åªæ˜¾ç¤º subproject ä¸€ä¸ªæ–‡ä»¶ï¼Œ è¿™æ ·ä¹Ÿå¥½ï¼Œå‡å°‘äº†å¾ˆå¤šæ–‡ä»¶ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738PS ~\git&gt; hexo init aINFO Cloning hexo-starter to ~\git\aCloning into '~\git\a'...remote: Counting objects: 53, done.remote: Total 53 (delta 0), reused 0 (delta 0), pack-reused 53Unpacking objects: 100% (53/53), done.Submodule 'themes/landscape' (https://github.com/hexojs/hexo-theme-landscape.git) registered for path 'themes/landscape'Cloning into '~/git/a/themes/landscape'...remote: Counting objects: 775, done.remote: Total 775 (delta 0), reused 0 (delta 0), pack-reused 775Receiving objects: 100% (775/775), 2.53 MiB | 1.18 MiB/s, done.Resolving deltas: 100% (397/397), done.INFO Install dependenciesï¿½ï¿½Ï¢: ï¿½ï¿½ï¿½á¹©ï¿½ï¿½Ä£Ê½ï¿½Þ·ï¿½ï¿½Òµï¿½ï¿½Ä¼ï¿½npm WARN deprecated swig@1.4.2: This package is no longer maintainednpm WARN prefer global marked@0.3.6 should be installed with -g&gt; fsevents@1.1.1 install ~\git\a\node_modules\fsevents&gt; node install&gt; dtrace-provider@0.8.2 install ~\git\a\node_modules\dtrace-provider&gt; node scripts/install.js&gt; hexo-util@0.6.0 postinstall ~\git\a\node_modules\hexo-util&gt; npm run build:highlightnpm WARN invalid config loglevel="notice"&gt; hexo-util@0.6.0 build:highlight ~\git\a\node_modules\hexo-util&gt; node scripts/build_highlight_alias.js &gt; highlight_alias.jsonnpm notice created a lockfile as package-lock.json. You should commit this file.added 438 packages in 200.46sINFO Start blogging with Hexo! å‚è€ƒ ï¼š ã€é‡ç‚¹å‚è€ƒã€‘è®°å½•ä¸‹æ­å»ºhexoçš„ä¸€äº›é—®é¢˜ æœ€ç®€ä¾¿çš„æ–¹æ³•æ­å»ºHexo+Githubåšå®¢,åŸºäºŽNextä¸»é¢˜ Hexoéƒ¨ç½²å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ â€“ ä¼ é€é—¨]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨ ES Decorators æž„å»ºä¸€è‡´æ€§ APIã€Œæ·˜å®FEDå‰ç«¯å›¢é˜Ÿã€]]></title>
    <url>%2Fblog%2F2017-06-02.building-consistent-api-with-es-decorators%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨ ES decorators æž„å»ºä¸€è‡´æ€§ APIä½œè€…: æ³•æµ· å‘è¡¨äºŽ: 2017-04-27 é‡ç”¨å’Œä¸€è‡´æ€§æ˜¯ç¨‹åºè®¾è®¡ä¸­ç»ä¹…ä¸è¡°çš„ä¸¤ä¸ªè¯¾é¢˜ã€‚åœ¨æœ€æ–°çš„ ES Proposal ä¸­ï¼Œã€Œdecorators è¯­æ³•ã€ä¸ºæ­¤å¸¦æ¥äº†ä¸€å®šçš„ä¾¿åˆ©ï¼Œå¹¶ä¸”ï¼Œå¾ˆé€‚åˆåº”ç”¨äºŽå¤§åž‹çš„ç±»åº“ä¸­ã€‚ è£…é¥°æ¨¡å¼æåˆ° decorator å¤§å®¶éƒ½ä¸ä¼šé™Œç”Ÿï¼Œå³ã€Œè£…é¥°æ¨¡å¼ã€â€”â€” æˆ‘ä»¬å¯ä»¥åœ¨ã€Œä¸ä¾µå…¥åŽŸæœ‰ä»£ç ã€çš„æƒ…å†µä¸‹ï¼Œä¸ºä»£ç å¢žåŠ ä¸€äº›ã€Œé¢å¤–çš„åŠŸèƒ½ã€ã€‚ æ‰€è°“ã€Œé¢å¤–çš„åŠŸèƒ½ã€ä¸€èˆ¬éƒ½æ¯”è¾ƒç‹¬ç«‹ï¼Œä¸å’ŒåŽŸæœ‰é€»è¾‘è€¦åˆï¼Œåªæ˜¯åšä¸€å±‚åŒ…è£…ã€‚ä½ ä¹Ÿå¯ä»¥æŠŠå®ƒçœ‹æˆã€ŒåŒ…è£…æ¨¡å¼ã€ã€‚å½¢å¦‚ï¼š 123456789101112131415// æ—§æ–¹æ³•function func() &#123;&#125;// åŒ…è£…åŽçš„æ–°æ–¹æ³•function funcWrapped() &#123; // æœ‰çš„æ²¡çš„ doSomethingBefore(); // æ—§æ–¹æ³•çš„è¿‡ç¨‹æœ¬èº«å¹¶ä¸å˜åŒ– func(); // è¿™å•Šé‚£çš„ doSomethingAfter();&#125; è¿™æ ·çœ‹æ¥ï¼Œæœ‰ä¸€äº›åœºæ™¯ç‰¹åˆ«é€‚ç”¨è¿™ä¸ªæ¨¡å¼ï¼Œæ¯”å¦‚ï¼š è®°å½•æ–¹æ³•çš„å¼€å§‹æ‰§è¡Œå’Œç»“æŸæ‰§è¡Œã€‚ ä¸ºè¿ç®—è¿‡ç¨‹æä¾›é¢å¤–çš„ç¼“å­˜èƒ½åŠ›ã€‚ æ ‡è®°æ–¹æ³•ä¸º deprecatedã€‚ ç­‰ç­‰ã€‚ ç¼–å†™ä¸€ä¸ªè£…é¥°å™¨å¦‚æžœæœ‰å¥½å¤šæ–¹æ³•éƒ½æƒ³åŒ…ä¸Šè¿™ç§ã€Œé¢å¤–çš„åŠŸèƒ½ã€ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸ä¼šä¸€ä¸ªä¸ªåœ°åŽ»æ”¹å†™ï¼Œè€Œæ˜¯è€ƒè™‘æŠ½å‡ºä¸€ä¸ªã€Œè£…é¥°å™¨ã€â€”â€” å®ƒèƒ½å¤ŸæŽ¥å—åŽŸæ–¹æ³•ï¼Œç„¶åŽç”ŸæˆåŒ…è£…åŽçš„æ–¹æ³•ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³è®°å½•æ‰€æœ‰æ–¹æ³•çš„è¿è¡Œæ—¶é—´ï¼š 12345678910111213141516171819function performanceTimingDecorator(func) &#123; // è¿”å›žåŒ…è£…åŽçš„æ–°æ–¹æ³• return function(...args) &#123; const start = Date.now(); func(...args); const end = Date.now(); const t = end - start; console.log(`$&#123;func.name&#125; performed $&#123;t&#125;ms.`); &#125;;&#125;function func() &#123;&#125;const funcWrapped = performanceTimingDecorator(func);// func performed 2ms.funcWrapped(); ä½¿ç”¨ ES decoratorså¦‚æžœä¸€ä¸ªç³»ç»Ÿå†…éœ€è¦å¤§é‡è¿ç”¨è£…é¥°å™¨ï¼Œé‚£ä¹ˆä¸Šè¿°çš„å†™æ³•å¯è¯»æ€§è¿˜æœ‰å¾…æé«˜ã€‚ES decorators è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œè¿™æ˜¯ä¸€ä¸ªæ–°çš„è¯­æ³•ï¼ˆè¯­æ³•ç³–ï¼‰ï¼š 123456789101112131415// å®šä¹‰ decoratorfunction performanceTiming(...args) &#123; // è¿”å›žåŒ…è£…åŽçš„æ–¹æ³• return function(target, key, descriptor) &#123; // ... &#125;;&#125;class MyClass &#123; // ä½¿ç”¨è¿™ç§è¯­æ³•ä¿®é¥°æ–¹æ³• func @performanceTiming func() &#123;&#125;&#125; æ–°çš„ decorator è¯­æ³• @xxx çš„å½¢å¼éžå¸¸ç±»ä¼¼ Java Annotationï¼Œä¸è¿‡åŽè€…ä½œä¸ºé™æ€è¯­è¨€ï¼Œå…¶ Annotation çš„å®žçŽ°æœºåˆ¶ä»¥åŠä½¿ç”¨åœºæ™¯å’Œ ES decorators éƒ½æœ‰åŒºåˆ«ï¼Œè¿™æ˜¯ä¸€ä¸ªé¢˜å¤–è¯ã€‚äº‹å®žä¸Šï¼ŒES decorators å®Œå…¨å€Ÿé‰´è‡ª Python çš„ decoratorsã€‚ åŒæ—¶ï¼Œèªæ˜Žçš„ä½ åº”è¯¥å‘çŽ°ï¼Œç›¸æ¯”æ‰‹å†™è£…é¥°å™¨ï¼Œæ–°çš„è¯­æ³•ä¸­å…¶å®žã€Œè¯¥å†™çš„ä¸œè¥¿ä¸€ä¸ªéƒ½æ²¡å°‘ã€ã€‚é‚£è¿™ä¸ª decorators è¯­æ³•æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ç§è¯­æ³•ç³–å¯¹ decorators çš„ã€Œå®šä¹‰ã€å’Œã€Œè°ƒç”¨ã€éƒ½åšäº†æ”¶æ•›ï¼Œå¸¦æ¥äº†ã€Œå½¢å¼ç¾Žæ„Ÿã€ã€‚è¯´äººè¯ï¼Œå¯è¯»æ€§æ›´å¥½ã€‚ åœ¨ decorators å®šä¹‰æ—¶ï¼Œçº¦æŸäº†è£…é¥°å™¨çš„è¾“å…¥ï¼ˆå›ºå®šçš„å‡ ä¸ªç›¸å…³å‚æ•°ï¼‰å’Œè¾“å‡ºï¼ˆè¿”å›žä¸€ä¸ª functionï¼‰ï¼Œä½¿æ‰€æœ‰è£…é¥°å™¨é£Žæ ¼å¾—åˆ°æ”¶æ•›ã€‚ åœ¨ decorators è°ƒç”¨æ—¶ï¼Œä»¥æ— ä¾µå…¥çš„è¯­æ³•ã€Œä¿®é¥°ã€ç±»æˆ–æ–¹æ³•ï¼Œå¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§éƒ½æå‡å¾ˆå¤šã€‚ è¿™ä¸¤ä¸ªä¼˜åŠ¿ï¼Œè®©æˆ‘æƒ³åˆ° ES decorators çš„ä¸€ä¸ªé‡è¦ä½¿ç”¨åœºæ™¯ï¼Œä¾¿æ˜¯åº”ç”¨äºŽæž„æž¶ä¸€è‡´æ€§ APIã€‚ æž„æž¶ä¸€è‡´æ€§ APIå¯¹äºŽå¤šäººå¼€å‘çš„å¤§åž‹ç±»åº“æ¥è¯´ï¼Œã€Œä¸€è‡´æ€§ã€æ˜¯å¾ˆé‡è¦åŒæ—¶ä¹Ÿå¾ˆéš¾æ‰§è¡Œçš„ä¸€ä¸ªè¯¾é¢˜ã€‚è¿™é‡Œçš„ã€Œä¸€è‡´æ€§ã€åŒ…æ‹¬ï¼š å„æ¨¡å—æä¾›ä¸€è‡´çš„æ ‡å‡†å…¬ç”¨åŠŸèƒ½ã€‚ å…¬ç”¨åŠŸèƒ½çš„å®žçŽ°å’Œè°ƒç”¨æ–¹å¼ä¹Ÿä¿æŒä¸€è‡´ã€‚ æ•´ä½“ API çš„é£Žæ ¼ä¸€è‡´ã€‚ å…¶ä¸­ 1ã€2 ä¸¤ç‚¹å¯ä»¥é€šè¿‡å¼•å…¥ ES decorators æœºåˆ¶æ¥æ›´å¥½åœ°è¾¾åˆ°ã€‚ å®žè·µæ¼”ç¤ºå…ˆå°è£…å¥½éƒ¨åˆ† decoratorsï¼ˆå¯å‚è§ @ali/universal-decorator è¿™ä¸ªåŒ…ï¼‰ï¼Œè¿™é‡Œé€‰å–ä¸¤ä¸ªè£…é¥°å™¨ï¼š @deprecated - ç”¨äºŽä¿®é¥°ç±»çš„æ–¹æ³•ï¼Œå¦‚æžœæ–¹æ³•è¢«è°ƒç”¨ï¼Œåˆ™åœ¨ console ä¸­æç¤ºæ­¤æ–¹æ³•å·²ç»è¿‡æ—¶ï¼Œä»¥ä¾¿å¼€å‘è€…è½¬è€Œè°ƒç”¨å…¶ä»–æ–¹æ³•ã€‚ @moduleLevel - è¿™æ˜¯ Rax ä½“ç³»ä¸‹æ¨¡å—ç±»çš„ä¸€ä¸ªé™æ€æˆå‘˜æ ‡å‡†å­—æ®µï¼Œå¯å–å€¼ä¸ºå‡ ä¸ªæœ‰é™çš„æžšä¸¾ï¼Œæ­¤è£…é¥°å™¨å¯¹æ­¤åšäº†çº¦æŸã€‚ æŽ¥ä¸‹æ¥å…·ä½“åœ°åº”ç”¨åˆ°åº“ä¸­ã€‚ ä¾‹å¦‚ @ali/universal-tracker ä¸­ï¼Œreport() æ–¹æ³•å·²ç»è¿ç§»åˆ°äº† @ali/universal-goldlogï¼ŒåŽŸæ–¹æ³•å·²ç»åºŸå¼ƒï¼Œåˆ™å¯ä»¥å†™ä½œï¼š 1234567891011import &#123;deprecated&#125; from '@ali/universal-decorator';class Tracker &#123; @deprecated('This method is moved to universal-goldlog.', &#123; url: 'http://web.npm.alibaba-inc.com/package/@ali/universal-goldlog' &#125;) report() &#123; // ... &#125;&#125; ç„¶åŽåœ¨è°ƒç”¨ report() åŽåˆ™ä¼šæç¤ºï¼š è¿™æ ·ï¼Œåœ¨ç›¸å…³çš„æ‰€æœ‰åº“ä¸­éƒ½å¼•å…¥ç±»ä¼¼çš„è£…é¥°å™¨ï¼Œä»Žè€Œä¿è¯ API è¡¨è¾¾ä¸Šçš„ä¸€è‡´ï¼Œå¹¶ä¸”è¿™äº›å…¬å…±é€»è¾‘éµå¾ªä¸€è‡´çš„å®žçŽ°ã€‚ å¦å¤–è¿˜æœ‰ä¸€ä¸ªä¾‹å­ï¼Œå¯ä»¥ç”¨æ¥å¯¹ç±»çš„å­—æ®µåšçº¦æŸã€‚ä»¥å¤§é‡åŸºäºŽ Rax çš„é¡µé¢æ¨¡å—ä¸ºä¾‹ï¼Œè¿™äº›æ¨¡å— class éœ€è¦å£°æ˜Žä¸€ä¸ªé™æ€å±žæ€§ moduleLevel æ˜¯ app çº§åˆ«è¿˜æ˜¯ page çº§åˆ«ï¼Œä»¥ä¾¿äºŽæ¡†æž¶å°†å…¶æ¸²æŸ“åˆ°å¯¹åº”çš„å®¹å™¨ä¸­ã€‚ä½†æ˜¯é™æ€æˆå‘˜çš„èµ‹å€¼ä¸å¤Ÿæ¸…æ™°æ˜Žæœ—ï¼Œä¹Ÿä¸èƒ½å¯¹æžšä¸¾å€¼åšçº¦æŸã€‚ä½¿ç”¨ decorators æ¥æ”¹å†™åˆ™ï¼š 1234567import &#123;moduleLevel&#125; from '@ali/universal-decorator';@moduleLevel('page')class MyModule1 &#123;&#125;@moduleLevel('other')class MyModule2 &#123;&#125; moduleLevel è¿™ä¸ª decorator å°†ä¸ºç±»èµ‹ä¸Šä¸€ä¸ªåä¸º moduleLevel çš„é™æ€æˆå‘˜ï¼Œå¹¶ä¸”ä¼šå¯¹ä¼ å…¥å€¼ä½œåˆ¤æ–­ï¼Œå¦‚æžœå…¥å‚ä¸æ˜¯ &#39;page&#39; æˆ– &#39;app&#39;ï¼Œåˆ™å‘å‡ºè­¦å‘Šï¼š æœ€åŽï¼Œç”±äºŽä½¿ç”¨äº† ES decorators è¯­æ³•çš„ä»£ç ï¼Œç±»ä¼¼äºŽä¸€ç§å£°æ˜Žå¼çš„æ ‡è®°ï¼Œæ‰€ä»¥æ›´åˆ©äºŽæˆ‘ä»¬å¯¹è¿™äº›ä»£ç ä½œé™æ€åˆ†æžï¼Œæ¯”å¦‚è¿›ä¸€æ­¥çš„æå‰æ ¡éªŒï¼Œæˆ–æ˜¯æ¡ä»¶ç¼–è¯‘ç­‰ç­‰ã€‚è¿™éƒ¨åˆ†æ›´å¤šçš„æƒ³æ³•å’Œæ€è·¯ï¼Œæœ‰å¾…å‘æŽ˜ã€‚ å¼•ç”¨ Exploring EcmaScript Decorators é¢˜å›¾ï¼šä¸€æ£µè¢«è£…é¥°å¾—äº”å…‰åè‰²çš„åœ£è¯žæ ‘ã€‚å¾ˆå¤šæ¶‰åŠåˆ° decorator çš„æ–‡ç« åŠ¨ä¸åŠ¨å°±æ‹¿åœ£è¯žæ ‘æ¥ä¸¾ä¾‹å­ï¼Œä¿¨ç„¶ Christmas tree æ˜¯ decorate çš„å›ºå®šå®¾è¯­ã€‚ðŸŽ„]]></content>
      <categories>
        <category>Webå¼€å‘</category>
      </categories>
      <tags>
        <tag>decorator</tag>
        <tag>es7</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES7 Decorator è£…é¥°è€…æ¨¡å¼ã€Œæ·˜å®FEDå‰ç«¯å›¢é˜Ÿã€]]></title>
    <url>%2Fblog%2F2017-06-02.es7-decorator%2F</url>
    <content type="text"><![CDATA[ES7 Decorator è£…é¥°è€…æ¨¡å¼ä½œè€…: çŽ„å†œ å‘è¡¨äºŽ: 2015-11-16 1ã€è£…é¥°æ¨¡å¼è®¾è®¡æ¨¡å¼å¤§å®¶éƒ½æœ‰äº†è§£ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šç³»åˆ—æ•™ç¨‹ã€‚ è¿™é‡Œåªåˆ†äº« è£…é¥°è€…æ¨¡å¼ ä»¥åŠå¦‚ä½•ä½¿ç”¨ ES7 çš„ decorator æ¦‚å¿µã€‚ 1.1ã€è£…é¥°æ¨¡å¼ v.s. é€‚é…å™¨æ¨¡å¼è£…é¥°æ¨¡å¼å’Œé€‚é…å™¨æ¨¡å¼éƒ½æ˜¯ åŒ…è£…æ¨¡å¼ (Wrapper Pattern)ï¼Œå®ƒä»¬éƒ½æ˜¯é€šè¿‡å°è£…å…¶ä»–å¯¹è±¡è¾¾åˆ°è®¾è®¡çš„ç›®çš„çš„ï¼Œä½†æ˜¯å®ƒä»¬çš„å½¢æ€æœ‰å¾ˆå¤§åŒºåˆ«ã€‚ é€‚é…å™¨æ¨¡å¼æˆ‘ä»¬ä½¿ç”¨çš„åœºæ™¯æ¯”è¾ƒå¤šï¼Œæ¯”å¦‚è¿žæŽ¥ä¸åŒæ•°æ®åº“çš„æƒ…å†µï¼Œä½ éœ€è¦åŒ…è£…çŽ°æœ‰çš„æ¨¡å—æŽ¥å£ï¼Œä»Žè€Œä½¿ä¹‹é€‚é…æ•°æ®åº“ â€”â€” å¥½æ¯”ä½ æ‰‹æœºä½¿ç”¨è½¬æŽ¥å£æ¥é€‚é…æ’åº§é‚£æ ·ï¼› è£…é¥°æ¨¡å¼ä¸ä¸€æ ·ï¼Œä»…ä»…åŒ…è£…çŽ°æœ‰çš„æ¨¡å—ï¼Œä½¿ä¹‹ â€œæ›´åŠ åŽä¸½â€ ï¼Œå¹¶ä¸ä¼šå½±å“åŽŸæœ‰æŽ¥å£çš„åŠŸèƒ½ â€”â€” å¥½æ¯”ä½ ç»™æ‰‹æœºæ·»åŠ ä¸€ä¸ªå¤–å£³ç½¢äº†ï¼Œå¹¶ä¸å½±å“æ‰‹æœºåŽŸæœ‰çš„é€šè¯ã€å……ç”µç­‰åŠŸèƒ½ï¼› æ›´å¤šåŒºåˆ«å‚è§ï¼šè®¾è®¡æ¨¡å¼â€”â€”è£…é¥°æ¨¡å¼ï¼ˆDecoratorï¼‰ 1.2ã€è£…é¥°æ¨¡å¼åœºæ™¯ â€”â€” é¢å‘ AOP ç¼–ç¨‹è£…é¥°æ¨¡å¼ç»å…¸çš„åº”ç”¨æ˜¯ AOP ç¼–ç¨‹ï¼Œæ¯”å¦‚â€œæ—¥å¿—ç³»ç»Ÿâ€ï¼Œæ—¥å¿—ç³»ç»Ÿçš„ä½œç”¨æ˜¯è®°å½•ç³»ç»Ÿçš„è¡Œä¸ºæ“ä½œï¼Œå®ƒåœ¨ä¸å½±å“åŽŸæœ‰ç³»ç»Ÿçš„åŠŸèƒ½çš„åŸºç¡€ä¸Šå¢žåŠ è®°å½•çŽ¯èŠ‚ â€”â€” å¥½æ¯”ä½ ä½©æˆ´äº†ä¸€ä¸ªæ™ºèƒ½æ‰‹çŽ¯ï¼Œå¹¶ä¸å½±å“ä½ æ—¥å¸¸çš„ä½œæ¯èµ·å±…ï¼Œä½†ä½ çŽ°åœ¨å´æœ‰äº†è‡ªå·±æ¯å¤©çš„è¡Œä¸ºè®°å½•ã€‚ æ›´åŠ æŠ½è±¡çš„ç†è§£ï¼Œå¯ä»¥ç†è§£ä¸ºç»™æ•°æ®æµåšä¸€å±‚filterï¼Œå› æ­¤ AOP çš„å…¸åž‹åº”ç”¨åŒ…æ‹¬ å®‰å…¨æ£€æŸ¥ã€ç¼“å­˜ã€è°ƒè¯•ã€æŒä¹…åŒ–ç­‰ç­‰ã€‚å¯å‚è€ƒSpring aop åŽŸç†åŠå„ç§åº”ç”¨åœºæ™¯ ã€‚ 2ã€ä½¿ç”¨ ES7 çš„ decoratorES7 ä¸­å¢žåŠ äº†ä¸€ä¸ª decorator å±žæ€§ï¼Œå®ƒå€Ÿé‰´è‡ª Pythonï¼Œè¯·å‚è€ƒæ–‡ç« Decorators in ES7ã€‚ ä¸‹é¢æˆ‘ä»¬ä»¥ é’¢é“ä¾  ä¸ºä¾‹è®²è§£å¦‚ä½•ä½¿ç”¨ ES7 çš„ decoratorã€‚ ä»¥é’¢é“ä¾ ä¸ºä¾‹ï¼Œé’¢é“ä¾ æœ¬è´¨æ˜¯ä¸€ä¸ªäººï¼Œåªæ˜¯â€œè£…é¥°â€äº†å¾ˆå¤šæ­¦å™¨æ–¹æ‰å˜å¾—é‚£ä¹ˆ NBï¼Œä¸è¿‡å†æ€Žä¹ˆè£…é¥°ä»–è¿˜æ˜¯ä¸€ä¸ªäººã€‚ æˆ‘ä»¬çš„ç¤ºä¾‹åœºæ™¯æ˜¯è¿™æ ·çš„ é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ™®é€šçš„Manç±»ï¼Œå®ƒçš„æŠµå¾¡å€¼ 2ï¼Œæ”»å‡»åŠ›ä¸º 3ï¼Œè¡€é‡ä¸º 3ï¼› ç„¶åŽæˆ‘ä»¬è®©å…¶å¸¦ä¸Šé’¢é“ä¾ çš„ç›”ç”²ï¼Œè¿™æ ·ä»–çš„æŠµå¾¡åŠ›å¢žåŠ  100ï¼Œå˜æˆ 102ï¼› è®©å…¶å¸¦ä¸Šå…‰æŸæ‰‹å¥—ï¼Œæ”»å‡»åŠ›å¢žåŠ  50ï¼Œå˜æˆ 53ï¼› æœ€åŽè®©ä»–å¢žåŠ â€œé£žè¡Œâ€èƒ½åŠ› 2.1ã€ã€Demo 1ã€‘å¯¹æ–¹æ³•çš„è£…é¥°ï¼šè£…å¤‡ç›”ç”²åˆ›å»º Man ç±»ï¼š 1234567891011121314151617181920class Man&#123; constructor(def = 2,atk = 3,hp = 3)&#123; this.init(def,atk,hp); &#125; init(def,atk,hp)&#123; this.def = def; // é˜²å¾¡å€¼ this.atk = atk; // æ”»å‡»åŠ› this.hp = hp; // è¡€é‡ &#125; toString()&#123; return `é˜²å¾¡åŠ›:$&#123;this.def&#125;,æ”»å‡»åŠ›:$&#123;this.atk&#125;,è¡€é‡:$&#123;this.hp&#125;`; &#125;&#125;var tony = new Man();console.log(`å½“å‰çŠ¶æ€ ===&gt; $&#123;tony&#125;`);// è¾“å‡ºï¼šå½“å‰çŠ¶æ€ ===&gt; é˜²å¾¡åŠ›:2,æ”»å‡»åŠ›:3,è¡€é‡:3 ä»£ç ç›´æŽ¥æ”¾åœ¨ http://babeljs.io/repl/ ä¸­è¿è¡ŒæŸ¥çœ‹ç»“æžœï¼Œè®°å¾—å‹¾é€‰Experimentalé€‰é¡¹å’ŒEvaluateé€‰é¡¹ åˆ›å»º decorateArmour æ–¹æ³•ï¼Œä¸ºé’¢é“ä¾ è£…é…ç›”ç”²â€”â€”æ³¨æ„ decorateArmour æ˜¯è£…é¥°åœ¨æ–¹æ³•initä¸Šçš„ã€‚ 1234567891011121314151617181920212223242526272829303132function decorateArmour(target, key, descriptor) &#123; const method = descriptor.value; let moreDef = 100; let ret; descriptor.value = (...args)=&gt;&#123; args[0] += moreDef; ret = method.apply(target, args); return ret; &#125; return descriptor;&#125;class Man&#123; constructor(def = 2,atk = 3,hp = 3)&#123; this.init(def,atk,hp); &#125; @decorateArmour init(def,atk,hp)&#123; this.def = def; // é˜²å¾¡å€¼ this.atk = atk; // æ”»å‡»åŠ› this.hp = hp; // è¡€é‡ &#125; toString()&#123; return `é˜²å¾¡åŠ›:$&#123;this.def&#125;,æ”»å‡»åŠ›:$&#123;this.atk&#125;,è¡€é‡:$&#123;this.hp&#125;`; &#125;&#125;var tony = new Man();console.log(`å½“å‰çŠ¶æ€ ===&gt; $&#123;tony&#125;`);// è¾“å‡ºï¼šå½“å‰çŠ¶æ€ ===&gt; é˜²å¾¡åŠ›:102,æ”»å‡»åŠ›:3,è¡€é‡:3 æˆ‘ä»¬å…ˆçœ‹è¾“å‡ºç»“æžœï¼Œé˜²å¾¡åŠ›çš„ç¡®å¢žåŠ äº† 100ï¼Œçœ‹æ¥ç›”ç”²èµ·ä½œç”¨äº†ã€‚ åˆå­¦è€…è¿™é‡Œä¼šæœ‰ä¸¤ä¸ªç–‘é—®ï¼š decorateArmouræ–¹æ³•çš„å‚æ•°ä¸ºå•¥æ˜¯è¿™ä¸‰ä¸ªï¼Ÿå¯ä»¥æ›´æ¢ä¹ˆï¼Ÿ decorateArmouræ–¹æ³•ä¸ºä»€ä¹ˆè¿”å›žçš„æ˜¯descriptor è¿™é‡Œç»™å‡ºä¸ªäººçš„è§£ç­”ä½œä¸ºå‚è€ƒï¼š Decorators çš„æœ¬è´¨æ˜¯åˆ©ç”¨äº† ES5 çš„ Object.defineProperty å±žæ€§ï¼Œè¿™ä¸‰ä¸ªå‚æ•°å…¶å®žæ˜¯å’Œ Object.defineProperty å‚æ•°ä¸€è‡´çš„ï¼Œå› æ­¤ä¸èƒ½æ›´æ”¹ï¼Œè¯¦ç»†åˆ†æžè¯·è§ ç»†è¯´ ES7 JavaScript Decorators å¯ä»¥çœ‹çœ‹ bable è½¬æ¢åŽ çš„ä»£ç ï¼Œå…¶ä¸­æœ‰ä¸€å¥æ˜¯ descriptor = decorator(target, key, descriptor) || descriptor; ï¼Œç‚¹åˆ°ä¸ºæ­¢ï¼Œè¿™é‡Œä¸è¯¦ç»†å±•å¼€äº†ï¼Œå¯è‡ªè¡Œçœ‹çœ‹è¿™è¡Œä»£ç çš„ä¸Šä¸‹æ–‡ï¼ˆå‚è€ƒæ–‡çŒ®ä¸­ä¹Ÿæ¶‰åŠåˆ°è¿™å¥ä»£ç çš„è§£é‡Šï¼‰ã€‚ 2.2ã€ã€Demo 2ã€‘è£…é¥°å™¨å åŠ ï¼šå¢žåŠ å…‰æŸæ‰‹å¥—åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æˆåŠŸä¸º æ™®é€šäºº å¢žåŠ  â€œç›”ç”²â€ è¿™ä¸ªè£…é¥°ï¼›çŽ°åœ¨æˆ‘æƒ³å†ç»™ä»–å¢žåŠ  â€œå…‰æŸæ‰‹å¥—â€ï¼Œå¸Œæœ›é¢å¤–å¢žåŠ  50 ç‚¹é˜²å¾¡å€¼ã€‚ Step 1ï¼šæ‹·è´ä¸€ä»½decorateArmouræ–¹æ³•ï¼Œæ”¹åä¸ºdecorateLightï¼ŒåŒæ—¶ä¿®æ”¹é˜²å¾¡å€¼çš„å±žæ€§ï¼š 1234567891011function decorateLight(target, key, descriptor) &#123; const method = descriptor.value; let moreAtk = 50; let ret; descriptor.value = (...args)=&gt;&#123; args[1] += moreAtk; ret = method.apply(target, args); return ret; &#125; return descriptor;&#125; Step 2ï¼šç›´æŽ¥åœ¨initæ–¹æ³•ä¸Šæ·»åŠ è£…é¥°è¯­æ³•ï¼š 123456789.... @decorateArmour @decorateLight init(def,atk,hp)&#123; this.def = def; // é˜²å¾¡å€¼ this.atk = atk; // æ”»å‡»åŠ› this.hp = hp; // è¡€é‡ &#125; ... æœ€åŽçš„ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930...function decorateLight(target, key, descriptor) &#123; const method = descriptor.value; let moreAtk = 50; let ret; descriptor.value = (...args)=&gt;&#123; args[1] += moreAtk; ret = method.apply(target, args); return ret; &#125; return descriptor;&#125;class Man&#123; constructor(def = 2,atk = 3,hp = 3)&#123; this.init(def,atk,hp); &#125; @decorateArmour @decorateLight init(def,atk,hp)&#123; this.def = def; // é˜²å¾¡å€¼ this.atk = atk; // æ”»å‡»åŠ› this.hp = hp; // è¡€é‡ &#125;...&#125;var tony = new Man();console.log(`å½“å‰çŠ¶æ€ ===&gt; $&#123;tony&#125;`);//è¾“å‡ºï¼šå½“å‰çŠ¶æ€ ===&gt; é˜²å¾¡åŠ›:102,æ”»å‡»åŠ›:53,è¡€é‡:3 åœ¨è¿™é‡Œä½ å°±èƒ½çœ‹å‡ºè£…é¥°æ¨¡å¼çš„ä¼˜åŠ¿äº†ï¼Œå®ƒå¯ä»¥å¯¹æŸä¸ªæ–¹æ³•è¿›è¡Œå åŠ ä½¿ç”¨ï¼Œå¯¹åŽŸç±»çš„ä¾µå…¥æ€§éžå¸¸å°ï¼Œåªæ˜¯å¢žåŠ ä¸€è¡Œ@decorateLightè€Œå·²ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å¢žåˆ ï¼›ï¼ˆåŒæ—¶è¿˜å¯ä»¥å¤ç”¨ï¼‰ 2.3ã€ã€Demo 3ã€‘å¯¹ç±»çš„è£…é¥°ï¼šå¢žåŠ é£žè¡Œèƒ½åŠ›æŒ‰æ–‡ç«  è£…é¥°æ¨¡å¼æ‰€è¨€ï¼Œè£…é¥°æ¨¡å¼æœ‰ä¸¤ç§ï¼šçº¯ç²¹çš„è£…é¥°æ¨¡å¼ å’Œ åŠé€æ˜Žçš„è£…é¥°æ¨¡å¼ã€‚ ä¸Šè¿°çš„ä¸¤ä¸ª demo ä¸­æ‰€ä½¿ç”¨çš„åº”è¯¥æ˜¯ çº¯ç²¹çš„è£…é¥°æ¨¡å¼ï¼Œå®ƒå¹¶ä¸å¢žåŠ å¯¹åŽŸæœ‰ç±»çš„æŽ¥å£ï¼›ä¸‹é¢è¦è®² demo æ˜¯ç»™æ™®é€šäººå¢žåŠ â€œé£žè¡Œâ€èƒ½åŠ›ï¼Œç›¸å½“äºŽç»™ç±»æ–°å¢žä¸€ä¸ªæ–¹æ³•ï¼Œå±žäºŽ åŠé€æ˜Žçš„è£…é¥°æ¨¡å¼ï¼Œæœ‰ç‚¹å„¿åƒé€‚é…å™¨æ¨¡å¼çš„æ ·å­ã€‚ Step 1ï¼šå¢žåŠ ä¸€ä¸ªæ–¹æ³•ï¼š 1234567891011function addFly(canFly)&#123; return function(target)&#123; target.canFly = canFly; let extra = canFly ? '(æŠ€èƒ½åŠ æˆ:é£žè¡Œèƒ½åŠ›)' : ''; let method = target.prototype.toString; target.prototype.toString = (...args)=&gt;&#123; return method.apply(target.prototype,args) + extra; &#125; return target; &#125;&#125; Step 2ï¼šè¿™ä¸ªæ–¹æ³•å°†ç›´æŽ¥åŽ»è£…é¥°ç±»ï¼š 12345678910111213141516171819202122232425262728293031323334...// 3function addFly(canFly)&#123; return function(target)&#123; target.canFly = canFly; let extra = canFly ? '(æŠ€èƒ½åŠ æˆ:é£žè¡Œèƒ½åŠ›)' : ''; let method = target.prototype.toString; target.prototype.toString = (...args)=&gt;&#123; return method.apply(target.prototype,args) + extra; &#125; return target; &#125;&#125;@addFly(true)class Man&#123; constructor(def = 2,atk = 3,hp = 3)&#123; this.init(def,atk,hp); &#125; @decorateArmour @decorateLight init(def,atk,hp)&#123; this.def = def; // é˜²å¾¡å€¼ this.atk = atk; // æ”»å‡»åŠ› this.hp = hp; // è¡€é‡ &#125; ...&#125;...console.log(`å½“å‰çŠ¶æ€ ===&gt; $&#123;tony&#125;`);// è¾“å‡ºï¼šå½“å‰çŠ¶æ€ ===&gt; é˜²å¾¡åŠ›:102,æ”»å‡»åŠ›:53,è¡€é‡:3(æŠ€èƒ½åŠ æˆ:é£žè¡Œèƒ½åŠ›) ä½œç”¨åœ¨æ–¹æ³•ä¸Šçš„ decorator æŽ¥æ”¶çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆtarget ï¼‰æ˜¯ç±»çš„ prototypeï¼›å¦‚æžœæŠŠä¸€ä¸ªdecorator ä½œç”¨åˆ°ç±»ä¸Šï¼Œåˆ™å®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•° target æ˜¯ ç±»æœ¬èº«ã€‚ï¼ˆå‚è€ƒ Decorators in ES7ï¼‰ 3ã€ä½¿ç”¨åŽŸç”Ÿ JS å®žçŽ°è£…é¥°å™¨æ¨¡å¼å…³äºŽå¦‚ä½•ç”¨çŽ°æœ‰æ ‡å‡†çš„åŽŸç”Ÿ JS å®žçŽ°çš„è£…é¥°æ¨¡å¼ï¼Œå¯å‚è€ƒè¯‘æ–‡JavaScriptè®¾è®¡æ¨¡å¼ï¼šè£…é¥°è€…æ¨¡å¼ï¼Œè¿™æ˜¯ä¸€ç¯‡å€¼å¾—ä¸€è¯»çš„æ–‡ç« ï¼Œæ·±å…¥æµ…å‡ºã€‚ è¿™é‡Œç”¨ ES5 é‡å†™ä¸€ä¸‹ä¸Šé¢çš„ Demo 1çš„åœºæ™¯ï¼Œç®€ç•¥è¯´ä¸€ä¸‹å…³é”®ç‚¹ï¼š Man æ˜¯å…·ä½“çš„ç±»ï¼ŒDecorator æ˜¯é’ˆå¯¹ Man çš„è£…é¥°å™¨åŸºç±» å…·ä½“çš„è£…é¥°ç±» DecorateArmour å…¸åž‹åœ°ä½¿ç”¨ prototype ç»§æ‰¿æ–¹å¼ ç»§æ‰¿è‡ªDecorator åŸºç±»ï¼› åŸºäºŽ IOCï¼ˆæŽ§åˆ¶åè½¬ï¼‰æ€æƒ³ ï¼ŒDecorator æ˜¯æŽ¥å— Man ç±»ï¼Œè€Œä¸æ˜¯è‡ªå·±åˆ›å»º Manç±»ï¼› æœ€åŽä»£ç æ˜¯ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546// é¦–å…ˆæˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªåŸºç±»function Man()&#123; this.def = 2; this.atk = 3; this.hp = 3;&#125;// è£…é¥°è€…ä¹Ÿéœ€è¦å®žçŽ°è¿™äº›æ–¹æ³•ï¼Œéµå®ˆ Man çš„æŽ¥å£Man.prototype=&#123; toString:function()&#123; return `é˜²å¾¡åŠ›:$&#123;this.def&#125;,æ”»å‡»åŠ›:$&#123;this.atk&#125;,è¡€é‡:$&#123;this.hp&#125;`; &#125;&#125;// åˆ›å»ºè£…é¥°å™¨ï¼ŒæŽ¥æ”¶ Man å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚var Decorator = function(man)&#123; this.man = man;&#125;// è£…é¥°è€…è¦å®žçŽ°è¿™äº›ç›¸åŒçš„æ–¹æ³•Decorator.prototype.toString = function()&#123; return this.man.toString();&#125;// ç»§æ‰¿è‡ªè£…é¥°å™¨å¯¹è±¡// åˆ›å»ºå…·ä½“çš„è£…é¥°å™¨ï¼Œä¹Ÿæ˜¯æŽ¥æ”¶ Man ä½œå¯¹å‚æ•°var DecorateArmour = function(man)&#123; var moreDef = 100; man.def += moreDef; Decorator.call(this,man);&#125;DecorateArmour.prototype = new Decorator();// æŽ¥ä¸‹æ¥æˆ‘ä»¬è¦ä¸ºæ¯ä¸€ä¸ªåŠŸèƒ½åˆ›å»ºä¸€ä¸ªè£…é¥°è€…å¯¹è±¡ï¼Œé‡å†™çˆ¶çº§æ–¹æ³•ï¼Œæ·»åŠ æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½ã€‚DecorateArmour.prototype.toString = function()&#123; return this.man.toString();&#125;// æ³¨æ„è¿™é‡Œçš„è°ƒç”¨æ–¹å¼// æž„é€ å™¨ç›¸å½“äºŽâ€œè¿‡æ»¤å™¨â€ï¼Œé¢å‘åˆ‡é¢çš„var tony = new Man();tony = new DecorateArmour(tony);console.log(`å½“å‰çŠ¶æ€ ===&gt; $&#123;tony&#125;`);// è¾“å‡ºï¼šå½“å‰çŠ¶æ€ ===&gt; é˜²å¾¡åŠ›:102,æ”»å‡»åŠ›:3,è¡€é‡:3 4ã€ç»å…¸å®žçŽ°ï¼šLoggerAOP çš„ç»å…¸åº”ç”¨å°±æ˜¯ æ—¥å¿—ç³»ç»Ÿ äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿç”¨ ES7 çš„è¯­æ³•ç»™é’¢é“ä¾ æ‰“é€ ä¸€ä¸ªæ—¥å¿—ç³»ç»Ÿå§ã€‚ ä¸‹é¢æ˜¯æœ€ç»ˆçš„ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/** * Created by jscon on 15/10/16. */let log = (type) =&gt; &#123; return (target, name, descriptor) =&gt; &#123; const method = descriptor.value; descriptor.value = (...args) =&gt; &#123; console.info(`($&#123;type&#125;) æ­£åœ¨æ‰§è¡Œ: $&#123;name&#125;($&#123;args&#125;) = ?`); let ret; try &#123; ret = method.apply(target, args); console.info(`($&#123;type&#125;) æˆåŠŸ : $&#123;name&#125;($&#123;args&#125;) =&gt; $&#123;ret&#125;`); &#125; catch (error) &#123; console.error(`($&#123;type&#125;) å¤±è´¥: $&#123;name&#125;($&#123;args&#125;) =&gt; $&#123;error&#125;`); &#125; return ret; &#125; &#125;&#125;class IronMan &#123; @log('IronMan è‡ªæ£€é˜¶æ®µ') check()&#123; return 'æ£€æŸ¥å®Œæ¯•'; &#125; @log('IronMan æ”»å‡»é˜¶æ®µ') attack()&#123; return 'å‡»å€’æ•Œäºº'; &#125; @log('IronMan æœºä½“æŠ¥é”™') error()&#123; throw 'Something is wrong!'; &#125;&#125;var tony = new IronMan();tony.check();tony.attack();tony.error();// è¾“å‡ºï¼š// (IronMan è‡ªæ£€é˜¶æ®µ) æ­£åœ¨æ‰§è¡Œ: check() = ?// (IronMan è‡ªæ£€é˜¶æ®µ) æˆåŠŸ : check() =&gt; æ£€æŸ¥å®Œæ¯•// (IronMan æ”»å‡»é˜¶æ®µ) æ­£åœ¨æ‰§è¡Œ: attack() = ?// (IronMan æ”»å‡»é˜¶æ®µ) æˆåŠŸ : attack() =&gt; å‡»å€’æ•Œäºº// (IronMan æœºä½“æŠ¥é”™) æ­£åœ¨æ‰§è¡Œ: error() = ?// (IronMan æœºä½“æŠ¥é”™) å¤±è´¥: error() =&gt; Something is wrong! Logger æ–¹æ³•çš„å…³é”®åœ¨äºŽï¼š é¦–å…ˆä½¿ç”¨ const method = descriptor.value; å°†åŽŸæœ‰æ–¹æ³•æå–å‡ºæ¥ï¼Œä¿éšœåŽŸæœ‰æ–¹æ³•çš„çº¯å‡€ï¼› åœ¨ try..catch è¯­å¥æ˜¯ è°ƒç”¨ ret = method.apply(target, args);åœ¨è°ƒç”¨ä¹‹å‰ä¹‹åŽåˆ†åˆ«è¿›è¡Œæ—¥å¿—æ±‡æŠ¥ï¼› æœ€åŽè¿”å›ž return ret; åŽŸå§‹çš„è°ƒç”¨ç»“æžœ ç›¸ä¿¡è¿™å¥—æ€è·¯ä¼šç»™åŽç»­æˆ‘ä»¬å®žçŽ° AOP æ¨¡å¼æä¾›è‰¯å¥½çš„å€Ÿé‰´ã€‚ 5ã€æ‰©å±•ï¼šåŸºäºŽå·¥åŽ‚æ¨¡å¼å½“ä½ æƒ³è¦ä¸€ä¸ªæœ‰ 3 ç§åŠŸèƒ½çš„é’¢é“ä¾ ï¼Œå°±å¾—ç”¨ new æ“ä½œç¬¦ åˆ›å»º 4 ä¸ªå¯¹è±¡ã€‚è¿™ä¹ˆåšå•è°ƒä¹å‘³åˆçƒ¦äººï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰“ç®—åªè°ƒç”¨ä¸€ä¸ªæ–¹æ³•å°±èƒ½åˆ›å»ºå‡ºä¸€éƒ¨æ‹¥æœ‰æ‰€æœ‰åŠŸèƒ½çš„é’¢é“ä¾ ã€‚ è¿™å°±éœ€è¦ å·¥åŽ‚æ¨¡å¼ äº†ï¼Œå·¥åŽ‚æ¨¡å¼çš„å®˜æ–¹å®šä¹‰æ˜¯ï¼šåœ¨å­ç±»ä¸­å¯¹ä¸€ä¸ªç±»çš„æˆå‘˜å¯¹è±¡è¿›è¡Œå®žä¾‹åŒ–ã€‚æ¯”å¦‚å®šä¹‰ decorateIronManï¼ˆperson,featureï¼‰ æ–¹æ³•ï¼Œé‡Œé¢æŽ¥å—ä¸€ä¸ª Person å¯¹è±¡ï¼ˆè€Œä¸æ˜¯è‡ªå·±åˆå§‹åŒ–ï¼‰,ç›¸å½“äºŽæµæ°´çº¿ç”Ÿäº§äº†ã€‚ å¦‚ä½• ç»“åˆè£…é¥°æ¨¡å¼å’Œå·¥åŽ‚æ¨¡å¼ æé«˜ä»£ç æ•ˆèƒ½ï¼Œè¿™ç¯‡ä¼˜ç§€çš„è¯‘æ–‡ JavaScriptè®¾è®¡æ¨¡å¼ï¼šå·¥åŽ‚æ¨¡å¼ ç»™å‡ºäº†è¯¦ç»†çš„æ–¹æ³•ï¼Œè¿™é‡Œä¸å†èµ˜è¿° ï¼Œå¼ºçƒˆæŽ¨èé˜…è¯»æ­¤æ–‡ã€‚ 6ã€çŽ°åœ¨å°±æƒ³ç”¨ï¼Ÿdecorator ç›®å‰è¿˜åªæ˜¯ä¸€ä¸ªæè®®ï¼Œä½†æ˜¯æ„Ÿè°¢ Babel ï¼Œæˆ‘ä»¬çŽ°åœ¨å°±å¯ä»¥ä½“éªŒå®ƒäº†ã€‚é¦–å…ˆï¼Œå®‰è£…babelï¼š 1npm install babel -g ç„¶åŽï¼Œå¼€å¯ decoratorï¼š 1babel --optional es7.decorators foo.js &gt; foo.es5.js babel ä¹Ÿæä¾›äº†ä¸€ä¸ªåœ¨çº¿çš„ REPL ï¼Œå‹¾é€‰ experimental é€‰é¡¹ï¼Œå°±å¯ä»¥äº†ã€‚ åœ¨ webstorm ä¸­è®¾ç½® babelStep 1 ï¼šé¦–å…ˆå…¨å±€å®‰è£…babelç»„ä»¶æ¨¡å— 1npm install -g babel Step 2 ï¼šè®¾ç½® scope ï¼ˆè¿™ä¸€æ­¥å¯ä»¥çœç•¥ï¼‰ å‘½å scopeï¼š å°†æ–‡ä»¶æ·»åŠ åˆ°å½“å‰ scopeï¼š Step 3 ï¼šè®¾ç½® ES ç‰ˆæœ¬ Step 4 ï¼šæ·»åŠ  watcher arguments å†…å¯ä»¥å¡«å†™ï¼š$FilePathRelativeToProjectRoot$ --stage --out-file $FileNameWithoutExtension$-es5.js $FilePath$ . å¦‚æžœéœ€è¦ source-mapï¼Œéœ€è¦æ·»åŠ --source-mapé€‰é¡¹ï¼ŒåŒæ—¶åœ¨Output paths to refreshä¸­å¡«å†™ $FileNameWithoutExtension$-es5.js:$FileNameWithoutExtension$-es5.js.map æ›´å¤šè®¾ç½®å‚è€ƒbabel cli 7ã€æ€»ç»“è™½ç„¶å®ƒæ˜¯ ES7 çš„ç‰¹æ€§ï¼Œä½†åœ¨ Babel å¤§åŠ¿æµè¡Œçš„ä»Šå¤©ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Babel æ¥ä½¿ç”¨å®ƒã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Babel å‘½ä»¤è¡Œå·¥å…·ï¼Œæˆ–è€… gruntã€gulpã€webpack çš„ babel æ’ä»¶æ¥ä½¿ç”¨ Decoratorsã€‚ ä¸Šè¿°çš„ä»£ç éƒ½å¯ä»¥ç›´æŽ¥æ”¾åœ¨ http://babeljs.io/repl/ ä¸­è¿è¡ŒæŸ¥çœ‹ç»“æžœï¼› å…³äºŽ ES7 Decorators çš„æ›´æœ‰æ„æ€çš„çŽ©æ³•ï¼Œä½ å¯ä»¥å‚è§ç‰›äººå®žçŽ°çš„å¸¸ç”¨çš„ Decoratorsï¼šcore-decoratorsã€‚ä»¥åŠ raganwald çš„ å¦‚ä½•ç”¨ Decorators æ¥å®žçŽ° Mixinã€‚ å‚è€ƒæ–‡çŒ® Decorators in ES7ï¼šè£…é¥°è€…æ¨¡å¼è®©ä½ åŒ…è£…å·²æœ‰çš„æ–¹æ³•ï¼Œä»Žè€Œæ‰©å±•å·²æœ‰å‡½æ•°ã€‚ JavaScriptè®¾è®¡æ¨¡å¼ï¼šè£…é¥°è€…æ¨¡å¼ï¼šä¸¥é‡æŽ¨èï¼Œè¿™ä¸€ç³»åˆ—è®©ä½ æ¯”è¾ƒé€å½»æ˜Žç™½è®¾è®¡æ¨¡å¼åœ¨ JS ä¸­çš„åº”ç”¨ã€‚ ES7 ä¹‹ Decorators å®žçŽ° AOP ç¤ºä¾‹ï¼šå¦‚ä½•å®žçŽ°ä¸€ä¸ªç®€å•çš„ AOPã€‚ ç»†è¯´ ES7 JavaScript Decoratorsï¼šè®²è§£ ES7 Decoratorçš„èƒŒåŽåŽŸç†ï¼Œå°±æ˜¯ä½¿ç”¨äº† Object.defineProperty æ–¹æ³•ï¼› How To Set Up the Babel Plugin in WebStormï¼šå›¾æ–‡å¹¶èŒ‚ï¼Œæ•™ä½ å¦‚ä½•è®¾ç½® babel. Rest å‚æ•°å’Œå‚æ•°é»˜è®¤å€¼ï¼šES6 ä¸ºæˆ‘ä»¬æä¾›ä¸€ç§æ–°çš„æ–¹å¼æ¥åˆ›å»ºå¯å˜å‚æ•°çš„å‡½æ•°ï¼ŒRest å‚æ•°å’Œå‚æ•°é»˜è®¤å€¼ Exploring ES2016 Decoratorsï¼šå¾ˆå®Œæ•´çš„ä¸€ä¸ªæ•™ç¨‹ï¼Œé‡Œé¢æ¶‰åŠæ¯”è¾ƒå…¨é¢ã€‚ Traits with ES7 Decoratorsï¼šç›¸å½“äºŽæ˜¯ä»‹ç» traits-decorator æ¨¡å—ï¼›]]></content>
      <categories>
        <category>Webå¼€å‘</category>
      </categories>
      <tags>
        <tag>decorator</tag>
        <tag>es7</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»Žè¾¾æ ‡åˆ°å“è¶Š â€”â€” API è®¾è®¡ä¹‹é“ã€Œæ·˜å®FEDå‰ç«¯å›¢é˜Ÿã€]]></title>
    <url>%2Fblog%2F2017-06-02.from-done-to-better%2F</url>
    <content type="text"><![CDATA[ä»Žè¾¾æ ‡åˆ°å“è¶Š â€”â€” API è®¾è®¡ä¹‹é“ä½œè€…: æ³•æµ· å‘è¡¨äºŽ: 2017-02-16 æ–°æŠ€æœ¯å±‚å‡ºä¸ç©·ï¼Œé•¿æ±ŸåŽæµªæŽ¨å‰æµªï¼Œè€Œæµªæ½®è¤ªåŽ»åŽèƒ½ç•™ä¸‹æ¥çš„ï¼Œæ˜¯ä¸€äº›ç»å…¸çš„è®¾è®¡æ€æƒ³ã€‚ åœ¨å‰ç«¯ç•Œï¼Œä»¥å‰æœ‰è¿œè¿‘é—»åçš„ jQueryï¼Œè¿‘æ¥æœ‰å£°åé¹Šèµ·çš„ Vue.jsã€‚è¿™ä¸¤è€…å«å¥½åˆå«åº§çš„åŽŸå› å›ºç„¶æœ‰å¾ˆå¤šï¼Œä½†æ˜¯å…¶ä¸­æœ‰ä¸€ä¸ªå…±åŒç‰¹è´¨ä¸å¯å¿½è§†ï¼Œé‚£ä¾¿æ˜¯å®ƒä»¬çš„ API è®¾è®¡ éžå¸¸ä¼˜é›…ã€‚ å› æ­¤è¿™æ¬¡æˆ‘æƒ³æ¥è°ˆä¸ªå¤§è¯¾é¢˜ â€”â€” API è®¾è®¡ä¹‹é“ã€‚ è®¨è®ºå†…å®¹çš„å®šä¹‰åŸŸæœ¬æ–‡å¹¶ä¸æ˜¯ã€ŠjQuery API èµæžã€‹ï¼Œå½“æˆ‘ä»¬è°ˆè®º API çš„è®¾è®¡æ—¶ï¼Œä¸åªå±€é™äºŽè®¨è®ºã€ŒæŸä¸ªæ¡†æž¶åº”è¯¥å¦‚ä½•è®¾è®¡æš´éœ²å‡ºæ¥çš„æ–¹æ³•ã€ã€‚ä½œä¸ºç¨‹åºä¸–ç•Œåˆ†æ²»å¤æ‚é€»è¾‘çš„åŸºæœ¬åä½œæ‰‹æ®µï¼Œå¹¿ä¹‰çš„ API è®¾è®¡æ¶‰åŠåˆ°æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­çš„æ–¹æ–¹é¢é¢ã€‚ æœ€å¸¸è§çš„ API æš´éœ²é€”å¾„æ˜¯å‡½æ•°å£°æ˜Žï¼ˆFunction Signitureï¼‰ï¼Œä»¥åŠå±žæ€§å­—æ®µï¼ˆAttributesï¼‰ï¼›è€Œå½“æˆ‘ä»¬æ¶‰åŠåˆ°å‰åŽç«¯ IO æ—¶ï¼Œåˆ™éœ€è¦å…³æ³¨é€šä¿¡æŽ¥å£çš„æ•°æ®ç»“æž„ï¼ˆJSON Schemaï¼‰ï¼›å¦‚æžœè¿˜æœ‰å¼‚æ­¥çš„é€šä¿¡ï¼Œé‚£ä¹ˆäº‹ä»¶ï¼ˆEventsï¼‰æˆ–æ¶ˆæ¯ï¼ˆMessageï¼‰å¦‚ä½•è®¾è®¡ä¹Ÿæ˜¯ä¸ªé—®é¢˜ï¼›ç”šè‡³ï¼Œä¾èµ–ä¸€ä¸ªåŒ…ï¼ˆPackageï¼‰çš„æ—¶å€™ï¼ŒåŒ…åæœ¬èº«å°±æ˜¯æŽ¥å£ï¼Œä½ æ˜¯å¦ä¹Ÿæ›¾ç¢°åˆ°è¿‡ä¸€ä¸ªå¥‡è‘©çš„åŒ…åè€Œåæ§½åŠå¤©ï¼Ÿ æ€»ä¹‹ï¼Œã€ŒAPI è®¾è®¡ã€ä¸åªå…³ä¹Žåˆ°æ¡†æž¶æˆ–åº“çš„è®¾è®¡è€…ï¼Œå®ƒå’Œæ¯ä¸ªå¼€å‘è€…æ¯æ¯ç›¸å…³ã€‚ æçº²æŒˆé¢†æœ‰ä¸€ä¸ªæ ¸å¿ƒé—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬å¦‚ä½•è¯„åˆ¤ä¸€ä¸ª API çš„è®¾è®¡ç®—ã€Œå¥½ã€ï¼Ÿåœ¨æˆ‘çœ‹æ¥ï¼Œä¸€è¨€ä»¥è”½ä¹‹ï¼Œæ˜“ç”¨ã€‚ é‚£ã€Œæ˜“ç”¨ã€åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘çš„ç†è§£æ˜¯ï¼Œåªè¦èƒ½å¤Ÿè¶³å¤ŸæŽ¥è¿‘äººç±»çš„æ—¥å¸¸è¯­è¨€å’Œæ€ç»´ï¼Œå¹¶ä¸”ä¸éœ€è¦å¼•å‘é¢å¤–çš„å¤§è„‘æ€è€ƒï¼Œé‚£å°±æ˜¯æ˜“ç”¨ã€‚ Donâ€™t make me think. å…·ä½“åœ°ï¼Œæˆ‘æ ¹æ®è¿™äº›å¹´æ¥ç¢°åˆ°çš„å¤§é‡ï¼ˆåé¢å’Œæ­£é¢ï¼‰æ¡ˆä¾‹ï¼Œå½’çº³å‡ºä»¥ä¸‹è¿™äº›è¦ç‚¹ã€‚æŒ‰ç…§è¦æ±‚ä»Žä½Žåˆ°é«˜çš„é¡ºåºå¦‚ä¸‹ï¼š è¾¾æ ‡ï¼šè¯æ³•å’Œè¯­æ³• æ­£ç¡®æ‹¼å†™ å‡†ç¡®ç”¨è¯ æ³¨æ„å•å¤æ•° ä¸è¦æžé”™è¯æ€§ å¤„ç†ç¼©å†™ ç”¨å¯¹æ—¶æ€å’Œè¯­æ€ è¿›é˜¶ï¼šè¯­ä¹‰å’Œå¯ç”¨æ€§ å•ä¸€èŒè´£ é¿å…å‰¯ä½œç”¨ åˆç†è®¾è®¡å‡½æ•°å‚æ•° åˆç†è¿ç”¨å‡½æ•°é‡è½½ ä½¿è¿”å›žå€¼å¯é¢„æœŸ å›ºåŒ–æœ¯è¯­è¡¨ éµå¾ªä¸€è‡´çš„ API é£Žæ ¼ å“è¶Šï¼šç³»ç»Ÿæ€§å’Œå¤§å±€è§‚ ç‰ˆæœ¬æŽ§åˆ¶ ç¡®ä¿å‘ä¸‹å…¼å®¹ è®¾è®¡æ‰©å±•æœºåˆ¶ æŽ§åˆ¶ API çš„æŠ½è±¡çº§åˆ« æ”¶æ•› API é›† å‘æ•£ API é›† åˆ¶å®š API çš„æ”¯æŒç­–ç•¥ ï¼ˆæœ¬æ–‡ä¸»è¦ä»¥ JavaScript ä½œä¸ºè¯­è¨€ç¤ºä¾‹ã€‚ï¼‰ è¾¾æ ‡ï¼šè¯æ³•å’Œè¯­æ³•é«˜çº§è¯­è¨€å’Œè‡ªç„¶è¯­è¨€ï¼ˆè‹±è¯­ï¼‰å…¶å®žç›¸å·®æ— å‡ ï¼Œå› æ­¤æ­£ç¡®åœ°ä½¿ç”¨ï¼ˆè‹±è¯­çš„ï¼‰è¯æ³•å’Œè¯­æ³•æ˜¯ç¨‹åºå‘˜æœ€åŸºæœ¬çš„ç´ å…»ã€‚è€Œæ¶‰åŠåˆ° API è¿™ç§ä¾›ç”¨æˆ·è°ƒç”¨çš„ä»£ç æ—¶ï¼Œåˆ™å°¤å…¶é‡è¦ã€‚ ä½†äº‹å®žä¸Šï¼Œç”±äºŽäºšæ´²åœ°åŒºå¯¹è‹±è¯­çš„æŽŒæ¡èƒ½åŠ›æ™®éä¸€èˆ¬â€¦â€¦æ‰€ä»¥çŽ°å®žçŠ¶å†µå¹¶ä¸ä¹è§‚ â€”â€” å¦‚æžœä»¥æ­£ç¡®ä½¿ç”¨è¯æ³•å’Œè¯­æ³•ä½œä¸ºè¾¾æ ‡çš„é—¨æ§›ï¼Œå¾ˆå¤š API éƒ½æ²¡èƒ½è¾¾æ ‡ã€‚ æ­£ç¡®æ‹¼å†™æ­£ç¡®åœ°æ‹¼å†™ä¸€ä¸ªå•è¯æ˜¯åº•çº¿ï¼Œè¿™ä¸€ç‚¹æ— éœ€èµ˜è¿°ã€‚ç„¶è€Œ API ä¸­çš„å„ç§é”™åˆ«å­—çŽ°è±¡ä»å±¡è§ä¸é²œï¼Œå³ä½¿æ˜¯åœ¨æˆ‘ä»¬é˜¿é‡Œè¿™æ ·çš„å¤§å…¬å¸å†…ã€‚ æ›¾ç»æœ‰æŸä¸ª JSON æŽ¥å£ï¼ˆmtopï¼‰è¿”å›žè¿™æ ·ä¸€ç»„åº—é“ºæ•°æ®ï¼Œä»¥åœ¨å‰ç«¯æ¨¡æ¿ä¸­æ¸²æŸ“ï¼š 12345678910// json[ &#123; "shopBottom": &#123; "isTmall": "false", "shopLevel": "916", "shopLeveImg": "//xxx.jpg" &#125; &#125;] ä¹ä¸€çœ‹å¹³æ·¡æ— å¥‡ï¼Œç»“æžœæˆ‘è°ƒè¯•äº†å°åŠå¤©éƒ½æ²¡èƒ½æ¸²æŸ“å‡ºåº—é“ºçš„ã€Œåº—é“ºç­‰çº§æ ‡è¯†å›¾ç‰‡ã€ï¼Œå³shopLevelImg å­—æ®µã€‚é—®é¢˜åˆ°åº•å‡ºåœ¨äº†å“ªé‡Œï¼Ÿ çœ¼ç»†çš„æœ‹å‹å¯èƒ½å·²ç»å‘çŽ°ï¼ŒæŽ¥å£ç»™çš„å­—æ®µåæ˜¯ shopLeveImgï¼Œå°‘äº†ä¸€ä¸ª lï¼Œè€Œåœ¨å…¶åŽå­—æ¯ Içš„å…‰è¾‰ç…§è€€ä¸‹ï¼Œè‚‰çœ¼å¾ˆéš¾åˆ†è¾¨å‡ºè¿™ä¸ªç»†èŠ‚é—®é¢˜ã€‚ æ‹¼é”™å•è¯çš„é—®é¢˜çœŸçš„æ˜¯å¤ªæ™®éäº†ï¼Œå†æ¯”å¦‚ï¼š æŸä¸ªå«åš toast çš„åº“ï¼Œpackage.json ä¸­çš„ name å†™æˆäº† taostã€‚å¯¼è‡´åœ¨ npm ä¸­æ²¡èƒ½æ‰¾åˆ°è¿™ä¸ªåŒ…ã€‚ æŸä¸ªè·‘é©¬ç¯ç»„ä»¶ï¼Œå·¥åŽ‚æ–¹æ³•ä¸­çš„ä¸€ä¸ªå±žæ€§é”™å°† panel å†™æˆäº† pannelã€‚å¯¼è‡´ä»¥æ­£ç¡®çš„å±žæ€§ååˆå§‹åŒ–æ—¶ä»£ç è·‘ä¸èµ·æ¥ã€‚ æŸä¸ª URLï¼ˆwww.ruanyifeng.com/blog/2017/01/entainment.htmlï¼‰ä¸­é”™å°†entertainment å†™æˆäº† entainmentâ€¦â€¦è¿™å€’æ²¡ä»€ä¹ˆå¤§å½±å“ï¼Œåªæ˜¯ URL å‘å¸ƒåŽå°±æ”¹ä¸äº†äº†ï¼Œç•™ä¸‹äº†é”™åˆ«å­—ä¸å¥½çœ‹ã€‚ â€¦â€¦ æ³¨æ„åˆ°ï¼Œè¿™äº›æ‹¼å†™é”™è¯¯ç»å¸¸å‡ºçŽ°åœ¨ å­—ç¬¦ä¸² çš„åœºæ™¯ä¸­ã€‚ä¸åŒäºŽå˜é‡åï¼ŒIDE æ— æ³•æ£€æŸ¥å­—ç¬¦ä¸²ä¸­çš„å•è¯æ˜¯å¦ç§‘å­¦ã€æ˜¯å¦å’Œä¸€äº›å˜é‡åä¸€è‡´ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åœ¨å¯¹å¾…ä¸€äº›éœ€è¦å…¬å¼€å‡ºåŽ»çš„ API æ—¶ï¼Œéœ€è¦å°¤å…¶æ³¨æ„è¿™æ–¹é¢çš„é—®é¢˜ï¼›å¦ä¸€æ–¹é¢ï¼Œæ›´è®¤çœŸåœ°æ³¨æ„ IDE çš„ typo æç¤ºï¼ˆå•è¯æ‹¼å†™é”™è¯¯æç¤ºï¼‰ï¼Œä¹Ÿä¼šå¯¹æˆ‘ä»¬äº§ç”Ÿå¾ˆå¤§å¸®åŠ©ã€‚ å‡†ç¡®ç”¨è¯æˆ‘ä»¬çŸ¥é“ï¼Œä¸­è‹±æ–‡å•è¯çš„å«ä¹‰å¹¶éžä¸€ä¸€å¯¹åº”ï¼Œæœ‰æ—¶ä¸€ä¸ªä¸­æ–‡æ„æ€å¯ä»¥ç”¨ä¸åŒçš„è‹±æ–‡å•è¯æ¥è§£é‡Šï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦é€‰æ‹©ä½¿ç”¨æ°å½“çš„å‡†ç¡®çš„è¯æ¥æè¿°ã€‚ æ¯”å¦‚ä¸­æ–‡çš„ã€Œæ¶ˆæ¯ã€å¯ä»¥ç¿»è¯‘ä¸º messageã€notificationã€news ç­‰ã€‚è™½ç„¶è¿™å‡ ä¸ªä¸åŒçš„å•è¯éƒ½å¯ä»¥æœ‰ã€Œæ¶ˆæ¯ã€çš„æ„æ€ï¼Œä½†å®ƒä»¬åœ¨ç”¨æ³•å’Œè¯­å¢ƒåœºæ™¯ä¸Šå­˜åœ¨ç€ç»†å¾®å·®å¼‚ï¼š messageï¼šä¸€èˆ¬æŒ‡åŒæ–¹é€šä¿¡çš„æ¶ˆæ¯ï¼Œæ˜¯å†…å®¹è½½ä½“ã€‚è€Œä¸”ç»å¸¸æœ‰æ¥æœ‰å¾€ã€æˆå¯¹å‡ºçŽ°ã€‚æ¯”å¦‚ postMessage() å’Œ receiveMessage()ã€‚ notificationï¼šç»å¸¸ç”¨äºŽé‚£ç§æ¯”è¾ƒçŸ­å°çš„é€šçŸ¥ï¼ŒçŽ°åœ¨ç”šè‡³ä¸“æŒ‡ iOS / Android é‚£æ ·çš„é€šçŸ¥æ¶ˆæ¯ã€‚æ¯”å¦‚ new NotificationManager()ã€‚ newsï¼šå†…å®¹è¾ƒé•¿çš„æ–°é—»æ¶ˆæ¯ï¼Œæ¯” notification æ›´é‡é‡çº§ã€‚æ¯”å¦‚ getTopNews()ã€‚ feedï¼šè‡ªä»Ž RSS è®¢é˜…æ—¶ä»£å‡ºçŽ°çš„ä¸€ä¸ªå•è¯ï¼ŒçŽ°åœ¨ RSS å·²ç»æ—¥è–„è¥¿å±±ï¼Œä½†æ˜¯ feed è¿™ä¸ªè¯è¢«ç”¨åœ¨äº†æ›´å¤šçš„åœ°æ–¹ã€‚å…¶å«ä¹‰åªå¯æ„ä¼šä¸å¯è¨€ä¼ ã€‚æ¯”å¦‚ fetchWeitaoFeeds()ã€‚ æ‰€ä»¥ï¼Œå³ä½¿ä¸­æ–‡æ„æ€å¤§ä½“ç›¸è¿‘ï¼Œä¹Ÿè¦å‡†ç¡®åœ°ç”¨è¯ï¼Œä»Žè€Œè®©è¯»è€…æ›´æ˜“ç†è§£ API çš„ä½œç”¨å’Œ ä¸Šä¸‹æ–‡åœºæ™¯ã€‚ æœ‰ä¸€ä¸ªæ­£é¢æ¡ˆä¾‹ï¼Œæ˜¯å…³äºŽ React çš„ã€‚ï¼ˆåœ¨æœªä½¿ç”¨ ES2015 çš„ï¼‰React ä¸­ï¼Œæœ‰ä¸¤ä¸ªæ–¹æ³•å«åšï¼š 12345678React.createClass(&#123; getDefaultProps: function() &#123; // return a dictionary &#125;, getInitialState: function() &#123; // return a dictionary either &#125;&#125;); å®ƒä»¬çš„ä½œç”¨éƒ½æ˜¯ç”¨æ¥å®šä¹‰åˆå§‹åŒ–çš„ç»„ä»¶ä¿¡æ¯ï¼Œè¿”å›žå€¼çš„ç±»åž‹ä¹Ÿéƒ½ä¸€æ ·ï¼Œä½†æ˜¯åœ¨æ–¹æ³•åä¸Šå´åˆ†åˆ«ç”¨äº† default å’Œ initial æ¥ä¿®é¥°ï¼Œä¸ºä»€ä¹ˆä¸ç»Ÿä¸€ä¸ºä¸€ä¸ªå‘¢ï¼Ÿ åŽŸå› å’Œ React çš„æœºåˆ¶æœ‰å…³ï¼š props æ˜¯æŒ‡ Element çš„å±žæ€§ï¼Œè¦ä¹ˆæ˜¯ä¸å­˜åœ¨æŸä¸ªå±žæ€§å€¼åŽæ¥ä¸ºå®ƒèµ‹å€¼ï¼Œè¦ä¹ˆæ˜¯å­˜åœ¨å±žæ€§çš„é»˜è®¤å€¼åŽæ¥å°†å…¶è¦†ç›–ã€‚æ‰€ä»¥è¿™ç§è¡Œä¸ºï¼Œdefault æ˜¯åˆç†çš„ä¿®é¥°è¯ã€‚ state æ˜¯æ•´ä¸ª Component çŠ¶æ€æœºä¸­çš„æŸä¸€ä¸ªç‰¹å®šçŠ¶æ€ï¼Œæ—¢ç„¶æè¿°ä¸ºäº†çŠ¶æ€æœºï¼Œé‚£ä¹ˆçŠ¶æ€å’ŒçŠ¶æ€ä¹‹é—´æ˜¯äº’ç›¸åˆ‡æ¢çš„å…³ç³»ã€‚æ‰€ä»¥å¯¹äºŽåˆå§‹çŠ¶æ€ï¼Œç”¨ initial æ¥ä¿®é¥°ã€‚ å°±è¿™ä¹ˆä¸ªå°å°çš„ç»†èŠ‚ï¼Œå°±å¯ä¸€çž¥ React æœ¬èº«çš„æœºåˆ¶ï¼Œè¶³ä»¥ä½“çŽ° API è®¾è®¡è€…çš„æ™ºæ…§ã€‚ å¦å¤–ï¼Œæœ€è¿‘æˆ‘è¿˜ç¢°åˆ°äº†è¿™æ ·ä¸€ç»„äº‹ä»¶ APIï¼š 12345// event name 1page.emit('pageShowModal');// event name 2page.emit('pageCloseModal'); è¿™ä¸¤ä¸ªäº‹ä»¶æ˜¾ç„¶æ˜¯ä¸€å¯¹æ­£åä¹‰çš„åŠ¨ä½œï¼Œåœ¨ä¸Šè¿°æ¡ˆä¾‹ä¸­ï¼Œè¡¨ç¤ºã€Œæ˜¾ç¤ºçª—å£ã€æ—¶ä½¿ç”¨äº† showï¼Œè¡¨ç¤ºã€Œå…³é—­çª—å£ã€æ—¶ä½¿ç”¨äº† closeï¼Œè¿™éƒ½æ˜¯éžå¸¸ç›´è§‰åŒ–çš„ç›´è¯‘ã€‚è€Œäº‹å®žä¸Šï¼Œæˆå¯¹å‡ºçŽ°çš„è¯åº”è¯¥æ˜¯ï¼šshow &amp; hideã€open &amp; closeã€‚ å› æ­¤è¿™é‡Œå¿…é¡»å¼ºè°ƒï¼šæˆå¯¹å‡ºçŽ°çš„æ­£åä¹‰è¯ä¸å¯æ··ç”¨ã€‚åœ¨ç¨‹åºä¸–ç•Œç»å¸¸æˆå¯¹å‡ºçŽ°çš„è¯è¿˜æœ‰ï¼š in &amp; out on &amp; off previous &amp; next forward &amp; backward success &amp; failure â€¦ æ€»ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥è¯•ç€æ‰©å……è‹±è¯­çš„è¯æ±‡é‡ï¼Œä½¿ç”¨åˆé€‚çš„è¯ï¼Œè¿™å¯¹æˆ‘ä»¬å‡†ç¡®æè¿° API æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚ æ³¨æ„å•å¤æ•°æ‰€æœ‰æ¶‰åŠåˆ°è¯¸å¦‚æ•°ç»„ï¼ˆArrayï¼‰ã€é›†åˆï¼ˆCollectionï¼‰ã€åˆ—è¡¨ï¼ˆListï¼‰è¿™æ ·çš„æ•°æ®ç»“æž„ï¼Œåœ¨å‘½åæ—¶éƒ½è¦ä½¿ç”¨å¤æ•°å½¢å¼ï¼š 123456789101112var shopItems = [ // ...];export function getShopItems() &#123; // return an array&#125;// failexport function getShopItem() &#123; // unless you really return a non-array&#125; çŽ°å®žå¾€å¾€å‡ºäººæ„è¡¨åœ°ç³Ÿç³•ï¼Œå‰ä¸ä¹…åˆšæ”¹ä¸€ä¸ªé¡¹ç›®ï¼Œæˆ‘å°±ç¢°åˆ°äº†è¿™æ ·çš„å†™æ³•ï¼š 1234567class MarketFloor extends Component &#123; state = &#123; item: [ &#123;&#125; ] &#125;;&#125; è¿™é‡Œçš„ item å®žä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå³ä½¿å®ƒå†…éƒ¨åªæœ‰ä¸€ä¸ªæˆå‘˜ã€‚å› æ­¤åº”è¯¥å‘½åä¸º items æˆ–itemListï¼Œæ— è®ºå¦‚ä½•ï¼Œä¸åº”è¯¥æ˜¯è¡¨ç¤ºå•æ•°çš„ itemã€‚ åŒæ—¶è¦æ³¨æ„ï¼Œåœ¨å¤æ•°çš„é£Žæ ¼ä¸Šä¿æŒä¸€è‡´ï¼Œè¦ä¹ˆæ‰€æœ‰éƒ½æ˜¯ -sï¼Œè¦ä¹ˆæ‰€æœ‰éƒ½æ˜¯ -listã€‚ åè¿‡æ¥ï¼Œæˆ‘ä»¬åœ¨æ¶‰åŠåˆ°è¯¸å¦‚å­—å…¸ï¼ˆDictionaryï¼‰ã€è¡¨ï¼ˆMapï¼‰çš„æ—¶å€™ï¼Œä¸è¦ä½¿ç”¨å¤æ•°ï¼ 123456// failvar EVENT_MAPS = &#123; MODAL_WILL_SHOW: 'modalWillShow', MODAL_WILL_HIDE: 'modalWillHide', // ...&#125;; è™½ç„¶è¿™ä¸ªæ•°æ®ç»“æž„çœ‹ä¸ŠåŽ»ç”±å¾ˆå¤š key-value å¯¹ç»„æˆï¼Œæ˜¯ä¸ªç±»ä¼¼äºŽé›†åˆçš„å­˜åœ¨ï¼Œä½†æ˜¯ã€Œmapã€æœ¬èº«å·²ç»åŒ…å«äº†è¿™å±‚æ„æ€ï¼Œä¸éœ€è¦å†ç”¨å¤æ•°åŽ»ä¿®é¥°å®ƒã€‚ ä¸è¦æžé”™è¯æ€§å¦å¤–ä¸€ä¸ªå®¹æ˜“çŠ¯çš„ä½Žçº§é”™è¯¯æ˜¯æžé”™è¯æ€§ï¼Œå³å‘½åæ—¶æ‹Žä¸æ¸…åè¯ã€åŠ¨è¯ã€å½¢å®¹è¯â€¦â€¦ 1234asyncFunc(&#123; success: function() &#123;&#125;, fail: function() &#123;&#125;&#125;); success ç®—æ˜¯ä¸€ä¸ªåœ¨ç¨‹åºç•Œå‡ºé•œçŽ‡å¾ˆé«˜çš„è¯äº†ï¼Œä½†æ˜¯æœ‰äº›åŒå­¦ä¼šæžæ··ï¼ŒæŠŠå®ƒå½“åšåŠ¨è¯æ¥ç”¨ã€‚åœ¨ä¸Šè¿°æ¡ˆä¾‹ä¸­ï¼Œæˆå¯¹å‡ºçŽ°çš„å•è¯å…¶è¯æ€§åº”è¯¥ä¿æŒä¸€è‡´ï¼Œè¿™é‡Œåº”è¯¥å†™ä½œ succeed å’Œ failï¼›å½“ç„¶ï¼Œåœ¨è¿™ä¸ªè¯­å¢ƒä¸­ï¼Œæœ€å¥½éµä»Žæƒ¯ä¾‹ï¼Œä½¿ç”¨åè¯ç»„åˆ success å’Œ failureã€‚ è¿™ä¸€å¯¹è¯å…¨éƒ¨çš„è¯æ€§å¦‚ä¸‹ï¼š n. åè¯ï¼šsuccess, failure v. åŠ¨è¯ï¼šsucceed, fail adj. å½¢å®¹è¯ï¼šsuccessful, failedï¼ˆæ— å½¢å®¹è¯ï¼Œä»¥è¿‡åŽ»åˆ†è¯å……å½“ï¼‰ adv. å‰¯è¯ï¼šsuccessfully, fail to do sth.ï¼ˆæ— å‰¯è¯ï¼Œä»¥ä¸å®šå¼å……å½“ï¼‰ æ³¨æ„åˆ°ï¼Œå¦‚æžœæœ‰äº›è¯æ²¡æœ‰å¯¹åº”çš„è¯æ€§ï¼Œåˆ™è€ƒè™‘å˜é€šåœ°é‡‡ç”¨å…¶ä»–å½¢å¼æ¥è¾¾åˆ°åŒæ ·çš„æ„æ€ã€‚ æ‰€ä»¥ï¼Œå³ä½¿æˆ‘ä»¬å¤§éƒ¨åˆ†äººéƒ½çŸ¥é“ï¼šæ–¹æ³•å‘½åç”¨åŠ¨è¯ã€å±žæ€§å‘½åç”¨åè¯ã€å¸ƒå°”å€¼ç±»åž‹ç”¨å½¢å®¹è¯ï¼ˆæˆ–ç­‰ä»·çš„è¡¨è¯­ï¼‰ï¼Œä½†ç”±äºŽå¯¹æŸäº›å•è¯çš„è¯æ€§ä¸ç†Ÿæ‚‰ï¼Œä¹Ÿä¼šå¯¼è‡´æœ€ç»ˆçš„ API å‘½åæœ‰é—®é¢˜ï¼Œè¿™æ ·çš„è¯å°±å¾ˆå°´å°¬äº†ã€‚ å¤„ç†ç¼©å†™å…³äºŽè¯æ³•æœ€åŽä¸€ä¸ªè¦æ³¨æ„çš„ç‚¹æ˜¯ç¼©å†™ã€‚æœ‰æ—¶æˆ‘ä»¬ç»å¸¸ä¼šçº ç»“ï¼Œé¦–å­—æ¯ç¼©å†™è¯ï¼ˆacronymï¼‰å¦‚ DOMã€SQL æ˜¯ç”¨å¤§å†™è¿˜æ˜¯å°å†™ï¼Œè¿˜æ˜¯ä»…é¦–å­—æ¯å¤§å†™ï¼Œåœ¨é©¼å³°æ ¼å¼ä¸­åˆè¯¥æ€Žä¹ˆåŠžâ€¦â€¦ å¯¹äºŽè¿™ä¸ªé—®é¢˜ï¼Œç®€å•ä¸æ˜“æ··æ·†çš„åšæ³•æ˜¯ï¼Œé¦–å­—æ¯ç¼©å†™è¯çš„æ‰€æœ‰å­—æ¯å‡å¤§å†™ã€‚ï¼ˆå¦‚æžœæŸä¸ªè¯­è¨€çŽ¯å¢ƒæœ‰æ˜Žç¡®çš„ä¸šç•Œæƒ¯ä¾‹ï¼Œåˆ™éµå¾ªæƒ¯ä¾‹ã€‚ï¼‰ 12345// beforeexport function getDomNode() &#123;&#125;// afterexport function getDOMNode() &#123;&#125; åœ¨ç»å…¸å‰ç«¯åº“ KISSY çš„æ—©æœŸç‰ˆæœ¬ä¸­ï¼ŒDOM åœ¨ API ä¸­éƒ½å‘½åä¸º domï¼Œé©¼å³°ä¸‹å˜ä¸º Domï¼›è€Œåœ¨åŽé¢çš„ç‰ˆæœ¬å†…ç»Ÿä¸€å†™å®šä¸ºå…¨å¤§å†™çš„ DOMã€‚ å¦å¤–ä¸€ç§ç¼©å†™çš„æƒ…å†µæ˜¯å¯¹é•¿å•è¯ç®€å†™ï¼ˆshortened wordï¼‰ï¼Œå¦‚ btn (button)ã€chk (checkbox)ã€tpl (template)ã€‚è¿™è¦è§†å…·ä½“çš„è¯­è¨€è§„èŒƒ / å¼€å‘æ¡†æž¶è§„èŒƒè€Œå®šã€‚å¦‚æžœä»€ä¹ˆéƒ½æ²¡å®šï¼Œä¹Ÿæ²¡ä¸šç•Œæƒ¯ä¾‹ï¼Œé‚£ä¹ˆæŠŠå•è¯å†™å…¨äº†æ€»æ˜¯ä¸ä¼šé”™çš„ã€‚ ç”¨å¯¹æ—¶æ€å’Œè¯­æ€ç”±äºŽæˆ‘ä»¬åœ¨è°ƒç”¨ API æ—¶ä¸€èˆ¬ç±»ä¼¼äºŽã€Œè°ƒç”¨ä¸€æ¡æŒ‡ä»¤ã€ï¼Œæ‰€ä»¥åœ¨è¯­æ³•ä¸Šï¼Œä¸€ä¸ªå‡½æ•°å‘½åæ˜¯ç¥ˆä½¿å¥å¼ï¼Œæ—¶æ€ä½¿ç”¨ä¸€èˆ¬çŽ°åœ¨æ—¶ã€‚ ä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨å…¶ä»–æ—¶æ€ï¼ˆè¿›è¡Œæ—¶ã€è¿‡åŽ»æ—¶ã€å°†æ¥æ—¶ï¼‰ã€‚æ¯”å¦‚ï¼Œå½“æˆ‘ä»¬æ¶‰åŠåˆ° ç”Ÿå‘½å‘¨æœŸã€äº‹ä»¶èŠ‚ç‚¹ã€‚ åœ¨ä¸€äº›ç»„ä»¶ç³»ç»Ÿä¸­ï¼Œå¿…ç„¶æ¶‰åŠåˆ°ç”Ÿå‘½å‘¨æœŸï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ React çš„ API æ˜¯æ€Žä¹ˆè®¾è®¡çš„ï¼š 12345export function componentWillMount() &#123;&#125;export function componentDidMount() &#123;&#125;export function componentWillUpdate() &#123;&#125;export function componentDidUpdate() &#123;&#125;export function componentWillUnmount() &#123;&#125; React åˆ’åˆ†äº†å‡ ä¸ªå…³é”®çš„ç”Ÿå‘½å‘¨æœŸèŠ‚ç‚¹ï¼ˆmount, update, unmount, â€¦ï¼‰ï¼Œä»¥å°†æ¥æ—¶å’Œè¿‡åŽ»æ—¶æè¿°è¿™äº›èŠ‚ç‚¹ç‰‡æ®µï¼Œæš´éœ² APIã€‚æ³¨æ„åˆ°ä¸€ä¸ªå°ç»†èŠ‚ï¼ŒReact é‡‡ç”¨äº† componentDidMountè¿™ç§è¿‡åŽ»æ—¶é£Žæ ¼ï¼Œè€Œæ²¡æœ‰ä½¿ç”¨ componentMountedï¼Œä»Žè€Œè·Ÿ componentWillMount å½¢æˆå¯¹ç…§ç»„ï¼Œæ–¹ä¾¿è®°å¿†ã€‚ åŒæ ·åœ°ï¼Œå½“æˆ‘ä»¬è®¾è®¡äº‹ä»¶ API æ—¶ï¼Œä¹Ÿè¦è€ƒè™‘ä½¿ç”¨åˆé€‚çš„æ—¶æ€ï¼Œç‰¹åˆ«æ˜¯å¸Œæœ›æä¾›ç²¾ç»†çš„äº‹ä»¶åˆ‡é¢æ—¶ã€‚æˆ–è€…ï¼Œå¼•å…¥ beforeã€after è¿™æ ·çš„ä»‹è¯æ¥ç®€åŒ–ï¼š 12345678// will renderComponent.on('beforeRender', function() &#123;&#125;);// now renderingComponent.on('rendering', function() &#123;&#125;);// has renderedComponent.on('afterRender', function() &#123;&#125;); å¦ä¸€æ–¹é¢æ˜¯å…³äºŽè¯­æ€ï¼Œå³é€‰ç”¨ä¸»åŠ¨è¯­æ€å’Œè¢«åŠ¨è¯­æ€çš„é—®é¢˜ã€‚å…¶å®žæœ€å¥½çš„åŽŸåˆ™å°±æ˜¯ å°½é‡é¿å…ä½¿ç”¨è¢«åŠ¨è¯­æ€ã€‚å› ä¸ºè¢«åŠ¨è¯­æ€çœ‹èµ·æ¥ä¼šæ¯”è¾ƒç»•ï¼Œä¸å¤Ÿç›´è§‚ï¼Œå› æ­¤æˆ‘ä»¬è¦å°†è¢«åŠ¨è¯­æ€çš„ API è½¬æ¢ä¸ºä¸»åŠ¨è¯­æ€ã€‚ å†™æˆä»£ç å³å½¢å¦‚ï¼š 12345// passive voice, make me confusedobject.beDoneSomethingBy(subject);// active voice, much more clear nowsubject.doSomething(object); è¿›é˜¶ï¼šè¯­ä¹‰å’Œå¯ç”¨æ€§è¯´äº†é‚£ä¹ˆå¤šè¯æ³•å’Œè¯­æ³•çš„æ³¨æ„ç‚¹ï¼Œä¸è¿‡æ‰æ˜¯è¾¾æ ‡çº§åˆ«è€Œå·²ã€‚ç¡®ä¿ API çš„å¯ç”¨æ€§å’Œè¯­ä¹‰æ‰ä½¿ API çœŸæ­£ã€Œå¯ç”¨ã€ã€‚ æ— è®ºæ˜¯å‹å¥½çš„å‚æ•°è®¾ç½®ï¼Œè¿˜æ˜¯è®©äººç”œèœœèœœçš„è¯­æ³•ç³–ï¼Œéƒ½ä½“çŽ°äº†ç¨‹åºå‘˜çš„äººæ–‡å…³æ€€ã€‚ å•ä¸€èŒè´£å•ä¸€èŒè´£æ˜¯è½¯ä»¶å·¥ç¨‹ä¸­ä¸€æ¡è‘—åçš„åŽŸåˆ™ï¼Œç„¶è€ŒçŸ¥æ˜“è¡Œéš¾ï¼Œä¸€æ˜¯æˆ‘ä»¬å¯¹äºŽå…·ä½“ä¸šåŠ¡é€»è¾‘ä¸­ã€ŒèŒè´£ã€çš„åˆ’åˆ†å¯èƒ½å­˜åœ¨éš¾åº¦ï¼ŒäºŒæ˜¯éƒ¨åˆ†åŒå­¦ä»æ²¡æœ‰å…»æˆè´¯å½»æ­¤åŽŸåˆ™çš„ä¹ æƒ¯ã€‚ å°åˆ°å‡½æ•°çº§åˆ«çš„ APIï¼Œå¤§åˆ°æ•´ä¸ªåŒ…ï¼Œä¿æŒå•ä¸€æ ¸å¿ƒçš„èŒè´£éƒ½æ˜¯å¾ˆé‡è¦çš„ä¸€ä»¶äº‹ã€‚ 123456// failcomponent.fetchDataAndRender(url, template);// goodvar data = component.fetchData(url);component.render(data, template); å¦‚ä¸Šï¼Œå°†æ··æ‚åœ¨ä¸€ä¸ªå¤§å¨å‡½æ•°ä¸­çš„ä¸¤ä»¶ç‹¬ç«‹äº‹æƒ…æ‹†åˆ†å‡ºåŽ»ï¼Œä¿è¯å‡½æ•°ï¼ˆfunctionï¼‰çº§åˆ«çš„èŒè´£å•ä¸€ã€‚ æ›´è¿›ä¸€æ­¥åœ°ï¼Œï¼ˆå‡è®¾ï¼‰fetchData æœ¬èº«æ›´é€‚åˆç”¨å¦ä¸€ä¸ªç±»ï¼ˆclassï¼‰æ¥å°è£…ï¼Œåˆ™å¯¹åŽŸæ¥çš„ç»„ä»¶ç±» Component å†è¿›è¡Œæ‹†åˆ†ï¼Œå°†ä¸å±žäºŽå®ƒçš„å–æ•°æ®èŒè´£ä¹Ÿåˆ†ç¦»å‡ºåŽ»ï¼š 1234567891011121314class DataManager &#123; fetchData(url) &#123;&#125;&#125;class Component &#123; constructor() &#123; this.dataManager = new DataManager(); &#125; render(data, template) &#123;&#125;&#125;// more code, less responsibilityvar data = component.dataManager.fetchData(url);component.render(data, template); åœ¨æ–‡ä»¶ï¼ˆfileï¼‰å±‚é¢åŒæ ·å¦‚æ­¤ï¼Œä¸€ä¸ªæ–‡ä»¶åªç¼–å†™ä¸€ä¸ªç±»ï¼Œä¿è¯æ–‡ä»¶çš„èŒè´£å•ä¸€ï¼ˆå½“ç„¶è¿™å¯¹å¾ˆå¤šè¯­è¨€æ¥è¯´æ˜¯å¤©ç„¶çš„è§„åˆ™ï¼‰ã€‚ æœ€åŽï¼Œè§†å…·ä½“çš„ä¸šåŠ¡å…³è”åº¦è€Œå†³å®šï¼Œæ˜¯å¦å°†ä¸€ç°‡æ–‡ä»¶åšæˆä¸€ä¸ªåŒ…ï¼ˆpackageï¼‰ï¼Œæˆ–æ˜¯æ‹†æˆå¤šä¸ªã€‚ é¿å…å‰¯ä½œç”¨ä¸¥æ ¼ã€Œæ—  å‰¯ä½œç”¨) çš„ç¼–ç¨‹ã€å‡ ä¹Žåªå‡ºçŽ°åœ¨çº¯å‡½æ•°å¼ç¨‹åºä¸­ï¼ŒçŽ°å®žä¸­çš„ OOP ç¼–ç¨‹åœºæ™¯éš¾å…è§¦åŠå‰¯ä½œç”¨ã€‚å› æ­¤åœ¨è¿™é‡Œæ‰€è¯´çš„ã€Œé¿å…å‰¯ä½œç”¨ã€ä¸»è¦æŒ‡çš„æ˜¯ï¼š å‡½æ•°æœ¬èº«çš„è¿è¡Œç¨³å®šå¯é¢„æœŸã€‚ å‡½æ•°çš„è¿è¡Œä¸å¯¹å¤–éƒ¨çŽ¯å¢ƒé€ æˆæ„æ–™å¤–çš„æ±¡æŸ“ã€‚ å¯¹äºŽæ— å‰¯ä½œç”¨çš„çº¯å‡½æ•°è€Œè¨€ï¼Œè¾“å…¥åŒæ ·çš„å‚æ•°ï¼Œæ‰§è¡ŒåŽæ€»èƒ½å¾—åˆ°åŒæ ·çš„ç»“æžœï¼Œè¿™ç§å¹‚ç­‰æ€§ä½¿å¾—ä¸€ä¸ªå‡½æ•°æ— è®ºåœ¨ä»€ä¹ˆä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€è¿è¡Œå¤šå°‘æ¬¡ï¼Œæœ€åŽçš„ç»“æžœæ€»æ˜¯å¯é¢„æœŸçš„ â€”â€” è¿™è®©ç”¨æˆ·éžå¸¸æ”¾å¿ƒï¼Œä¸ç”¨å…³å¿ƒå‡½æ•°é€»è¾‘çš„ç»†èŠ‚ã€è€ƒè™‘æ˜¯å¦åº”è¯¥åœ¨æŸä¸ªç‰¹å®šçš„æ—¶æœºè°ƒç”¨ã€è®°å½•è°ƒç”¨çš„æ¬¡æ•°ç­‰ç­‰ã€‚å¸Œæœ›æˆ‘ä»¬ä»¥åŽè®¾è®¡çš„ API ä¸ä¼šå‡ºçŽ°è¿™ä¸ªæ¡ˆä¾‹ä¸­çš„æƒ…å†µï¼š 12345// return x.x.x.1 while call it oncethis.context.getSPM();// return x.x.x.2 while call it twicethis.context.getSPM(); åœ¨è¿™é‡Œï¼ŒgetSPM() ç”¨æ¥èŽ·å–æ¯ä¸ªé“¾æŽ¥å”¯ä¸€çš„ SPM ç ï¼ˆSPM æ˜¯é˜¿é‡Œé€šç”¨çš„åŸ‹ç‚¹ç»Ÿè®¡æ–¹æ¡ˆï¼‰ã€‚ä½†æ˜¯ç”¨æ³•å´æ˜¾å¾—è¯¡å¼‚ï¼šæ¯è°ƒç”¨ä¸€æ¬¡ï¼Œå°±ä¼šè¿”å›žä¸€ä¸ªä¸åŒçš„ SPM ä¸²ï¼ŒäºŽæ˜¯å½“æˆ‘ä»¬éœ€è¦èŽ·å¾—å‡ ä¸ª SPM æ—¶ï¼Œå°±ä¼šè¿™æ ·å†™ï¼š 123var spm1 = this.context.getSPM();var spm2 = this.context.getSPM();var spm3 = this.context.getSPM(); è™½ç„¶åœ¨å®žçŽ°ä¸Šå¯ä»¥ç†è§£ â€”â€” æ­¤å‡½æ•°å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªè®¡æ•°å™¨ï¼Œæ¯æ¬¡è¿”å›žä¸€ä¸ªè‡ªå¢žçš„ SPM D ä½ï¼Œä½†æ˜¯ è¿™æ ·çš„å®žçŽ°æ–¹å¼ä¸Žè¿™ä¸ªå‘½åçœ‹ä¼¼æ˜¯å¹‚ç­‰çš„ getter åž‹å‡½æ•°å®Œå…¨ä¸åŒ¹é…ï¼Œæ¢å¥è¯è¯´ï¼Œè¿™ä½¿å¾—è¿™ä¸ª API ä¸å¯é¢„æœŸã€‚ å¦‚ä½•ä¿®æ”¹ä¹‹ï¼Ÿä¸€ç§åšæ³•æ˜¯ï¼Œä¸æ”¹å˜æ­¤å‡½æ•°å†…éƒ¨çš„å®žçŽ°ï¼Œè€Œæ˜¯å°† API æ”¹ä¸º Generator å¼çš„é£Žæ ¼ï¼Œé€šè¿‡å½¢å¦‚ SPMGenerator.next() æŽ¥å£æ¥èŽ·å–è‡ªå¢žçš„ SPM ç ã€‚ å¦ä¸€ç§åšæ³•æ˜¯ï¼Œå¦‚æžœè¦ä¿ç•™åŽŸåç§°ï¼Œå¯ä»¥å°†å‡½æ•°ç­¾åæ”¹ä¸º getSPM(spmD)ï¼ŒæŽ¥å—ä¸€ä¸ªè‡ªå®šä¹‰çš„ SPM D ä½ï¼Œç„¶åŽè¿”å›žæ•´ä¸ª SPM ç ã€‚è¿™æ ·åœ¨è°ƒç”¨æ—¶ä¹Ÿä¼šæ›´æ˜Žç¡®ã€‚ é™¤äº†å‡½æ•°å†…éƒ¨çš„è¿è¡Œéœ€å¯é¢„æœŸå¤–ï¼Œå®ƒå¯¹å¤–éƒ¨ä¸€æ—¦é€ æˆä¸å¯é¢„æœŸçš„æ±¡æŸ“ï¼Œé‚£ä¹ˆå½±å“å°†æ›´å¤§ï¼Œè€Œä¸”æ›´éšè”½ã€‚ å¯¹å¤–éƒ¨é€ æˆæ±¡æŸ“ä¸€èˆ¬æ˜¯ä¸¤ç§é€”å¾„ï¼šä¸€æ˜¯åœ¨å‡½æ•°ä½“å†…éƒ¨ç›´æŽ¥ä¿®æ”¹å¤–éƒ¨ä½œç”¨åŸŸçš„å˜é‡ï¼Œç”šè‡³å…¨å±€å˜é‡ï¼›äºŒæ˜¯é€šè¿‡ä¿®æ”¹å®žå‚é—´æŽ¥å½±å“åˆ°å¤–éƒ¨çŽ¯å¢ƒï¼Œå¦‚æžœå®žå‚æ˜¯å¼•ç”¨ç±»åž‹çš„æ•°æ®ç»“æž„ã€‚ æ›¾ç»ä¹Ÿæœ‰å‘ç”Ÿå› ä¸ºå¯¹å…¨å±€å˜é‡æ“ä½œè€Œå¯¼è‡´æ•´ä¸ªå®¹å™¨åž®æŽ‰çš„æƒ…å†µï¼Œè¿™é‡Œå°±ä¸å†å±•å¼€ã€‚ å¦‚ä½•é˜²æ­¢æ­¤ç±»å‰¯ä½œç”¨å‘ç”Ÿï¼Ÿæœ¬è´¨ä¸Šè¯´ï¼Œéœ€è¦æŽ§åˆ¶è¯»å†™æƒé™ã€‚æ¯”å¦‚ï¼š æ¨¡å—æ²™ç®±æœºåˆ¶ï¼Œä¸¥æ ¼é™å®šæ¨¡å—å¯¹å¤–éƒ¨ä½œç”¨åŸŸçš„ä¿®æ”¹ï¼› å¯¹å…³é”®æˆå‘˜ä½œè®¿é—®æŽ§åˆ¶ï¼ˆaccess controlï¼‰ï¼Œå†»ç»“å†™æƒé™ç­‰ç­‰ã€‚ åˆç†è®¾è®¡å‡½æ•°å‚æ•°å¯¹ä¸€ä¸ªå‡½æ•°æ¥è¯´ï¼Œã€Œå‡½æ•°ç­¾åã€ï¼ˆFunction Signatureï¼‰æ¯”å‡½æ•°ä½“æœ¬èº«æ›´é‡è¦ã€‚å‡½æ•°åã€å‚æ•°è®¾ç½®ã€è¿”å›žå€¼ç±»åž‹ï¼Œè¿™ä¸‰è¦ç´ æž„æˆäº†å®Œæ•´çš„å‡½æ•°ç­¾åã€‚è€Œå…¶ä¸­ï¼Œå‚æ•°è®¾ç½®å¯¹ç”¨æˆ·æ¥è¯´æ˜¯æŽ¥è§¦æœ€é¢‘ç¹ï¼Œä¹Ÿæœ€ä¸ºå…³å¿ƒçš„éƒ¨åˆ†ã€‚ é‚£å¦‚ä½•ä¼˜é›…åœ°è®¾è®¡å‡½æ•°çš„å…¥å£å‚æ•°å‘¢ï¼Ÿæˆ‘çš„ç†è§£æ˜¯è¿™æ ·å‡ ä¸ªè¦ç‚¹ï¼š ä¼˜åŒ–å‚æ•°é¡ºåºã€‚ç›¸å…³æ€§è¶Šé«˜çš„å‚æ•°è¶Šè¦å‰ç½®ã€‚ è¿™å¾ˆå¥½ç†è§£ï¼Œç›¸å…³æ€§è¶Šé«˜çš„å‚æ•°è¶Šé‡è¦ï¼Œè¶Šè¦åœ¨å‰é¢å‡ºçŽ°ã€‚å…¶å®žè¿™è¿˜æœ‰ä¸¤ä¸ªéšå«çš„æ„æ€ï¼Œå³å¯çœç•¥çš„å‚æ•°åŽç½®ï¼Œä»¥åŠ ä¸ºå¯çœç•¥çš„å‚æ•°è®¾å®šç¼ºçœå€¼ã€‚å¯¹æŸäº›è¯­è¨€æ¥è¯´ï¼ˆå¦‚ C++ï¼‰ï¼Œè°ƒç”¨çš„æ—¶å€™å¦‚æžœæƒ³çœç•¥å®žå‚ï¼Œé‚£ä¹ˆä¸€å®šè¦ä¸ºå®ƒå®šä¹‰ç¼ºçœå€¼ï¼Œè€Œå¸¦ç¼ºçœå€¼çš„å‚æ•°å¿…é¡»åŽç½®ï¼Œè¿™æ˜¯åœ¨ç¼–è¯‘å±‚é¢å°±è§„å®šæ­»çš„ã€‚è€Œå¯¹å¦ä¸€éƒ¨åˆ†çµæ´»çš„è¯­è¨€æ¥è¯´ï¼ˆå¦‚ JSï¼‰ï¼Œå°†å¯çœå‚æ•°åŽç½®åŒæ ·æ˜¯æœ€ä½³å®žè·µã€‚ 1234567891011// badfunction renderPage(pageIndex, pageData) &#123;&#125;renderPage(0, &#123;&#125;);renderPage(1, &#123;&#125;);// goodfunction renderPage(pageData, pageIndex = 0) &#123;&#125;renderPage(&#123;&#125;);renderPage(&#123;&#125;, 1); ç¬¬äºŒä¸ªè¦ç‚¹æ˜¯æŽ§åˆ¶å‚æ•°ä¸ªæ•°ã€‚ç”¨æˆ·è®°ä¸ä½è¿‡å¤šçš„å…¥å£å‚æ•°ï¼Œå› æ­¤ï¼Œå‚æ•°èƒ½çœç•¥åˆ™çœç•¥ï¼Œæˆ–æ›´è¿›ä¸€æ­¥ï¼Œåˆå¹¶åŒç±»åž‹çš„å‚æ•°ã€‚ ç”±äºŽå¯ä»¥æ–¹ä¾¿åœ°åˆ›å»º Object è¿™ç§å¤åˆæ•°æ®ç»“æž„ï¼Œåˆå¹¶å‚æ•°çš„è¿™ç§åšæ³•åœ¨ JS ä¸­å°¤ä¸ºæ™®éã€‚å¸¸è§çš„æƒ…å†µæ˜¯å°†å¾ˆå¤šé…ç½®é¡¹éƒ½åŒ…æˆä¸€ä¸ªé…ç½®å¯¹è±¡ï¼š 12345678910// traditional$.ajax(url, params, success);// or$.ajax(&#123; url, params, success, failure&#125;); è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼š ç”¨æˆ·è™½ç„¶ä»éœ€è®°ä½å‚æ•°åï¼Œä½†ä¸ç”¨å†å…³å¿ƒå‚æ•°é¡ºåºã€‚ ä¸å¿…æ‹…å¿ƒå‚æ•°åˆ—è¡¨è¿‡é•¿ã€‚å°†å‚æ•°åˆå¹¶ä¸ºå­—å…¸è¿™ç§ç»“æž„åŽï¼Œæƒ³å¢žåŠ å¤šå°‘å‚æ•°éƒ½å¯ä»¥ï¼Œä¹Ÿä¸ç”¨å…³å¿ƒéœ€è¦å°†å“ªäº›å¯çœç•¥çš„å‚æ•°åŽç½®çš„é—®é¢˜ã€‚ å½“ç„¶ï¼Œå‡¡äº‹æœ‰åˆ©æœ‰å¼Šï¼Œç”±äºŽç¼ºä¹é¡ºåºï¼Œå°±æ— æ³•çªå‡ºå“ªäº›æ˜¯æœ€æ ¸å¿ƒçš„å‚æ•°ä¿¡æ¯ï¼›å¦å¤–ï¼Œåœ¨è®¾å®šå‚æ•°çš„é»˜è®¤å€¼ä¸Šï¼Œä¼šæ¯”å‚æ•°åˆ—è¡¨çš„å½¢å¼æ›´ç¹çã€‚å› æ­¤ï¼Œéœ€è¦å…¼é¡¾åœ°ä½¿ç”¨æœ€ä¼˜çš„åŠžæ³•æ¥è®¾è®¡å‡½æ•°å‚æ•°ï¼Œä¸ºäº†åŒä¸€ä¸ªç›®çš„ï¼šæ˜“ç”¨ã€‚ åˆç†è¿ç”¨å‡½æ•°é‡è½½è°ˆåˆ° API çš„è®¾è®¡ï¼Œå°¤å…¶æ˜¯å‡½æ•°çš„è®¾è®¡ï¼Œæ€»ç¦»ä¸å¼€ä¸€ä¸ªæœºåˆ¶ï¼šé‡è½½ï¼ˆoverloadï¼‰ã€‚ å¯¹äºŽå¼ºç±»åž‹è¯­è¨€æ¥è¯´ï¼Œé‡è½½æ˜¯ä¸ªå¾ˆ cool çš„åŠŸèƒ½ï¼Œèƒ½å¤Ÿå¤§å¹…å‡å°‘å‡½æ•°åçš„æ•°é‡ï¼Œé¿å…å‘½åç©ºé—´çš„æ±¡æŸ“ã€‚ç„¶è€Œå¯¹äºŽå¼±ç±»åž‹è¯­è¨€è€Œè¨€ï¼Œç”±äºŽä¸éœ€è¦åœ¨ç¼–è¯‘æ—¶åš type-bindingï¼Œå‡½æ•°åœ¨è°ƒç”¨é˜¶æ®µæƒ³æ€Žä¹ˆä¼ å®žå‚éƒ½è¡Œâ€¦â€¦æ‰€ä»¥é‡è½½åœ¨è¿™é‡Œå˜å¾—éžå¸¸å¾®å¦™ã€‚ä»¥ä¸‹ç€é‡è°ˆä¸€ä¸‹ï¼Œä»€ä¹ˆæ—¶å€™è¯¥é€‰æ‹©é‡è½½ï¼Œä»€ä¹ˆæ—¶å€™åˆä¸è¯¥ã€‚ 12345Element getElementById(String: id)HTMLCollection getElementsByClassName(String: names)HTMLCollection getElementsByTagName(String: name) ä»¥ä¸Šä¸‰ä¸ªå‡½æ•°æ˜¯å†ç»å…¸ä¸è¿‡çš„ DOM APIï¼Œè€Œåœ¨å½“åˆå­¦ä¹ å®ƒä»¬çš„æ—¶å€™ï¼ˆä»Ž Java æ€ç»´è½¬åˆ° JS æ€ç»´ï¼‰æˆ‘å°±åœ¨æƒ³è¿™ä¸¤ä¸ªé—®é¢˜ï¼š ä¸ºä»€ä¹ˆè¦è®¾è®¡æˆ getSomethingBySomething è¿™ä¹ˆå¤æ‚ç»“æž„çš„åå­—ï¼Œè€Œä¸æ˜¯ä½¿ç”¨getSomething åšé‡è½½ï¼Ÿ è¿™ä¸‰ä¸ªå‡½æ•°åªæœ‰ getElementById æ˜¯å•æ•°å½¢å¼ï¼Œä¸ºä½•ä¸è®¾è®¡ä¸ºè¿”å›ž HTMLCollectionï¼ˆå³ä½¿åªè¿”å›žä¸€ä¸ªæˆå‘˜ä¹Ÿå¯ä»¥åŒ…ä¸€ä¸ª Collection å˜›ï¼‰ï¼Œä»¥åšæˆå¤æ•°å½¢å¼çš„å‡½æ•°åä»Žè€Œä¿æŒä¸€è‡´æ€§ï¼Ÿ ä¸¤ä¸ªé—®é¢˜ä¸­ï¼Œå¦‚æžœç¬¬äºŒä¸ªé—®é¢˜èƒ½è§£å†³ï¼Œé‚£ä¹ˆè¿™ä¸‰ä¸ªå‡½æ•°çš„ç»“æž„å°†å®Œå…¨ä¸€è‡´ï¼Œä»Žè€Œå¯ä»¥è€ƒè™‘è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚ å…ˆæ¥çœ‹é—®é¢˜äºŒã€‚ç¨å¾®æ·±å…¥ä¸‹ DOM çŸ¥è¯†åŽå°±çŸ¥é“ï¼Œid å¯¹äºŽæ•´ä¸ª DOM æ¥è¯´å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œå› æ­¤åœ¨ç†è®ºä¸Š getElementsByIdï¼ˆæ³¨æ„æœ‰å¤æ•°ï¼‰å°†æ°¸è¿œè¿”å›žä»…æœ‰ 0 æˆ– 1 ä¸ªæˆå‘˜çš„ Collectionï¼Œè¿™æ ·ä¸€æ¥ç”¨æˆ·çš„è°ƒç”¨æ–¹å¼å°†å§‹ç»ˆæ˜¯ var element = getElementsById(id)[0]ï¼Œè€Œè¿™æ˜¯éžå¸¸è’è°¬çš„ã€‚æ‰€ä»¥ DOM API è®¾è®¡å¾—æ²¡é—®é¢˜ã€‚ æ—¢ç„¶é—®é¢˜äºŒæ— è§£ï¼Œé‚£ä¹ˆè‡ªç„¶è¿™ä¸‰ä¸ªå‡½æ•°æ²¡æ³•åšæˆä¸€ä¸ªé‡è½½ã€‚é€€ä¸€æ­¥è¯´ï¼Œå³ä½¿é—®é¢˜äºŒèƒ½è§£å†³ï¼Œè¿˜å­˜åœ¨å¦å¤–ä¸€ä¸ªéº»çƒ¦ï¼šå®ƒä»¬çš„å…¥å£å‚æ•°éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ Stringï¼å¯¹äºŽå¼ºç±»åž‹è¯­è¨€æ¥è¯´ï¼Œå‚æ•°ç±»åž‹å’Œé¡ºåºã€è¿”å›žå€¼ç»Ÿç»Ÿä¸€æ ·çš„æƒ…å†µä¸‹ï¼ŒåŽ‹æ ¹æ— æ³•é‡è½½ã€‚å› ä¸ºç¼–è¯‘å™¨æ— æ³•é€šè¿‡ä»»ä½•ä¸€ä¸ªæœ‰æ•ˆçš„ç‰¹å¾ï¼Œæ¥æ‰§è¡Œä¸åŒçš„é€»è¾‘ï¼ æ‰€ä»¥ï¼Œå¦‚æžœå…¥å£å‚æ•°æ— æ³•è¿›è¡Œæœ‰æ•ˆåŒºåˆ†ï¼Œä¸è¦é€‰æ‹©é‡è½½ã€‚ å½“ç„¶ï¼Œæœ‰ä¸€ç§å¥‡æ€ªçš„åšæ³•å¯ä»¥ç»•è¿‡åŽ»ï¼š 123456789101112// failfunction getElementsBy(byWhat, name) &#123; switch(byWhat) &#123; case 'className': // ... case 'tagName': // ... &#125;&#125;getElementsBy('tagName', name);getElementsBy('className', name); ä¸€ç§åœ¨é£Žæ ¼ä¸Šç±»ä¼¼é‡è½½çš„ï¼Œä½†å®žé™…æ˜¯åœ¨è¿è¡Œæ—¶èµ°åˆ†æ”¯é€»è¾‘çš„åšæ³•â€¦â€¦å¯ä»¥çœ‹åˆ°ï¼ŒAPI çš„ä¿¡æ¯æ€»é‡å¹¶æ²¡é™ä½Žã€‚ä¸è¿‡è¯ä¸èƒ½è¯´æ­»ï¼Œè¿™ç§é£Žæ ¼åœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¹Ÿæœ‰ç”¨æ­¦ä¹‹åœ°ï¼Œåªæ˜¯å¤šæ•°æƒ…å†µä¸‹å¹¶ä¸æŽ¨èã€‚ ä¸Žä¸Šè¿°é£Žæ ¼ç±»ä¼¼çš„ï¼Œæ˜¯è¿™æ ·ä¸€ç§åšæ³•ï¼š 12345// get elements by tag-name by defaultHTMLCollection getElements(String: name)// if you add a flag, it goes by class-nameHTMLCollection getElements(String: name, Boolean: byClassName) ã€Œå°† flag æ ‡è®°ä½ä½œä¸ºäº†é‡è½½æ‰‹æ®µã€â€”â€” åœ¨æ—©æœŸå¾®è½¯çš„ä¸€äº› API ä¸­ç»å¸¸èƒ½è§åˆ°è¿™æ ·çš„å†™æ³•ï¼Œå¯ä»¥è¯´ä¸€æ—¦ç¦»å¼€äº†æ–‡æ¡£å°±æ— æ³•ç¼–ç ï¼Œæ ¹æœ¬ä¸æ˜Žç™½æŸä¸ª Boolean æ ‡è®°ä½æ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Œè¿™å¤§å¤§é™ä½Žäº†ç”¨æˆ·çš„å¼€å‘ä½“éªŒï¼Œä»¥åŠä»£ç å¯è¯»æ€§ã€‚ è¿™æ ·çœ‹èµ·æ¥ï¼Œå¯é‡è½½çš„åœºæ™¯çœŸæ˜¯å¤ªå°‘äº†ï¼ä¹Ÿä¸å°½ç„¶ï¼Œåœ¨æˆ‘çœ‹æ¥æœ‰ä¸€ç§åœºæ™¯å¾ˆé€‚åˆç”¨é‡è½½ï¼šæ‰¹é‡å¤„ç†ã€‚ 123Module handleModules(Module: module)Collection&lt;Module&gt; handleModules(Collection&lt;Module&gt;: modules) å½“ç”¨æˆ·ç»å¸¸é¢ä¸´å¤„ç†ä¸€ä¸ªæˆ–å¤šä¸ªä¸ç¡®å®šæ•°é‡çš„å¯¹è±¡æ—¶ï¼Œä»–å¯èƒ½éœ€è¦æ€è€ƒå’Œåˆ¤æ–­ï¼Œä»€ä¹ˆæ—¶å€™ç”¨å•æ•° handleModuleã€ä»€ä¹ˆæ—¶å€™ç”¨å¤æ•° handleModulesã€‚å°†è¿™ç§ç±»åž‹çš„æ“ä½œé‡è½½ä¸ºä¸€ä¸ªï¼ˆå¤§æŠµè§äºŽ setter åž‹æ“ä½œï¼‰ï¼ŒåŒæ—¶æ”¯æŒå•ä¸ªå’Œæ‰¹é‡çš„å¤„ç†ï¼Œå¯ä»¥é™ä½Žç”¨æˆ·çš„è®¤çŸ¥è´Ÿæ‹…ã€‚ æ‰€ä»¥ï¼Œåœ¨åˆé€‚çš„æ—¶æœºé‡è½½ï¼Œå¦åˆ™å®æ„¿é€‰æ‹©ã€Œå‡½æ•°åç»“æž„ç›¸åŒçš„å¤šä¸ªå‡½æ•°ã€ã€‚åŽŸåˆ™æ˜¯ä¸€æ ·çš„ï¼Œä¿è¯é€»è¾‘æ­£ç¡®çš„å‰æä¸‹ï¼Œå°½å¯èƒ½é™ä½Žç”¨æˆ·è´Ÿæ‹…ã€‚ å¯¹äº†ï¼Œå…³äºŽ getElements é‚£ä¸‰ä¸ª APIï¼Œå®ƒä»¬æœ€ç»ˆçš„è¿›åŒ–ç‰ˆæœ¬å›žåˆ°äº†åŒä¸€ä¸ªå‡½æ•°ï¼šquerySelector(selectors)ã€‚ ä½¿è¿”å›žå€¼å¯é¢„æœŸå‡½æ•°çš„æ˜“ç”¨æ€§ä½“çŽ°åœ¨ä¸¤æ–¹é¢ï¼šå…¥å£å’Œå‡ºå£ã€‚ä¸Šé¢å·²ç»è®²è¿°äº†è¶³å¤Ÿå¤šå…³äºŽå…¥å£çš„è®¾è®¡äº‹é¡¹ï¼Œè¿™ä¸€èŠ‚è®²å‡ºå£ï¼šå‡½æ•°è¿”å›žå€¼ã€‚ å¯¹äºŽ getter åž‹çš„å‡½æ•°æ¥è¯´ï¼Œè°ƒç”¨çš„ç›´æŽ¥ç›®çš„å°±æ˜¯ä¸ºäº†èŽ·å¾—è¿”å›žå€¼ã€‚å› æ­¤æˆ‘ä»¬è¦è®©è¿”å›žå€¼çš„ç±»åž‹å’Œå‡½æ•°åçš„æœŸæœ›ä¿æŒä¸€è‡´ã€‚ 12345678// expect 'a.b.c.d'function getSPMInString() &#123; // fail return &#123; a, b, c, d &#125;;&#125; ä»Žè¿™ä¸€ç‚¹ä¸Šæ¥è®²ï¼Œè¦æ…Žç”¨ ES2015 ä¸­çš„æ–°ç‰¹æ€§ã€Œè§£æž„èµ‹å€¼ã€ã€‚ è€Œå¯¹äºŽ setter åž‹çš„å‡½æ•°ï¼Œè°ƒç”¨çš„æœŸæœ›æ˜¯å®ƒèƒ½æ‰§è¡Œä¸€ç³»åˆ—çš„æŒ‡ä»¤ï¼Œç„¶åŽåŽ»è¾¾åˆ°ä¸€äº›å‰¯ä½œç”¨ï¼Œæ¯”å¦‚å­˜æ–‡ä»¶ã€æ”¹å†™å˜é‡å€¼ç­‰ç­‰ã€‚å› æ­¤ç»å¤§å¤šæ•°æƒ…å†µæˆ‘ä»¬éƒ½é€‰æ‹©äº†è¿”å›ž undefined / void â€”â€” è¿™å¹¶ä¸æ€»æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ å›žæƒ³ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨è°ƒç”¨æ“ä½œç³»ç»Ÿçš„å‘½ä»¤æ—¶ï¼Œç³»ç»Ÿæ€»ä¼šè¿”å›žã€Œexit codeã€ï¼Œè¿™è®©æˆ‘ä»¬èƒ½å¤ŸèŽ·çŸ¥ç³»ç»Ÿå‘½ä»¤çš„æ‰§è¡Œç»“æžœå¦‚ä½•ï¼Œè€Œä¸å¿…é€šè¿‡å…¶ä»–æ‰‹æ®µåŽ»éªŒè¯ã€Œè¿™ä¸ªæ“ä½œåˆ°åº•ç”Ÿæ•ˆäº†æ²¡ã€ã€‚å› æ­¤ï¼Œåˆ›å»ºè¿™æ ·ä¸€ç§è¿”å›žå€¼é£Žæ ¼ï¼Œæˆ–å¯ä¸€å®šç¨‹åº¦å¢žåŠ å¥å£®æ€§ã€‚ å¦å¤–ä¸€ä¸ªé€‰é¡¹ï¼Œæ˜¯è®© setter åž‹ API å§‹ç»ˆè¿”å›ž thisã€‚è¿™æ˜¯ jQuery ä¸ºæˆ‘ä»¬å¸¦æ¥çš„ç»å…¸å¯ç¤º â€”â€” é€šè¿‡è¿”å›ž thisï¼Œæ¥äº§ç”Ÿä¸€ç§ã€Œé“¾å¼è°ƒç”¨ï¼ˆchainingï¼‰ã€çš„é£Žæ ¼ï¼Œç®€åŒ–ä»£ç å¹¶ä¸”å¢žåŠ å¯è¯»æ€§ï¼š 1234$('div') .attr('foo', 'bar') .data('hello', 'world') .on('click', function() &#123;&#125;); æœ€åŽè¿˜æœ‰ä¸€ä¸ªå¼‚ç±»ï¼Œå°±æ˜¯å¼‚æ­¥æ‰§è¡Œçš„å‡½æ•°ã€‚ç”±äºŽå¼‚æ­¥çš„ç‰¹æ€§ï¼Œå¯¹äºŽè¿™ç§éœ€è¦ä¸€å®šå»¶æ—¶æ‰èƒ½å¾—åˆ°çš„è¿”å›žå€¼ï¼Œåªèƒ½ä½¿ç”¨ callback æ¥ç»§ç»­æ“ä½œã€‚ä½¿ç”¨ Promise æ¥åŒ…è£…å®ƒä»¬å°¤ä¸ºå¿…è¦ã€‚å¯¹å¼‚æ­¥æ“ä½œéƒ½è¿”å›žä¸€ä¸ª Promiseï¼Œä½¿æ•´ä½“çš„ API é£Žæ ¼æ›´å¯é¢„æœŸã€‚ å›ºåŒ–æœ¯è¯­è¡¨åœ¨å‰é¢çš„è¯æ³•éƒ¨åˆ†ä¸­æ›¾ç»æåˆ°ã€Œå‡†ç¡®ç”¨è¯ã€ï¼Œä½†å³ä½¿æˆ‘ä»¬å·²ç»å°½é‡åŽ»ç”¨æ°å½“çš„è¯ï¼Œåœ¨æœ‰äº›æƒ…å†µä¸‹ä»ç„¶ä¸å…ç¢°åˆ°ä¸€äº›éš¾ä»¥æŠ‰æ‹©çš„å°´å°¬åœºæ™¯ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šçœ‹åˆ° pic å’Œ imageã€path å’Œ url æ··ç”¨çš„æƒ…å†µï¼Œè¿™ä¸¤ç»„è¯çš„æ„æ€éžå¸¸æŽ¥è¿‘ï¼ˆå½“ç„¶ä¸¥æ ¼æ¥è¯´ path å’Œ url çš„æ„ä¹‰æ˜¯æ˜Žç¡®ä¸åŒçš„ï¼Œåœ¨æ­¤æš‚ä¸”å¿½ç•¥ï¼‰ï¼Œç¨ä¸ç•™ç¥žå°±ä¼šäº§ç”Ÿ 4 ç§ç»„åˆâ€¦â€¦ picUrl picPath imageUrl imagePath æ›´ç³Ÿç³•çš„æƒ…å†µæ˜¯ imgUrlã€picUriã€picURLâ€¦â€¦ æ‰€ä»¥ï¼Œåœ¨ä¸€å¼€å§‹å°±è¦ äº§å‡ºæœ¯è¯­è¡¨ï¼ŒåŒ…æ‹¬å¯¹ç¼©å†™è¯çš„å¤§å°å†™å¦‚ä½•å¤„ç†ã€æ˜¯å¦æœ‰è‡ªå®šä¹‰çš„ç¼©å†™è¯ç­‰ç­‰ã€‚ä¸€ä¸ªæœ¯è¯­è¡¨å¯ä»¥å½¢å¦‚ï¼š æ ‡å‡†æœ¯è¯­ å«ä¹‰ ç¦ç”¨çš„éžæ ‡å‡†è¯ pic å›¾ç‰‡ image, picture path è·¯å¾„ URL, url, uri on ç»‘å®šäº‹ä»¶ bind, addEventListener off è§£ç»‘äº‹ä»¶ unbind, removeEventListener emit è§¦å‘äº‹ä»¶ fire, trigger module æ¨¡å— mod ä¸ä»…åœ¨å…¬å¼€çš„ API ä¸­è¦éµå®ˆæœ¯è¯­è¡¨è§„èŒƒï¼Œåœ¨å±€éƒ¨å˜é‡ç”šè‡³å­—ç¬¦ä¸²ä¸­éƒ½æœ€å¥½æŒ‰ç…§æœ¯è¯­è¡¨æ¥ã€‚ 1234page.emit('pageRenderRow', &#123; index: this.props.index, modList: moduleList&#125;); æ¯”å¦‚è¿™ä¸ªæˆ‘æœ€è¿‘ç¢°åˆ°çš„æ¡ˆä¾‹ï¼ŒåŒæ—¶å†™ä½œäº† modList å’Œ moduleListï¼Œè¿™å°±æœ‰ç‚¹æ€ªæ€ªçš„ã€‚ å¦å¤–ï¼Œå¯¹äºŽä¸€äº›åˆ›é€ å‡ºæ¥çš„ã€ä¸šåŠ¡ç‰¹è‰²çš„è¯æ±‡ï¼Œå¦‚æžœä¸èƒ½ç”¨è‹±è¯­ç®€æ˜Žåœ°ç¿»è¯‘ï¼Œå°±ç›´æŽ¥ç”¨æ‹¼éŸ³ï¼š æ·˜å® Taobao å¾®æ·˜ Weitao æžæœ‰å®¶ Jiyoujia â€¦â€¦ åœ¨è¿™é‡Œï¼Œåƒä¸‡ä¸è¦æŠŠã€Œå¾®æ·˜ã€ç¿»è¯‘ä¸º MicroTaobaoâ€¦â€¦å½“ç„¶ï¼Œä¸“æœ‰è¯å·²ç»æœ‰è‹±æ–‡åçš„é™¤å¤–ï¼Œå¦‚ Tmallã€‚ éµå¾ªä¸€è‡´çš„ API é£Žæ ¼è¿™ä¸€èŠ‚ç®—å¾—ä¸Šæ˜¯ä¸€ä¸ªå¤ä¹ ç« èŠ‚ã€‚è¯æ³•ã€è¯­æ³•ã€è¯­ä¹‰ä¸­çš„å¾ˆå¤šèŠ‚éƒ½æŒ‡å‘åŒä¸€ä¸ªè¦ç‚¹ï¼šä¸€è‡´æ€§ã€‚ ä¸€è‡´æ€§å¯ä»¥æœ€å¤§ç¨‹åº¦é™ä½Žä¿¡æ¯ç†µã€‚ å¥½å§ï¼Œè¿™å¥è¯ä¸æ˜¯ä»€ä¹ˆåäººåè¨€ï¼Œå°±æ˜¯æˆ‘çŽ°ç¼–çš„ã€‚æ€»è€Œè¨€ä¹‹ï¼Œä¸€è‡´æ€§èƒ½å¤§å¤§é™ä½Žç”¨æˆ·çš„å­¦ä¹ æˆæœ¬ï¼Œå¹¶å¯¹ API äº§ç”Ÿå‡†ç¡®çš„é¢„æœŸã€‚ åœ¨è¯æ³•ä¸Šï¼Œæç‚¼æœ¯è¯­è¡¨ï¼Œå…¨å±€ä¿æŒä¸€è‡´çš„ç”¨è¯ï¼Œé¿å…å‡ºçŽ°ä¸åŒçš„ä½†æ˜¯å«ä¹‰ç›¸è¿‘çš„è¯ã€‚ åœ¨è¯­æ³•ä¸Šï¼Œéµå¾ªç»Ÿä¸€çš„è¯­æ³•ç»“æž„ï¼ˆä¸»è°“å®¾é¡ºåºã€ä¸»è¢«åŠ¨è¯­æ€ï¼‰ï¼Œé¿å…å¤©é©¬è¡Œç©ºçš„é€ å¥ã€‚ åœ¨è¯­ä¹‰ä¸Šï¼Œåˆç†è¿ç”¨å‡½æ•°çš„é‡è½½ï¼Œæä¾›å¯é¢„æœŸçš„ç”šè‡³ä¸€è‡´ç±»åž‹çš„å‡½æ•°å…¥å£å’Œå‡ºå£ã€‚ ç”šè‡³è¿˜å¯ä»¥ä¸€è‡´å¾—æ›´ç»†èŠ‚äº›ï¼Œåªæ˜¯ä¸¾äº›ä¾‹å­ï¼š æ‰“ log è¦ä¹ˆéƒ½ç”¨ä¸­æ–‡ï¼Œè¦ä¹ˆéƒ½ç”¨è‹±æ–‡ã€‚ å¼‚æ­¥æŽ¥å£è¦ä¹ˆéƒ½ç”¨å›žè°ƒï¼Œè¦ä¹ˆéƒ½æ”¹æˆ Promiseã€‚ äº‹ä»¶æœºåˆ¶åªèƒ½é€‰æ‹©å…¶ä¸€ï¼šobject.onDoSomething = func æˆ– object.on(&#39;doSomething&#39;, func)ã€‚ æ‰€æœ‰çš„ setter æ“ä½œå¿…é¡»è¿”å›ž thisã€‚ â€¦â€¦ ä¸€ä»½ä»£ç å†™å¾—å†æ€Žä¹ˆçƒ‚ï¼ŒæŠŠæŸä¸ªå•è¯éƒ½æ‹¼æˆä¸€æ ·çš„é”™è¯¯ï¼Œä¹Ÿå¥½è¿‡è¿™ä¸ªå•è¯åªå‡ºçŽ°ä¸€æ¬¡é”™è¯¯ã€‚ æ˜¯çš„ï¼Œä¸€è‡´æ€§ï¼Œå†æ€Žä¹ˆå¼ºè°ƒéƒ½ä¸ä¸ºè¿‡ã€‚ å“è¶Šï¼šç³»ç»Ÿæ€§å’Œå¤§å±€è§‚ä¸ç®¡æ˜¯å¤§åˆ°å‘å¸ƒè‡³ä¸šç•Œï¼Œæˆ–å°åˆ°åœ¨å…¬å¸å†…è·¨éƒ¨é—¨ä½¿ç”¨ï¼Œä¸€ç»„ API ä¸€æ—¦å…¬å¼€ï¼Œæ•´ä½“ä¸Šå°±æ˜¯ä¸€ä¸ªäº§å“ï¼Œè€Œè°ƒç”¨æ–¹å°±æ˜¯ç”¨æˆ·ã€‚æ‰€è°“ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ï¼Œä¸€ä¸ªå°ç»†èŠ‚å¯èƒ½å½±å“æ•´ä¸ªäº§å“çš„é¢è²Œï¼Œä¸€ä¸ªå°æ”¹åŠ¨ä¹Ÿå¯èƒ½å¼•å‘æ•´ä¸ªäº§å“å´©åã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸€å®šè¦ç«™åœ¨å…¨å±€çš„å±‚é¢ï¼Œç”šè‡³è€ƒè™‘æ•´ä¸ªæŠ€æœ¯çŽ¯å¢ƒï¼Œç³»ç»Ÿæ€§åœ°æŠŠæ¡æ•´ä¸ªä½“ç³»å†… API çš„è®¾è®¡ï¼Œä½“çŽ°å¤§å±€è§‚ã€‚ ç‰ˆæœ¬æŽ§åˆ¶80% çš„é¡¹ç›®å¼€å‘åœ¨ç‰ˆæœ¬æŽ§åˆ¶æ–¹é¢åšå¾—éƒ½å¾ˆç³Ÿç³•ï¼šéšå¿ƒæ‰€æ¬²çš„ç‰ˆæœ¬å‘½åã€ç©ºæ´žè¯¡å¼‚çš„æäº¤ä¿¡æ¯ã€æ¯«æ— è§„åˆ’çš„åŠŸèƒ½æ›´æ–°â€¦â€¦äººä»¬æ˜¾ç„¶éœ€è¦ä¸€æ®µæ—¶é—´æ¥åŸ¹å…»è§„èŒƒåŒ–å¼€å‘çš„é£Žåº¦ï¼Œä½†æ˜¯è‡³å°‘å¾—å…ˆä¿è¯ä¸€ä»¶äº‹æƒ…ï¼š åœ¨å¤§ç‰ˆæœ¬å·ä¸å˜çš„æƒ…å†µä¸‹ï¼ŒAPI ä¿è¯å‘å‰å…¼å®¹ã€‚ è¿™é‡Œè¯´çš„ã€Œå¤§ç‰ˆæœ¬å·ã€å³ã€Œè¯­ä¹‰åŒ–ç‰ˆæœ¬å‘½åã€&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt; ä¸­çš„ç¬¬ä¸€ä½ &lt;major&gt;ä½ã€‚ è¿™ä¸€ä½çš„æ”¹åŠ¨è¡¨æ˜Ž API æ•´ä½“æœ‰å¤§çš„æ”¹åŠ¨ï¼Œå¾ˆå¯èƒ½ä¸å…¼å®¹ï¼Œå› æ­¤ç”¨æˆ·å¯¹å¤§ç‰ˆæœ¬çš„ä¾èµ–æ”¹åŠ¨ä¼šæ…Žä¹‹åˆæ…Žï¼›åä¹‹ï¼Œå¦‚æžœ API æœ‰ä¸å…¼å®¹çš„æ”¹åŠ¨ï¼Œæ„å‘³ç€å¿…é¡»ä¿®æ”¹å¤§ç‰ˆæœ¬å·ï¼Œå¦åˆ™ç”¨æˆ·å¾ˆå®¹æ˜“å‡ºçŽ°åœ¨ä¾‹è¡Œæ›´æ–°ä¾èµ–åŽæ•´ä¸ªç³»ç»Ÿè·‘ä¸èµ·æ¥çš„æƒ…å†µï¼Œæ›´ç³Ÿç³•çš„æƒ…å†µåˆ™æ˜¯å¼•å‘çº¿ä¸Šæ•…éšœã€‚ å¦‚æžœè¿™ç§æƒ…å†µå¾—ä¸åˆ°æ”¹å–„ï¼Œç”¨æˆ·ä»¬å°±ä¼šé€‰æ‹© æ°¸è¿œä¸å‡çº§ä¾èµ–ï¼Œå¯¼è‡´æ›´å¤šçš„æ½œåœ¨é—®é¢˜ã€‚ä¹…è€Œä¹…ä¹‹ï¼Œæœ€ç»ˆä»–ä»¬ä¾¿ä¼šå¼ƒç”¨è¿™äº›äº§å“ï¼ˆåº“ã€ä¸­é—´ä»¶ã€whateverï¼‰ã€‚ æ‰€ä»¥ï¼Œå¸Œæœ› API çš„æä¾›è€…ä»¬ä»¥åŽä¸ä¼šå†å°†å¤§ç‰ˆæœ¬é”å®šä¸º 0ã€‚æ›´å¤šå…³äºŽã€Œè¯­ä¹‰åŒ–ç‰ˆæœ¬ã€çš„å†…å®¹ï¼Œè¯·å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ã€Šè®ºç‰ˆæœ¬å·çš„æ­£ç¡®æ‰“å¼€æ–¹å¼ã€‹ã€‚ ç¡®ä¿å‘ä¸‹å…¼å®¹å¦‚æžœä¸å¸Œæœ›å¯¹å®¢æˆ·é€ æˆæ›´æ–°å‡çº§æ–¹é¢çš„å›°æ‰°ï¼Œæˆ‘ä»¬é¦–å…ˆè¦åšå¥½çš„å°±æ˜¯ç¡®ä¿ API å‘ä¸‹å…¼å®¹ã€‚ API å‘ç”Ÿæ”¹åŠ¨ï¼Œè¦ä¹ˆæ˜¯éœ€è¦æä¾›æ–°çš„åŠŸèƒ½ï¼Œè¦ä¹ˆæ˜¯ä¸ºä¹‹å‰çš„ç³Ÿç³•è®¾è®¡ä¹°å•â€¦â€¦å…·ä½“æ¥è¯´ï¼Œæ”¹åŠ¨æ— å¤–ä¹Žï¼šå¢žåŠ ã€åˆ é™¤ã€ä¿®æ”¹ ä¸‰æ–¹é¢ã€‚ é¦–å…ˆæ˜¯åˆ é™¤ã€‚ä¸è¦è½»æ˜“åˆ é™¤å…¬å¼€å‘å¸ƒçš„ APIï¼Œæ— è®ºä¹‹å‰å†™å¾—å¤šä¹ˆç³Ÿç³•ã€‚å¦‚æžœä¸€å®šè¦åˆ é™¤ï¼Œé‚£ä¹ˆç¡®ä¿æ­£ç¡®ä½¿ç”¨äº†ã€ŒDeprecatedã€ï¼š å¯¹äºŽæŸä¸ªä¸æƒ³ä¿ç•™çš„å¯æ€œ APIï¼Œå…ˆä¸è¦ç›´æŽ¥åˆ é™¤ï¼Œå°†å…¶æ ‡è®°ä¸º @deprecated åŽç½®å…¥ä¸‹ä¸€ä¸ªå°ç‰ˆæœ¬å‡çº§ï¼ˆæ¯”å¦‚ä»Ž 1.0.2 åˆ° 1.1.0ï¼‰ã€‚ 123456789/*** @deprecated*/export function youWantToRemove(foo, bar) &#123;&#125;/*** This is the replacement.*/export function youWantToKeep(foo) &#123;&#125; å¹¶ä¸”ï¼Œåœ¨ changelog ä¸­æ˜Žç¡®æŒ‡å‡ºè¿™äº› API å³å°†ç§»é™¤ï¼ˆä¸æŽ¨èä½¿ç”¨ï¼Œä½†æ˜¯ç›®å‰ä»ç„¶èƒ½ç”¨ï¼‰ã€‚ ä¹‹åŽï¼Œåœ¨ä¸‹ä¸€ä¸ª å¤§ç‰ˆæœ¬ ä¸­ï¼ˆæ¯”å¦‚ 1.1.0 åˆ° 2.0.0ï¼‰åˆ é™¤æ ‡è®°ä¸º @deprecated çš„éƒ¨åˆ†ï¼ŒåŒæ—¶åœ¨ changelog ä¸­æŒ‡æ˜Žå®ƒä»¬å·²åˆ é™¤ã€‚ å…¶æ¬¡æ˜¯ API çš„ä¿®æ”¹ã€‚å¦‚æžœæˆ‘ä»¬ä»…ä»…æ˜¯ä¿®å¤ bugã€é‡æž„å®žçŽ°ã€æˆ–è€…æ·»åŠ ä¸€äº›å°ç‰¹æ€§ï¼Œé‚£è‡ªç„¶æ²¡ä»€ä¹ˆå¯è¯´çš„ï¼›ä½†æ˜¯å¦‚æžœæƒ³å½»åº•ä¿®æ”¹ä¸€ä¸ª APIâ€¦â€¦æ¯”å¦‚é‡åšå…¥å£å‚æ•°ã€æ”¹å†™ä¸šåŠ¡é€»è¾‘ç­‰ç­‰ï¼Œå»ºè®®çš„åšæ³•æ˜¯ï¼š ç¡®ä¿åŽŸæ¥çš„ API ç¬¦åˆã€Œå•ä¸€èŒè´£ã€åŽŸåˆ™ï¼Œå¦‚æžœä¸æ˜¯åˆ™ä¿®æ”¹ä¹‹ã€‚ å¢žåŠ ä¸€ä¸ªå…¨æ–°çš„ API åŽ»å®žçŽ°æ–°çš„éœ€æ±‚ï¼ç”±äºŽæˆ‘ä»¬çš„ API éƒ½éµå¾ªã€Œå•ä¸€èŒè´£ã€ï¼Œå› æ­¤ä¸€æ—¦éœ€è¦å½»åº•ä¿®æ”¹ APIï¼Œæ„å‘³ç€æ–°éœ€æ±‚å’ŒåŽŸæ¥çš„èŒè´£å·²ç»å®Œå…¨æ— æ³•åŒ¹é…ï¼Œä¸å¦‚å¹²è„†æ–°å¢žä¸€ä¸ª APIã€‚ è§†å…·ä½“æƒ…å†µé€‰æ‹©ä¿ç•™æˆ–ç§»é™¤æ—§ APIï¼Œè¿›å…¥å‰é¢æ‰€è¿°ã€Œåˆ é™¤ APIã€çš„æµç¨‹ã€‚ æœ€åŽæ˜¯æ–°å¢ž APIã€‚äº‹å®žä¸Šï¼Œå³ä½¿æ˜¯åªåŠ ä»£ç ä¸åˆ ä»£ç ï¼Œæ•´ä½“ä¹Ÿä¸ä¸€å®šæ˜¯å‘ä¸‹å…¼å®¹çš„ã€‚æœ‰ä¸€ä¸ªç»å…¸çš„æ­£é¢æ¡ˆä¾‹æ˜¯ï¼š 12345// modern browsersdocument.hidden == false;// out-of-date browsersdocument.hidden == undefined; æµè§ˆå™¨æ–°å¢žçš„ä¸€ä¸ª APIï¼Œç”¨ä»¥æ ‡è®°ã€Œå½“å‰æ–‡æ¡£æ˜¯å¦å¯è§ã€ã€‚ç›´è§‚çš„è®¾è®¡åº”è¯¥æ˜¯æ–°å¢ždocument.visible è¿™æ ·çš„å±žæ€§åâ€¦â€¦é—®é¢˜æ˜¯ï¼Œåœ¨é€»è¾‘ä¸Šï¼Œæ–‡æ¡£é»˜è®¤æ˜¯å¯è§çš„ï¼Œå³document.visible é»˜è®¤ä¸º trueï¼Œè€Œä¸æ”¯æŒæ­¤æ–°å±žæ€§çš„æ—§æµè§ˆå™¨è¿”å›ž document.visible == undefinedï¼Œæ˜¯ä¸ª falsy å€¼ã€‚å› æ­¤ï¼Œå¦‚æžœç”¨æˆ·åœ¨ä»£ç ä¸­ç®€å•åœ°ä»¥ï¼š 123if (document.visible) &#123; // do some stuff&#125; åšç‰¹å¾æ£€æµ‹çš„è¯ï¼Œåœ¨æ—§æµè§ˆå™¨ä¸­å°±ä¼šè¿›å…¥é”™è¯¯çš„æ¡ä»¶åˆ†æ”¯â€¦â€¦è€Œåä¹‹ï¼Œä»¥ document.hiddenAPI æ¥åˆ¤æ–­ï¼Œåˆ™æ˜¯å‘ä¸‹å…¼å®¹çš„ã€‚ è®¾è®¡æ‰©å±•æœºåˆ¶æ¯«æ— ç–‘é—®ï¼Œåœ¨ä¿è¯å‘ä¸‹å…¼å®¹çš„åŒæ—¶ï¼ŒAPI éœ€è¦æœ‰ä¸€ä¸ªå¯¹åº”çš„æ‰©å±•æœºåˆ¶ä»¥å¯æŒç»­å‘å±• â€”â€” ä¸€æ–¹é¢ä¾¿äºŽå¼€å‘è€…è‡ªèº«å¢žåŠ åŠŸèƒ½ï¼Œå¦ä¸€æ–¹é¢ç”¨æˆ·ä¹Ÿèƒ½å‚ä¸Žè¿›æ¥å…±å»ºç”Ÿæ€ã€‚ æŠ€æœ¯ä¸Šæ¥è¯´ï¼ŒæŽ¥å£çš„æ‰©å±•æ–¹å¼æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ï¼šç»§æ‰¿ï¼ˆextendï¼‰ã€ç»„åˆï¼ˆmixinï¼‰ã€è£…é¥°ï¼ˆdecorateï¼‰â€¦â€¦é€‰æ‹©æ²¡æœ‰å¯¹é”™ï¼Œå› ä¸ºä¸åŒçš„æ‰©å±•æ–¹å¼é€‚ç”¨äºŽä¸åŒçš„åœºæ™¯ï¼šåœ¨é€»è¾‘ä¸Šç¡®å®žå­˜åœ¨æ´¾ç”Ÿå…³ç³»ï¼Œå¹¶ä¸”éœ€è¦æ²¿ç”¨åŸºç±»è¡Œä¸ºåŒæ—¶è‡ªå®šä¹‰è¡Œä¸ºçš„ï¼Œé‡‡ç”¨é‡é‡çº§çš„ç»§æ‰¿ï¼›ä»…ä»…æ˜¯æ‰©å……ä¸€äº›è¡Œä¸ºåŠŸèƒ½ï¼Œä½†æ˜¯é€»è¾‘ä¸ŠåŽ‹æ ¹ä¸å­˜åœ¨çˆ¶å­å…³ç³»çš„ï¼Œä½¿ç”¨ç»„åˆï¼›è€Œè£…é¥°æ‰‹æ³•æ›´å¤šåº”ç”¨äºŽç»™å®šä¸€ä¸ªæŽ¥å£ï¼Œå°†å…¶åŒ…è£…æˆå¤šç§é€‚ç”¨äºŽä¸åŒåœºæ™¯æ–°æŽ¥å£çš„æƒ…å†µâ€¦â€¦ å¦ä¸€æ–¹é¢ï¼Œå¯¹äºŽä¸åŒçš„ç¼–ç¨‹è¯­è¨€æ¥è¯´ï¼Œç”±äºŽä¸åŒçš„è¯­è¨€ç‰¹æ€§â€¦â€¦é™æ€ã€åŠ¨æ€ç­‰ï¼Œå„è‡ªæ›´é€‚åˆç”¨æŸå‡ ç§æ‰©å±•æ–¹å¼ã€‚æ‰€ä»¥ï¼Œåˆ°åº•é‡‡ç”¨ä»€ä¹ˆæ‰©å±•åŠžæ³•ï¼Œè¿˜æ˜¯å¾—è§†æƒ…å†µè€Œå®šã€‚ åœ¨ JS ç•Œï¼Œæœ‰ä¸€äº›ç»å…¸çš„æŠ€æœ¯äº§å“ï¼Œå®ƒä»¬çš„æ‰©å±•ç”šè‡³å·²ç»å½¢æˆç”Ÿæ€ï¼Œå¦‚ï¼š jQueryã€‚è€³ç†Ÿèƒ½è¯¦çš„ $.fn.customMethod = function() {};ã€‚è¿™ç§ç®€å•çš„ mixin åšæ³•å·²ç»ä¸º jQuery æä¾›äº†æˆåƒä¸Šä¸‡çš„æ’ä»¶ï¼Œè€Œ jQuery è‡ªå·±çš„å¤§éƒ¨åˆ† API æœ¬èº«ä¹Ÿæ˜¯åŸºäºŽè¿™ä¸ªå†™æ³•æž„å»ºèµ·æ¥çš„ã€‚ Reactã€‚React è‡ªèº«å·²ç»å¤„ç†äº†æ‰€æœ‰æœ‰å…³ç»„ä»¶å®žä¾‹åŒ–ã€ç”Ÿå‘½å‘¨æœŸã€æ¸²æŸ“å’Œæ›´æ–°ç­‰ç¹ççš„äº‹é¡¹ï¼Œåªè¦å¼€å‘è€…åŸºäºŽ React.Component æ¥ç»§æ‰¿å‡ºä¸€ä¸ªç»„ä»¶ç±»ã€‚å¯¹äºŽä¸€ä¸ª component system æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªç»å…¸çš„åšæ³•ã€‚ Gulpã€‚ç›¸æ¯”äºŽè¿‘ä¸¤å¹´çš„å¤§çƒ­ Webpackï¼Œä¸ªäººè®¤ä¸º Gulp æ›´èƒ½ä½“çŽ°ä¸€ä¸ª building system çš„é€»è¾‘ â€”â€” å®šä¹‰å„ç§å„æ ·çš„ã€Œä»»åŠ¡ã€ï¼Œç„¶åŽç”¨ã€Œç®¡é“ã€å°†å®ƒä»¬ä¸²èµ·æ¥ã€‚ä¸€ä¸ª Gulp æ’ä»¶ä¹Ÿæ˜¯é‚£ä¹ˆçš„çº¯ç²¹ï¼ŒæŽ¥å—æ–‡ä»¶æµï¼Œè¿”å›žæ–‡ä»¶æµï¼Œå¦‚æ˜¯è€Œå·²ã€‚ Koaã€‚å¯¹äºŽä¸»æµçš„ HTTP Server æ¥è¯´ï¼Œä¸­é—´ä»¶çš„è®¾è®¡å¤§åŒå°å¼‚ï¼šæŽ¥å—ä¸Šä¸€ä¸ª requestï¼Œè¿”å›žä¸€ä¸ªæ–°çš„ responseã€‚è€Œå¯¹å¤©ç”Ÿ Promise åŒ–çš„ Koa æ¥è¯´ï¼Œå®ƒçš„ä¸­é—´ä»¶é£Žæ ¼æ›´æŽ¥è¿‘äºŽ Gulp äº†ï¼ŒåŒºåˆ«ä»…åœ¨äºŽä¸€ä¸ªæ˜¯ file streamï¼Œä¸€ä¸ªæ˜¯ HTTP streamã€‚ ä¸åªæ˜¯åºžå¤§çš„æ¡†æž¶éœ€è¦è€ƒè™‘æ‰©å±•æ€§ï¼Œè®¾è®¡å¯æ‰©å±•çš„ API åº”è¯¥å˜æˆä¸€ç§åŸºæœ¬çš„æ€ç»´æ–¹å¼ã€‚æ¯”å¦‚è¿™ä¸ªæ´»ç”Ÿç”Ÿçš„ä¸šåŠ¡ä¾‹å­ï¼š 12345678910111213141516171819202122232425// json[ &#123; "type": "item", "otherAttrs": "foo" &#125;, &#123; "type": "shop", "otherAttrs": "bar" &#125;]// render logicswitch(feed.type) &#123; case 'item': console.log('render in item-style.'); break; case 'shop': console.log('render in shop-style.'); break; case 'other': default: console.log('render in other styles, maybe banner or sth.'); break;&#125; æ ¹æ®ä¸åŒçš„ç±»åž‹æ¸²æŸ“ä¸€ç»„ feeds ä¿¡æ¯ï¼šå•†å“æ¨¡å—ã€åº—é“ºæ¨¡å—ï¼Œæˆ–æ˜¯å…¶ä»–ã€‚æŸå¤©æ–°å¢žäº†éœ€æ±‚è¯´è¦æ”¯æŒæ¸²æŸ“å¤©çŒ«çš„åº—é“ºæ¨¡å—ï¼ˆå¤šæ˜¾ç¤ºä¸ªå¤©çŒ«æ ‡ç­‰ç­‰ï¼‰ï¼ŒäºŽæ˜¯ JSON æŽ¥å£ç›´æŽ¥æ–°å¢žä¸€ä¸ªtype = &#39;tmallShop&#39; â€”â€” è¿™ç§æŽ¥å£æ”¹æ³•å¾ˆç®€å•ç›´è§‚ï¼Œä½†æ˜¯å¹¶ä¸å¥½ã€‚åœ¨ä¸æ”¹å‰ç«¯ä»£ç çš„æƒ…å†µä¸‹ï¼ŒtmallShop ç±»åž‹é»˜è®¤è¿›å…¥ default åˆ†æ”¯ï¼Œå¯¼è‡´å¥‡å¥‡æ€ªæ€ªçš„æ¸²æŸ“ç»“æžœã€‚ è€ƒè™‘åˆ° tmallShop å’Œ shop ä¹‹é—´æ˜¯ä¸€ä¸ªç»§æ‰¿çš„å…³ç³»ï¼ŒtmallShop å®Œå…¨å¯ä»¥å½“ä¸€ä¸ªæ™®é€šçš„ shopæ¥ç”¨ï¼Œæ‰§è¡ŒåŽè€…çš„æ‰€æœ‰é€»è¾‘ã€‚ç”¨ Java çš„è¡¨è¾¾æ–¹å¼æ¥è¯´å°±æ˜¯ï¼š 123// a tmallShop is a shopShop tmallShop = new TmallShop();tmallShop.doSomeShopStuff(); å°†è¿™ä¸ªé€»è¾‘å…³ç³»åæ˜ åˆ° JSON æŽ¥å£ä¸­ï¼Œåˆç†çš„åšæ³•æ˜¯æ–°å¢žä¸€ä¸ª subType å­—æ®µï¼Œç”¨æ¥æ ‡è®°tmallShopï¼Œè€Œå®ƒçš„ type ä»ç„¶ä¿æŒä¸º shopã€‚è¿™æ ·ä¸€æ¥ï¼Œå³ä½¿åŽŸæ¥çš„å‰ç«¯ä»£ç å®Œå…¨ä¸ä¿®æ”¹ï¼Œä»ç„¶å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œé™¤äº†æ— æ³•æ¸²æŸ“å‡ºä¸€äº›å¤©çŒ«åº—é“ºçš„ç‰¹å¾ã€‚ è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªéžå¸¸ç±»ä¼¼çš„æ­£é¢æ¡ˆä¾‹ï¼Œæ˜¯ ABS æ­å»ºç³»ç»Ÿï¼ˆæ·˜å® FED å‡ºå“çš„ç«™ç‚¹æ­å»ºç³»ç»Ÿï¼‰è®¾è®¡çš„æ¨¡å— JSON Schemaï¼š 12345678910// json[ &#123; "type": "string", "format": "enum" &#125;, &#123; "type": "string", "format": "URL" &#125;] åŒæ ·é‡‡ç”¨äº† type ä¸ºä¸»ç±»åž‹ï¼Œè€Œæ‰©å±•å­—æ®µåœ¨è¿™é‡Œå˜æˆäº† formatï¼Œç”¨æ¥å®¹çº³ä¸€äº›æ‰©å±•ç‰¹æ€§ã€‚åœ¨å®žé™…å¼€å‘ä¸­ï¼Œçš„ç¡®ä¹Ÿå¾ˆæ–¹ä¾¿æ–°å¢žå„ç§æ–°çš„æ•°æ®ç»“æž„é€»è¾‘ã€‚ æŽ§åˆ¶ API çš„æŠ½è±¡çº§åˆ«API èƒ½æ‰©å±•çš„å‰ææ˜¯ä»€ä¹ˆï¼Ÿæ˜¯æŽ¥å£è¶³å¤ŸæŠ½è±¡ã€‚è¿™æ ·æ‰èƒ½å¤ŸåŠ ä¸Šå„ç§å…·ä½“çš„å®šè¯­ã€è£…é¥°æ›´å¤šåŠŸèƒ½ã€‚ç”¨æ—¥å¸¸è¯­è¨€ä¸¾ä¸ªä¾‹å­ï¼š 123456789// abstractI want to go to a place.// when&#123;Today, Tomorrow, Jan. 1st&#125; I want to go to a place.// whereI want to go to &#123;mall, cafe, bed&#125;.// concrete, no extends any moreToday I want to go to a cafe for my business. æ‰€ä»¥ï¼Œåœ¨è®¾è®¡ API æ—¶è¦é«˜æŠ½è±¡ï¼Œä¸è¦é™·å…¥å…·ä½“çš„å®žçŽ°ï¼Œä¸è¦é™·å…¥å…·ä½“çš„éœ€æ±‚ï¼Œè¦é«˜å±‹å»ºç“´ã€‚ çœ‹ä¸ªå®žé™…çš„æ¡ˆä¾‹ï¼šä¸€ä¸ªç±» React Native çš„é¡µé¢æ¡†æž¶æƒ³æš´éœ²å‡ºä¸€ä¸ªäº‹ä»¶ã€Œæ»šåŠ¨åˆ°ç¬¬äºŒå±ã€ï¼Œä»¥ä¾¿é¡µé¢å¼€å‘è€…èƒ½ç›‘å¬è¿™ä¸ªäº‹ä»¶ï¼Œä»Žè€Œæ›´å¥½åœ°æŽ§åˆ¶é¡µé¢èµ„æºçš„åŠ è½½ç­–ç•¥ï¼ˆæ¯”å¦‚é¦–å±é»˜è®¤åŠ è½½æ¸²æŸ“ã€åˆ°ç¬¬äºŒå±ä¹‹åŽå†åŽ»åŠ è½½å‰©ä¸‹çš„èµ„æºï¼‰ã€‚ ä½†æ˜¯å› ä¸ºä¸€äº›å®žçŽ°ä¸Šçš„åŽŸå› ï¼Œé¡µé¢æ¡†æž¶è¿˜ä¸èƒ½é€šè¿‡é¡µé¢ä½ç§»ï¼ˆoffsetï¼‰æ¥ç²¾ç¡®åœ°é€šçŸ¥ã€Œæ»šåŠ¨åˆ°äº†ç¬¬äºŒå±ã€ï¼Œè€Œåªèƒ½åˆ¤æ–­ã€Œç¬¬äºŒå±çš„ç¬¬ä¸€ä¸ªæ¨¡å—å‡ºçŽ°äº†ã€ã€‚äºŽæ˜¯è¿™ä¸ªäº‹ä»¶æ²¡æœ‰è¢«è®¾è®¡ä¸ºsecondScreenReachedï¼Œè€Œå˜æˆäº† secondScreenFirstModuleAppearâ€¦â€¦è™½ç„¶secondScreenFirstModuleAppear ä¸èƒ½ç²¾ç¡®å®šä¹‰ secondScreenReachedï¼Œä½†æ˜¯ç›´æŽ¥æš´éœ²è¿™ä¸ªå…·ä½“çš„ API å®žåœ¨å¤ªç³Ÿç³•äº†ï¼Œé—®é¢˜åœ¨äºŽï¼š ç”¨æˆ·åœ¨ä¾èµ–ä¸€ä¸ªéžå¸¸éžå¸¸å…·ä½“çš„ APIï¼Œç»™ç”¨æˆ·é€ æˆäº†é¢å¤–çš„ä¿¡æ¯è´Ÿæ‹…ã€‚ã€Œç¬¬äºŒå±çš„ç¬¬ä¸€ä¸ªæ¨¡å—å‡ºçŽ°äº†ï¼ã€è¿™å¾ˆæ€ªå¼‚ï¼Œç”¨æˆ·æ ¹æœ¬ä¸å…³å¿ƒæ¨¡å—çš„äº‹æƒ…ï¼Œç”¨æˆ·å…³å¿ƒçš„åªæ˜¯ä»–æ˜¯å¦åˆ°è¾¾äº†ç¬¬äºŒå±ã€‚ ä¸€æ—¦é¡µé¢æ¡†æž¶èƒ½å¤ŸçœŸæ­£é€šè¿‡é¡µé¢ä½ç§»æ¥å®žçŽ°ã€Œæ»šåŠ¨åˆ°ç¬¬äºŒå±ã€ï¼Œå¦‚æžœæˆ‘ä»¬æš´éœ²çš„æ˜¯é«˜æŠ½è±¡çš„ secondScreenReachedï¼Œé‚£ä¹ˆåªéœ€è¦æ›´æ”¹ä¸€ä¸‹è¿™ä¸ªæŽ¥å£çš„å…·ä½“å®žçŽ°å³å¯ï¼›åä¹‹ï¼Œæˆ‘ä»¬æš´éœ²çš„æ˜¯å¾ˆå…·ä½“çš„ secondScreenFirstModuleAppearï¼Œå°±åªèƒ½æŒ¨ä¸ªé€šçŸ¥ç”¨æˆ·ï¼šã€Œä½ çŽ°åœ¨å¯ä»¥ä¸ç”¨ä¾èµ–è¿™ä¸ªäº‹ä»¶äº†ï¼Œæ”¹æˆæˆ‘ä»¬æ–°å‡ºçš„ secondScreenReached å§ï¼ã€ æ˜¯çš„ï¼ŒæŠ½è±¡çº§åˆ«ä¸€èˆ¬æ¥è¯´è¶Šé«˜è¶Šå¥½ï¼Œå°† API è®¾è®¡æˆä¸šåŠ¡æ— å…³çš„ï¼Œæ›´é€šç”¨ï¼Œè€Œä¸”æ–¹ä¾¿æ‰©å±•ã€‚ä½†æ˜¯ç‰©æžå¿…åï¼Œå¯¹äºŽåƒæˆ‘è¿™æ ·çš„æŠ½è±¡æŽ§æ¥è¯´ï¼Œæœ€å¥½èƒ½å­¦ä¼šæŽ§åˆ¶æŽ¥å£çš„æŠ½è±¡çº§åˆ«ï¼Œå°†å…¶ä¿æŒåœ¨ä¸€ä¸ªæ°åˆ°å¥½å¤„çš„å±‚æ¬¡ä¸Šï¼Œä¸è¦åšæ— ä¼‘æ­¢çš„æŠ½è±¡ã€‚ è¿˜æ˜¯åˆšæ‰çš„ä¾‹å­ secondScreenReachedï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†å…¶æŠ½è±¡æˆ targetScreenReachedï¼Œå¯ä»¥æ”¯æŒåˆ°è¾¾é¦–å±ã€åˆ°è¾¾ç¬¬äºŒå±ã€ç¬¬ä¸‰å±â€¦â€¦çš„äº‹ä»¶ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯æ›´çµæ´»ã€æ›´ä¼˜é›…å‘¢ï¼Ÿå¹¶æ²¡æœ‰ â€”â€” æŠ½è±¡æ—¶ä¸€å®šè¦è€ƒè™‘åˆ°å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚åœºæ™¯ï¼Œæœ‰äº›å®žçŽ°è·¯å¾„å¦‚æžœæ°¸è¿œä¸å¯èƒ½èµ°åˆ°ï¼Œå°±æ²¡å¿…è¦æŠ½å‡ºæ¥ã€‚æ¯”å¦‚è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ²¡æœ‰äººä¼šåŽ»å…³å¿ƒç¬¬ä¸‰å±ã€ç¬¬å››å±çš„äº‹ä»¶ã€‚ å¤ªé«˜çš„æŠ½è±¡å®¹æ˜“é€ æˆå¤ªå¤šçš„å±‚æ¬¡ï¼Œå¸¦æ¥é¢å¤–çš„è€¦åˆã€é€šä¿¡ç­‰ä¸åŒå±‚æ¬¡ä¹‹é—´çš„æ²Ÿé€šæˆæœ¬ï¼Œè¿™å°†ä¼šæˆä¸ºæ–°çš„éº»çƒ¦ã€‚å¯¹ç”¨æˆ·è€Œè¨€ï¼Œä¹Ÿæ˜¯é¢å¤–çš„ä¿¡æ¯è´Ÿæ‹…ã€‚ å¯¹äºŽç‰¹å®šçš„ä¸šåŠ¡æ¥è¯´ï¼ŒæŽ¥å£è¶ŠæŠ½è±¡è¶Šé€šç”¨ï¼Œè€Œè¶Šå…·ä½“åˆ™è¶Šèƒ½è§£å†³ç‰¹å®šé—®é¢˜ã€‚æ‰€ä»¥ï¼Œæ€è€ƒæ¸…æ¥šï¼ŒAPI é¢å‘çš„åœºæ™¯èŒƒå›´ï¼Œé¿å…æ‡’æƒ°è®¾è®¡ï¼Œé¿å…è¿‡åº¦è®¾è®¡ã€‚ æ”¶æ•› API é›†å¯¹äºŽä¸€æ•´ä¸ªä½“ç³»çš„ API æ¥è¯´ï¼Œç”¨æˆ·é¢å¯¹çš„æ˜¯è¿™ä¸ªæ•´ä½“é›†åˆï¼Œè€Œä¸æ˜¯å…¶ä¸­æŸå‡ ä¸ªå•ä¸€çš„ APIã€‚æˆ‘ä»¬è¦ä¿è¯é›†åˆå†…çš„ API éƒ½åœ¨ä¸€è‡´çš„æŠ½è±¡ç»´åº¦ä¸Šï¼Œå¹¶ä¸”é€‚å½“åœ°åˆå¹¶ APIï¼Œå‡å°æ•´ä¸ªé›†åˆçš„ä¿¡æ¯é‡ï¼Œé…Œæƒ…åšå‡æ³•ã€‚ äº§å“å¼€å§‹åšå‡æ³•ï¼Œä¾¿æ˜¯å¯¹ç”¨æˆ·çš„æ¸©æŸ”ã€‚ æ”¶æ•›è¿‘ä¼¼æ„ä¹‰çš„å‚æ•°å’Œå±€éƒ¨å˜é‡ã€‚ä¸‹é¢è¿™æ ·çš„ä¸€ç»„ API å¥½åƒæ²¡ä»€ä¹ˆä¸å¯¹ï¼Œä½†æ˜¯å¯¹å¼ºè¿«ç—‡æ¥è¯´ä¸€å®šäº§ç”Ÿäº†ä¸ç¥¥çš„ç›´è§‰ï¼š 12345export function selectTab(index) &#123;&#125;export function highlightTab(tabIndex) &#123;&#125;export function gotoPage(index) &#123;&#125; åˆæ˜¯ index åˆæ˜¯ tabIndex çš„ï¼Œæˆ–è®¸è¿˜ä¼šæœ‰ pageIndexï¼Ÿè¯šç„¶ï¼Œå‡½æ•°å½¢å‚å’Œå±€éƒ¨å˜é‡çš„å‘½åå¯¹æœ€ç»ˆç”¨æˆ·æ¥è¯´æ²¡æœ‰ç›´æŽ¥å½±å“ï¼Œä½†æ˜¯è¿™äº›ä¸ä¸€è‡´çš„å†™æ³•ä»ç„¶èƒ½åæ˜ åˆ° API æ–‡æ¡£ä¸­ï¼Œå¹¶ä¸”ï¼Œå¯¹å¼€å‘è€…è‡ªèº«ä¹Ÿä¼šäº§ç”Ÿæ··æ·†ã€‚æ‰€ä»¥ï¼Œé€‰ä¸€ä¸ªå›ºå®šçš„å‘½åé£Žæ ¼ï¼Œç„¶åŽä»Žä¸€è€Œç»ˆï¼å¦‚æžœå¿˜äº†çš„è¯ï¼Œå›žå¤´çœ‹ä¸€ä¸‹å‰æ–‡ã€Œå›ºåŒ–æœ¯è¯­è¡¨ã€è¿™ä¸€èŠ‚å§ï¼ æ”¶æ•›è¿‘ä¼¼èŒè´£çš„å‡½æ•°ã€‚å¯¹ç”¨æˆ·æš´éœ²å‡ºå¤ªå¤šçš„æŽ¥å£ä¸æ˜¯å¥½äº‹ï¼Œä½†æ˜¯ä¸€æ—¦è¦åˆå¹¶ä¸åŒçš„å‡½æ•°ï¼Œæ˜¯å¦å°±ä¼šç ´åã€Œå•ä¸€èŒè´£ã€åŽŸåˆ™å‘¢ï¼Ÿ ä¸ï¼Œå› ä¸ºã€Œå•ä¸€èŒè´£ã€æœ¬èº«ä¹Ÿè¦çœ‹å…·ä½“çš„æŠ½è±¡å±‚æ¬¡ã€‚ä»¥ä¸‹è¿™ä¸ªä¾‹å­å’Œå‰æ–‡ã€Œåˆç†è¿ç”¨å‡½æ•°é‡è½½ã€ä¸­çš„ä¾‹å­æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œä½†å…·ä½“åˆæœ‰æ‰€ä¸åŒã€‚ 12345678910111213141516171819202122// a complex rendering processfunction renderPage() &#123; // too many APIs here renderHeader(); renderBody(); renderSidebar(); renderFooter();&#125;// now mergedfunction renderPage() &#123; renderSections([ 'header', 'body', 'sidebar', 'footer' ]);&#125;// call renderSectionfunction renderSections(sections) &#123;&#125;// and the real laborfunction renderSection(section) &#123;&#125; ç±»ä¼¼äºŽè¿™æ ·ï¼Œé¿å…æš´éœ²è¿‡å¤šè¿‘ä¼¼çš„ APIï¼Œåˆç†åˆ©ç”¨æŠ½è±¡å°†å…¶åˆå¹¶ï¼Œå‡å°å¯¹ç”¨æˆ·çš„åŽ‹åŠ›ã€‚ å¯¹äºŽä¸€ä¸ªæœ‰æ¸…æ™°ç»§æ‰¿æ ‘çš„åœºæ™¯æ¥è¯´ï¼Œæ”¶æ•› API æ˜¾å¾—æ›´åŠ è‡ªç„¶ä¸”æ„ä¹‰é‡å¤§ â€”â€” åˆ©ç”¨å¤šæ€æ€§ï¼ˆPolymorphismï¼‰æž„å»º Consistent APIsã€‚ï¼ˆä»¥ä¸‹ä¾‹å­æ¥æºäºŽ Clean Code JSã€‚ï¼‰ 12345678910111213// bad: type-checking herefunction travelToTexas(vehicle) &#123; if (vehicle instanceof Bicycle) &#123; vehicle.pedal(this.currentLocation, new Location('texas')); &#125; else if (vehicle instanceof Car) &#123; vehicle.drive(this.currentLocation, new Location('texas')); &#125;&#125;// coolfunction travelToTexas(vehicle) &#123; vehicle.move(this.currentLocation, new Location('texas'));&#125; æœ‰ä¸€ä¸ªå°† API æ”¶æ•›åˆ°æžè‡´çš„å®¶ä¼™ææ€•å¤§å®¶éƒ½ä¸ä¼šé™Œç”Ÿï¼šjQuery çš„ $()ã€‚è¿™ä¸ªé£Žæ ¼ä¸æ­£æ˜¯ jQuery å½“å¹´çš„æ€æ‰‹çº§ç‰¹æ€§ä¹‹ä¸€å—ï¼Ÿ å¦‚æžœ $() èƒ½è®©æˆ‘æžå®šè¿™ä»¶äº‹ï¼Œå°±ä¸è¦å†ç»™æˆ‘ foo() å’Œ bar()ã€‚ æ”¶æ•›è¿‘ä¼¼åŠŸèƒ½çš„åŒ…ã€‚å†å¾€ä¸Šä¸€çº§ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥åˆå¹¶ç›¸è¿‘çš„ packageã€‚ æ·˜å® FED çš„ Rax ä½“ç³»ï¼ˆç±» RN æ¡†æž¶ï¼‰ä¸­ï¼Œæœ‰åŸºç¡€çš„ç»„ä»¶æ ‡ç­¾ï¼Œå¦‚ &lt;Image&gt; (in @ali/rax-components)ã€&lt;Link&gt; (in @ali/rax-components)ï¼Œä¹Ÿæœ‰ä¸€äº›å¢žå¼ºåŠŸèƒ½çš„ packageï¼Œå¦‚&lt;Picture&gt; (in @ali/rax-picture)ã€&lt;Link&gt; (in @ali/rax-spmlink)ã€‚ åœ¨è¿™é‡Œï¼ŒåŽè€…åŒ…ä¹‹äºŽå‰è€…ç›¸å½“äºŽè£…é¥°äº†æ›´å¤šåŠŸèƒ½ï¼Œæ˜¯å‰è€…çš„å¢žå¼ºç‰ˆã€‚è€Œåœ¨å®žé™…åº”ç”¨ä¸­ï¼Œä¹Ÿæ˜¯æŽ¨èä½¿ç”¨è¯¸å¦‚ &lt;Picture&gt; è€Œç¦æ­¢ä½¿ç”¨ &lt;Image&gt;ã€‚é‚£ä¹ˆåœ¨è¿™ç§å¤§çŽ¯å¢ƒä¸‹ï¼Œ&lt;Image&gt; ç­‰åŸºç¡€ API çš„æš´éœ²å°±åè€Œå˜å¾—å¾ˆæ‰°æ°‘ã€‚å¯ä»¥è€ƒè™‘å°†å¢žå¼ºåŒ…çš„åŠŸèƒ½å®Œå…¨åˆå¹¶å…¥åŸºç¡€ç»„ä»¶ï¼Œå³å°† &lt;Picture&gt;å¹¶å…¥ &lt;Image&gt;ï¼Œç”¨æˆ·åªéœ€é¢å¯¹å•ä¸€çš„ã€æ ‡å‡†çš„ç»„ä»¶ APIã€‚ å‘æ•£ API é›†è¿™å¬ä¸ŠåŽ»å¾ˆè’è°¬ï¼Œä¸ºä»€ä¹ˆä¸€ä¸ª API é›†åˆåˆè¦æ”¶æ•›åˆè¦å‘æ•£ï¼Ÿä»…ä»…æ˜¯ä¸ºäº†å¤§çº²ä¸Šçš„å¯¹ç§°æ€§å—ï¼Ÿ å½“ç„¶ä¸æ˜¯ã€‚å­˜åœ¨è¿™ä¸ªå°èŠ‚æ˜¯å› ä¸ºæˆ‘æœ‰ä¸€ä¸ªä¸å¾—ä¸æçš„æ¡ˆä¾‹ï¼Œä¸é€‚åˆæ”¾åœ¨å…¶ä»–æ®µè½ï¼Œåªèƒ½æ”¾åœ¨è¿™é‡Œâ€¦â€¦ä¸ï¼Œè¨€å½’æ­£ä¼ ï¼Œæˆ‘ä»¬æœ‰æ—¶çš„ç¡®éœ€è¦å‘æ•£ API é›†ï¼Œæä¾›å‡ ä¸ªçœ‹ä¼¼æŽ¥è¿‘çš„ APIï¼Œä»¥å¼•å¯¼ç”¨æˆ·ã€‚å› ä¸º â€”â€” è™½ç„¶è¿™å¬èµ·æ¥å¾ˆè’è°¬ â€”â€” æŸäº›æƒ…å†µä¸‹ï¼ŒAPI å…¶å®žä¸å¤Ÿç”¨ï¼Œä½†æ˜¯ç”¨æˆ· æ²¡æœ‰æ„è¯†åˆ° API ä¸å¤Ÿç”¨ï¼Œè€Œæ˜¯é€‰æ‹©äº†æ··ç”¨ã€æ»¥ç”¨ã€‚çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š 123456789101112131415// the func is used hererequestAnimationFrame(() =&gt; &#123; // what? trigger an event? emitter.emit('moduleDidRenderRow');&#125;);// ...and thererequestAnimationFrame(() =&gt; &#123; // another one here, I guess rendering? this.setState(&#123; // ... &#125;);&#125;); åœ¨é‡æž„ä¸€ç»„ä»£ç æ—¶ï¼Œæˆ‘çœ‹åˆ°ä»£ç é‡Œå……æ–¥ç€ requestAnimationFrame()ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒæ–°çš„å…¨å±€ APIï¼Œå®ƒä¼šä»¥æŽ¥è¿‘ 60 FPS çš„é€ŸçŽ‡å»¶æ—¶æ‰§è¡Œä¸€ä¸ªä¼ å…¥çš„å‡½æ•°ï¼Œç±»ä¼¼äºŽä¸€ä¸ªé’ˆå¯¹ç‰¹å®šåœºæ™¯ä¼˜åŒ–è¿‡çš„ setTimeout()ï¼Œä½†å®ƒçš„åˆè¡·æ˜¯ç”¨æ¥ç»˜åˆ¶åŠ¨ç”»å¸§çš„ï¼Œè€Œä¸åº”è¯¥ç”¨åœ¨å¥‡å¥‡æ€ªæ€ªçš„åœºæ™¯ä¸­ã€‚ åœ¨æ·±å…¥åœ°äº†è§£äº†ä»£ç é€»è¾‘ä¹‹åŽï¼Œæˆ‘è®¤è¯†åˆ°è¿™é‡Œå¦‚æ­¤è°ƒç”¨æ˜¯ä¸ºäº†ã€Œå»¶æ—¶ä¸€ä¸¢ä¸¢æ‰§è¡Œä¸€äº›æ“ä½œã€ï¼Œé¿å…é˜»å¡žä¸»æ¸²æŸ“çº¿ç¨‹ã€‚ç„¶è€Œè¿™ç§æƒ…å†µä¸‹ï¼Œè¿˜ä¸å¦‚ç›´æŽ¥è°ƒç”¨ setTimeout() æ¥åšå»¶æ—¶æ“ä½œã€‚è™½ç„¶æ²¡æœ‰å¤ªæ˜Žç¡®çš„è¯­ä¹‰ï¼Œä½†æ˜¯è‡³å°‘å¥½è¿‡æŠŠè‡ªå·±ä¼ªè£…æˆä¸€æ¬¡åŠ¨ç”»çš„ç»˜åˆ¶ã€‚æ›´å¯æ€•çš„æ˜¯ï¼Œæ®æˆ‘æ‰€çŸ¥ requestAnimationFrame() çš„æ»¥ç”¨ä¸ä»…å‡ºçŽ°åœ¨è¿™æ¬¡é‡æž„çš„ä»£ç ä¸­ï¼Œæˆ‘è‡³å°‘åœ¨ä¸‰ä¸ªä¸åŒçš„åº“è§è¿‡å®ƒçš„èº«å½± â€”â€” æ— ä¸€ä¾‹å¤–åœ°ï¼Œè¿™äº›åº“å’ŒåŠ¨ç”»å¹¶æ²¡æœ‰ä»€ä¹ˆå…³ç³»ã€‚ ï¼ˆä¸€ä¸ªå¯èƒ½çš„æŽ¨æ–­æ˜¯ï¼Œè°ƒç”¨ requestAnimationFrame(callback) æ—¶ä¸ç”¨æŒ‡å®š timeout æ¯«ç§’æ•°ï¼Œè€Œ setTimeout(callback, timeout) æ˜¯éœ€è¦çš„ã€‚ä¼¼ä¹Žå¯¹å¾ˆå¤šç”¨æˆ·æ¥è¯´ï¼Œå‰è€…çš„è°ƒç”¨æ–¹å¼æ›´ coolï¼Ÿï¼‰ æ‰€ä»¥ï¼Œåœ¨å¸‚é¢ä¸Šæœ‰ä¸€äº› API å¥½åƒæ˜¯ã€Œåæ–¹ã€ä¸€èˆ¬çš„å­˜åœ¨ï¼šè™½ç„¶ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆç”¨ï¼Œä½†æ˜¯â€¦â€¦ç”¨å®ƒå°±å¯¹äº†ï¼ äº‹å®žä¸Šï¼Œå¯¹äºŽä¸Šé¢è¿™ä¸ªåœºæ™¯ï¼Œæœ€æ°å½“çš„è§£æ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªæ›´åŠ æ–°çš„ APIï¼Œå«åšrequestIdleCallback(callback)ã€‚è¿™ä¸ª API ä»Žåå­—ä¸Šçœ‹èµ·æ¥å°±å¾ˆæœ‰è¯­ä¹‰ï¼šåœ¨çº¿ç¨‹ç©ºé—²çš„æ—¶å€™å†æ‰§è¡Œæ“ä½œã€‚è¿™å®Œå…¨å¥‘åˆä¸Šè¿°åœºæ™¯çš„éœ€æ±‚ï¼Œè€Œä¸”è¿˜è‡ªå¸¦åº•å±‚çš„ä¼˜åŒ–ã€‚ å½“ç„¶ï¼Œç”±äºŽ API æ¯”è¾ƒæ–°ï¼Œè¿˜ä¸æ˜¯æ‰€æœ‰çš„å¹³å°éƒ½èƒ½æ”¯æŒã€‚å³ä¾¿å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å…ˆé¢å‘æŽ¥å£ç¼–ç¨‹ï¼Œè‡ªå·±åšä¸€ä¸ª polyfillï¼š 1234// simple polyfillexport function requestIdleCallback(callback) =&gt; &#123; callback &amp;&amp; setTimeout(callback, 1e3 / 60);&#125;; å¦ä¸€ä¸ªç»å…¸çš„æ»¥ç”¨ä¾‹å­æ˜¯ ES2015 ä¸­çš„ã€ŒGenerator / yieldã€ã€‚ åŽŸæœ¬ä½¿ç”¨åœºæ™¯éžå¸¸æœ‰é™çš„ç”Ÿæˆå™¨ Generator æœºåˆ¶è¢«å¤§ç¥žåŒ å¿ƒç‹¬è¿åœ°åŠ ä»¥æ”¹é€ ï¼ŒåŒ…è£…æˆç”¨æ¥å¼‚æ­¥ä»£ç åŒæ­¥åŒ–çš„è§£å†³æ–¹æ¡ˆã€‚è¿™ç§åšæ³•è‡ªç„¶å¾ˆæœ‰åˆ›æ„ï¼Œä½†æ˜¯ä»Žè¯­ä¹‰ç”¨æ³•ä¸Šæ¥è¯´å®žåœ¨ä¸è¶³ç§°é“ï¼Œè®©ä»£ç å˜å¾—éžå¸¸éš¾è¯»ï¼Œå¹¶ä¸”å¸¦æ¥ç»´æŠ¤éšæ‚£ã€‚ä¸Žå…¶å¦‚æ­¤ï¼Œè¿˜ä¸å¦‚ä»…ä»…ä½¿ç”¨ Promiseã€‚ ä»¤äººæ¬£æ…°çš„æ˜¯ï¼ŒéšåŽæ–°ç‰ˆçš„ ES å³æå‡ºäº†æ–°çš„å¼‚æ­¥ä»£ç å…³é”®å­—ã€Œasync / awaitã€ï¼ŒçœŸæ­£åœ¨è¯­æ³•å±‚é¢è§£å†³äº†å¼‚æ­¥ä»£ç åŒæ­¥åŒ–çš„é—®é¢˜ï¼Œå¹¶ä¸”ï¼Œæ–°ç‰ˆçš„ Node.js ä¹Ÿå·²ç»æ”¯æŒè¿™ç§è¯­æ³•ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬ä½œä¸º API çš„å¼€å‘è€…ï¼Œä¸€å®šè¦æä¾›è¶³å¤Ÿåœºæ™¯é€‚ç”¨çš„ APIï¼Œæ¥å¼•å¯¼æˆ‘ä»¬çš„ç”¨æˆ·ï¼Œä¸è¦è®©ä»–ä»¬åšå‡ºä¸€äº›å‡ºäººæ„æ–™çš„ã€Œå¦™ç”¨ã€ä¹‹ä¸¾ã€‚ åˆ¶å®š API çš„æ”¯æŒç­–ç•¥æˆ‘ä»¬è¯´ï¼Œä¸€ç»„å…¬å¼€çš„ API æ˜¯äº§å“ã€‚è€Œäº§å“ï¼Œä¸€å®šæœ‰ç‰¹å®šçš„ç”¨æˆ·ç¾¤ï¼Œæˆ–æ˜¯å…¨çƒçš„å¼€å‘è€…ï¼Œæˆ–ä»…ä»…æ˜¯è·¨éƒ¨é—¨çš„åŒäº‹ï¼›äº§å“åŒæ—¶æœ‰ä¿è´¨æœŸï¼Œæˆ–è€…è¯´ï¼Œç”Ÿå‘½å‘¨æœŸã€‚ é¢å‘ç›®æ ‡ç”¨æˆ·ç¾¤ä½“ï¼Œæˆ‘ä»¬è¦åˆ¶å®š API çš„æ”¯æŒç­–ç•¥ï¼š æ¯ä¸€ä¸ªå¤§ç‰ˆæœ¬çš„æ”¯æŒå‘¨æœŸæ˜¯å¤šä¹…ã€‚ æ˜¯å¦æœ‰é•¿æœŸç¨³å®šçš„ API æ”¯æŒç‰ˆæœ¬ã€‚ï¼ˆLong-term Supportï¼‰ å¦‚ä½•ä»Žæ—§ç‰ˆæœ¬å‡çº§ã€‚ è€æ—§ç‰ˆæœ¬å¾ˆå¯èƒ½è¿˜åœ¨è¿è¡Œï¼Œä½†ç»´æŠ¤è€…å·²ç»æ²¡æ—¶é—´ç²¾åŠ›å†åŽ»ç®¡è¿™äº›åŽ†å²é—ç‰©ï¼Œè¿™æ—¶æ˜Žç¡®åœ°æŒ‡å‡ºæŸäº›ç‰ˆæœ¬ä¸å†ç»´æŠ¤ï¼Œå¯¹å¼€å‘è€…å’Œç”¨æˆ·éƒ½å¥½ã€‚å½“ç„¶ï¼ŒåŒæ—¶åˆ«å¿˜äº†ç»™å‡ºå‡çº§æ–‡æ¡£ï¼ŒæŒ‡å¯¼è€ç”¨æˆ·å¦‚ä½•è¿ç§»åˆ°æ–°ç‰ˆæœ¬ã€‚è¿˜æœ‰ä¸€ä¸ªæ›´å¥½çš„åšæ³•æ˜¯ï¼Œåœ¨æˆ‘ä»¬å¼€å¯ä¸€ä¸ªæ–°ç‰ˆæœ¬ä¹‹é™…ï¼Œå°±ç¡®å®šå¥½ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„å¯¿å‘½ç»ˆç‚¹ï¼Œæå‰çŸ¥ä¼šåˆ°ç”¨æˆ·ã€‚ è¿˜æœ‰ä¸€ä¸ªæŠ€æœ¯ä¸Šçš„æ³¨æ„äº‹é¡¹ï¼Œé‚£å°±æ˜¯ï¼šå¤§ç‰ˆæœ¬é—´æœ€å¥½æœ‰æ˜Žç¡®çš„éš”ç¦»ã€‚å¯¹äºŽä¸€ä¸ªå¤æ‚çš„æŠ€æœ¯äº§å“æ¥è¯´ï¼ŒAPI åªæ˜¯æœ€ç»ˆç›´æŽ¥é¢å‘ç”¨æˆ·çš„æŽ¥å£ï¼ŒèƒŒåŽè¿˜æœ‰ç‰¹å®šçš„çŽ¯å¢ƒã€å·¥å…·ç»„ã€ä¾èµ–åŒ…ç­‰å„ç§æ”¯æ’‘ï¼Œäº’ç›¸ä¹‹é—´å¹¶ä¸èƒ½æ··ç”¨ã€‚ æ¯”å¦‚ï¼Œæ›¾ç»çš„ç»å…¸å‰ç«¯åº“ KISSYã€‚åœ¨ä¸šç•ŒæŠ€æœ¯æ–¹æ¡ˆæ—¥æ–°æœˆå¼‚çš„å¤§æ½®ä¸‹ï¼ŒKISSY 6 ç‰ˆæœ¬å·²ç»å¼ºä¾èµ–äº† TNPMï¼ˆé˜¿é‡Œå†…ç½‘çš„ NPMï¼‰ã€DEF å¥—ä»¶ç»„ï¼ˆæ·˜å® FED çš„å‰ç«¯å·¥å…·å¥—ä»¶ï¼‰ï¼Œè™½ç„¶å’Œä¹‹å‰çš„ 1.4 ç‰ˆæœ¬ç›¸æ¯” API çš„å˜åŒ–å¹¶ä¸å¤§ï¼Œä½†æ˜¯ä»ç„¶ä¸èƒ½åœ¨è€çŽ¯å¢ƒä¸‹ç›´æŽ¥ä½¿ç”¨ 6 ç‰ˆæœ¬çš„ä»£ç åº“â€¦â€¦è¿™ä¸€å®šç¨‹åº¦ä¸Šé™ä½Žäº†è‡ªç”±ç»„åˆçš„çµæ´»åº¦ï¼Œä½†äº‹å®žä¸Šéšç€ä¸šåŠ¡é—®é¢˜åœºæ™¯çš„å¤æ‚åº¦æå‡ï¼Œè§£å†³æ–¹æ¡ˆæœ¬èº«ä¼šéœ€è¦æ›´å®šåˆ¶åŒ–ï¼Œå› æ­¤ï¼Œå°†çŽ¯å¢ƒã€å·¥å…·ç­‰ä¸Šä¸‹æ¸¸å…³è”ç‰©éšä»£ç ä¸€èµ·æ‰“åŒ…ï¼Œåšæˆä¸€æ•´ä¸ªæŠ€æœ¯æ–¹æ¡ˆï¼Œè¿™æ­£æ˜¯ä¸šç•Œçš„çŽ°çŠ¶ã€‚ æ‰€ä»¥ï¼Œéš”ç¦»å¤§ç‰ˆæœ¬ï¼Œåˆ¶å®šå¥½ API æ”¯æŒç­–ç•¥ï¼Œè®©æˆ‘ä»¬çš„äº§å“æ›´ä¸“ä¸šï¼Œè®©ç”¨æˆ·å…åŽ»åŽé¡¾ä¹‹å¿§ã€‚ æ€»ç»“ä»¥ä¸Šï¼Œä¾¿æ˜¯æˆ‘ä»Žä¸šä»¥æ¥æ„Ÿæ‚Ÿåˆ°çš„ä¸€äº›ã€Œé“ã€ï¼Œä¸‰ä¸ªè¿›é˜¶å±‚æ¬¡ã€å‡ åä¸ªç»†åˆ†è¦ç‚¹ï¼Œä¸çŸ¥æœ‰æ²¡æœ‰ç»™è¯»è€…æ‚¨å¸¦æ¥ä¸€ä¸ç‚¹å¯å‘ã€‚ ä½†å®žé™…ä¸Šï¼Œå¤§é“è‡³ç®€ã€‚æˆ‘ä¸€ç›´è®¤ä¸ºï¼Œç¨‹åºå¼€å‘å’Œå¹³æ—¶çš„è¯´è¯å†™å­—å…¶å®žæ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œæ— éžä¸‰è€… â€”â€” é€»è¾‘å’ŒæŠ½è±¡ã€‚ é¢†åŸŸçŸ¥è¯†ã€‚ è¯­æ„Ÿã€‚ å†™ä»£ç ï¼Œå°±åƒå†™ä½œï¼Œè€Œè®¾è®¡ API å¥½æ¯”åˆ—æçº²ã€‚å‹¤å†™ã€å‹¤æ€ï¼Œäº†è§£å‰äººçš„æ¨¡å¼ã€å¥—è·¯ï¼Œå­¦ä¹ ä¸€äº›æµè¡Œåº“çš„è®¾è®¡æ–¹æ³•ï¼ŒæŽŒæ¡è‹±è¯­ã€æé«˜è¯­æ„Ÿâ€¦â€¦ç›¸ä¿¡å¤§å®¶éƒ½èƒ½è®¾è®¡å‡ºå“è¶Šçš„ APIã€‚ æœ€åŽï¼Œé™„ä¸Š API è®¾è®¡çš„ç»å…¸åŽŸåˆ™ï¼š Think about future, design with flexibility, but only implement for production. å¼•ç”¨ Framework Design Guidelines.aspx) Page Visibility çš„ API è®¾è®¡ æˆ‘å¿ƒç›®ä¸­çš„ä¼˜ç§€ API Clean Code JavaScript é¢˜å›¾ï¼šåªæ˜¯ä¸€å¼ ç¬¦åˆä¸Šä¸‹æ–‡çš„å›¾ç‰‡ï¼Œå¹¶æ²¡æœ‰æ›´æ·±çš„å«ä¹‰ã€‚ èŠ±çµ®ï¼šç”±äºŽæ–‡ç« å¾ˆé•¿ï¼Œåœ¨ç¼–å†™è¿‡ç¨‹ä¸­æˆ‘ä¹Ÿä¸ç”±å¾—å‘ç”Ÿäº†ã€ŒåŒä¸€ä¸ªæ„æ€å´ä½¿ç”¨å¤šç§è¡¨è¾¾æ–¹å¼ã€çš„æƒ…å†µã€‚æŸäº›æ—¶å€™è¿™æ˜¯å¿…è¦çš„ â€”â€” å¯ä»¥ä¸°å¯Œæ–‡å­—çš„å¤šæ ·æ€§ï¼›è€Œæœ‰äº›æ—¶å€™ï¼Œåˆ™æ˜¾å¾—å…¨æ–‡ç¼ºä¹ä¸€è‡´æ€§ã€‚åœ¨å‘è¡¨æœ¬æ–‡ä¹‹å‰ï¼Œæˆ‘æœç´¢äº†è¿™äº›è¯è¯­ï¼šã€Œè°ƒç”¨è€…ã€ã€ã€Œè°ƒç”¨æ–¹ã€ã€ã€Œå¼•ç”¨è€…ã€ã€ã€Œä½¿ç”¨è€…ã€ï¼Œç„¶åŽå°†å®ƒä»¬ç»Ÿä¸€ä¿®æ”¹ä¸ºæˆ‘ä»¬ç†Ÿæ‚‰çš„åå­—ï¼šã€Œç”¨æˆ·ã€ã€‚]]></content>
      <categories>
        <category>Webå¼€å‘</category>
      </categories>
      <tags>
        <tag>APIè®¾è®¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS in JS ç®€ä»‹ ã€Œé˜®ä¸€å³°ã€]]></title>
    <url>%2Fblog%2F2017-06-02.CSS-in-JS-brief%2F</url>
    <content type="text"><![CDATA[CSS in JS ç®€ä»‹ä½œè€…ï¼š é˜®ä¸€å³° æ—¥æœŸï¼š 2017å¹´4æœˆ 5æ—¥ 1ã€ ä»¥å‰ï¼Œç½‘é¡µå¼€å‘æœ‰ä¸€ä¸ªåŽŸåˆ™ï¼Œå«åšâ€œå…³æ³¨ç‚¹åˆ†ç¦»â€ï¼ˆseparation of concernsï¼‰ã€‚ å®ƒçš„æ„æ€æ˜¯ï¼Œå„ç§æŠ€æœ¯åªè´Ÿè´£è‡ªå·±çš„é¢†åŸŸï¼Œä¸è¦æ··åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆè€¦åˆã€‚å¯¹äºŽç½‘é¡µå¼€å‘æ¥è¯´ï¼Œä¸»è¦æ˜¯ä¸‰ç§æŠ€æœ¯åˆ†ç¦»ã€‚ HTML è¯­è¨€ï¼šè´Ÿè´£ç½‘é¡µçš„ç»“æž„ï¼Œåˆç§°è¯­ä¹‰å±‚ CSS è¯­è¨€ï¼šè´Ÿè´£ç½‘é¡µçš„æ ·å¼ï¼Œåˆç§°è§†è§‰å±‚ JavaScript è¯­è¨€ï¼šè´Ÿè´£ç½‘é¡µçš„é€»è¾‘å’Œäº¤äº’ï¼Œåˆç§°é€»è¾‘å±‚æˆ–äº¤äº’å±‚ ç®€å•è¯´ï¼Œå°±æ˜¯ä¸€å¥è¯ï¼Œä¸è¦å†™â€è¡Œå†…æ ·å¼â€ï¼ˆinline styleï¼‰å’Œâ€è¡Œå†…è„šæœ¬â€ï¼ˆinline scriptï¼‰ã€‚æ¯”å¦‚ï¼Œä¸‹é¢ä»£ç å°±å¾ˆç³Ÿç³•ï¼ˆæŸ¥çœ‹å®Œæ•´ä»£ç ï¼‰ã€‚ 12345&gt; &lt;h1 style="color:red;font-size:46px;" onclick="alert('Hi')"&gt;&gt; Hello World&gt; &lt;/h1&gt;&gt;&gt; 2ã€ React å‡ºçŽ°ä»¥åŽï¼Œè¿™ä¸ªåŽŸåˆ™ä¸å†é€‚ç”¨äº†ã€‚å› ä¸ºï¼ŒReact æ˜¯ç»„ä»¶ç»“æž„ï¼Œå¼ºåˆ¶è¦æ±‚æŠŠ HTMLã€CSSã€JavaScript å†™åœ¨ä¸€èµ·ã€‚ ä¸Šé¢çš„ä¾‹å­ä½¿ç”¨ React æ”¹å†™å¦‚ä¸‹ï¼ˆæŸ¥çœ‹å®Œæ•´ä»£ç ï¼‰ã€‚ 123456789101112131415&gt; const style = &#123;&gt; 'color': 'red',&gt; 'fontSize': '46px'&gt; &#125;;&gt;&gt; const clickHandler = () =&gt; alert('hi');&gt;&gt; ReactDOM.render(&gt; &lt;h1 style=&#123;style&#125; onclick=&#123;clickHandler&#125;&gt;&gt; Hello, world!&gt; &lt;/h1&gt;,&gt; document.getElementById('example')&gt; );&gt;&gt; ä¸Šé¢ä»£ç åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ï¼Œå°è£…äº†ç»“æž„ã€æ ·å¼å’Œé€»è¾‘ï¼Œå®Œå…¨è¿èƒŒäº†â€å…³æ³¨ç‚¹åˆ†ç¦»â€çš„åŽŸåˆ™ï¼Œå¾ˆå¤šäººä¸é€‚åº”ã€‚ ä½†æ˜¯ï¼Œè¿™æœ‰åˆ©äºŽç»„ä»¶çš„éš”ç¦»ã€‚æ¯ä¸ªç»„ä»¶åŒ…å«äº†æ‰€æœ‰éœ€è¦ç”¨åˆ°çš„ä»£ç ï¼Œä¸ä¾èµ–å¤–éƒ¨ï¼Œç»„ä»¶ä¹‹é—´æ²¡æœ‰è€¦åˆï¼Œå¾ˆæ–¹ä¾¿å¤ç”¨ã€‚æ‰€ä»¥ï¼Œéšç€ React çš„èµ°çº¢å’Œç»„ä»¶æ¨¡å¼æ·±å…¥äººå¿ƒï¼Œè¿™ç§â€å…³æ³¨ç‚¹æ··åˆâ€çš„æ–°å†™æ³•é€æ¸æˆä¸ºä¸»æµã€‚ 3ã€ è¡¨é¢ä¸Šï¼ŒReact çš„å†™æ³•æ˜¯ HTMLã€CSSã€JavaScript æ··åˆåœ¨ä¸€èµ·ã€‚ä½†æ˜¯ï¼Œå®žé™…ä¸Šä¸æ˜¯ã€‚çŽ°åœ¨å…¶å®žæ˜¯ç”¨ JavaScript åœ¨å†™ HTML å’Œ CSSã€‚ React åœ¨ JavaScript é‡Œé¢å®žçŽ°äº†å¯¹ HTML å’Œ CSS çš„å°è£…ï¼Œæˆ‘ä»¬é€šè¿‡å°è£…åŽ»æ“ä½œ HTML å’Œ CSSã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç½‘é¡µçš„ç»“æž„å’Œæ ·å¼éƒ½é€šè¿‡ JavaScript æ“ä½œã€‚ 4ã€ React å¯¹ HTML çš„å°è£…æ˜¯ JSX è¯­è¨€ ï¼Œè¿™ä¸ªåœ¨å„ç§ React æ•™ç¨‹éƒ½æœ‰è¯¦ç»†ä»‹ç»ï¼Œæœ¬æ–‡ä¸å†æ¶‰åŠäº†ï¼Œä¸‹é¢æ¥çœ‹ React å¯¹ CSS çš„å°è£…ã€‚ React å¯¹ CSS å°è£…éžå¸¸ç®€å•ï¼Œå°±æ˜¯æ²¿ç”¨äº† DOM çš„ style å±žæ€§å¯¹è±¡ï¼Œè¿™ä¸ªåœ¨å‰é¢å·²ç»çœ‹åˆ°è¿‡äº†ã€‚ 123456&gt; const style = &#123;&gt; 'color': 'red',&gt; 'fontSize': '46px'&gt; &#125;;&gt;&gt; ä¸Šé¢ä»£ç ä¸­ï¼ŒCSS çš„font-sizeå±žæ€§è¦å†™æˆfontSizeï¼Œè¿™æ˜¯ JavaScript æ“ä½œ CSS å±žæ€§çš„çº¦å®šã€‚ ç”±äºŽ CSS çš„å°è£…éžå¸¸å¼±ï¼Œå¯¼è‡´äº†ä¸€ç³»åˆ—çš„ç¬¬ä¸‰æ–¹åº“ï¼Œç”¨æ¥åŠ å¼º React çš„ CSS æ“ä½œã€‚å®ƒä»¬ç»Ÿç§°ä¸º CSS in JSï¼Œæ„æ€å°±æ˜¯ä½¿ç”¨ JS è¯­è¨€å†™ CSSã€‚æ ¹æ®ä¸å®Œå…¨ç»Ÿè®¡ï¼Œå„ç§ CSS in JS çš„åº“è‡³å°‘æœ‰47ç§ã€‚è€å®žè¯´ï¼ŒçŽ°åœ¨ä¹Ÿçœ‹ä¸å‡ºæ¥ï¼Œå“ªä¸€ä¸ªåº“ä¼šå˜æˆä¸»æµã€‚ ä½ å¯èƒ½ä¼šé—®ï¼Œå®ƒä»¬ä¸Žâ€CSS é¢„å¤„ç†å™¨â€ï¼ˆæ¯”å¦‚ Less å’Œ Sassï¼ŒåŒ…æ‹¬ PostCSSï¼‰æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå›žç­”æ˜¯ CSS in JS ä½¿ç”¨ JavaScript çš„è¯­æ³•ï¼Œæ˜¯ JavaScript è„šæœ¬çš„ä¸€éƒ¨åˆ†ï¼Œä¸ç”¨ä»Žå¤´å­¦ä¹ ä¸€å¥—ä¸“ç”¨çš„ APIï¼Œä¹Ÿä¸ä¼šå¤šä¸€é“ç¼–è¯‘æ­¥éª¤ã€‚ 5ã€ ä¸Šå‘¨ï¼Œæˆ‘çœ‹åˆ°ä¸€ä¸ªæ–°çš„ CSS in JS åº“ï¼Œå«åš polished.jsã€‚å®ƒå°†ä¸€äº›å¸¸ç”¨çš„ CSS å±žæ€§å°è£…æˆå‡½æ•°ï¼Œç”¨èµ·æ¥éžå¸¸æ–¹ä¾¿ï¼Œå……åˆ†ä½“çŽ°ä½¿ç”¨ JavaScript è¯­è¨€å†™ CSS çš„ä¼˜åŠ¿ã€‚ æˆ‘è§‰å¾—è¿™ä¸ªåº“å¾ˆå€¼å¾—æŽ¨èï¼Œè¿™ç¯‡æ–‡ç« çš„ä¸»è¦ç›®çš„ï¼Œå°±æ˜¯æƒ³ä»Žè¿™ä¸ªåº“æ¥çœ‹æ€Žä¹ˆä½¿ç”¨ CSS in JSã€‚ é¦–å…ˆï¼ŒåŠ è½½ polished.jsã€‚ 123&gt; const polished = require('polished');&gt;&gt; å¦‚æžœæ˜¯æµè§ˆå™¨ï¼Œæ’å…¥ä¸‹é¢çš„è„šæœ¬ã€‚ 1234&gt; &lt;script src="https://unpkg.com/polished@1.0.0/dist/polished.min.js"&gt;&gt; &lt;/script&gt;&gt;&gt; polished.jsç›®å‰æœ‰50å¤šä¸ªæ–¹æ³•ï¼Œæ¯”å¦‚clearfixæ–¹æ³•ç”¨æ¥æ¸…ç†æµ®åŠ¨ã€‚ 12345&gt; const styles = &#123;&gt; ...polished.clearFix(),&gt; &#125;;&gt;&gt; ä¸Šé¢ä»£ç ä¸­ï¼ŒclearFixå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„ JavaScript å‡½æ•°ï¼Œè¿”å›žä¸€ä¸ªå¯¹è±¡ã€‚ 12345678910&gt; polished.clearFix()&gt; // &#123;&gt; // &amp;::after: &#123;&gt; // clear: "both",&gt; // content: "",&gt; // display: "table"&gt; // &#125;&gt; // &#125;&gt;&gt; â€œå±•å¼€è¿ç®—ç¬¦â€ï¼ˆ...ï¼‰å°†clearFixè¿”å›žçš„å¯¹è±¡å±•å¼€ï¼Œä¾¿äºŽä¸Žå…¶ä»– CSS å±žæ€§æ··åˆã€‚ç„¶åŽï¼Œå°†æ ·å¼å¯¹è±¡èµ‹ç»™ React ç»„ä»¶çš„styleå±žæ€§ï¼Œè¿™ä¸ªç»„ä»¶å°±èƒ½æ¸…ç†æµ®åŠ¨äº†ã€‚ 123456&gt; ReactDOM.render(&gt; &lt;h1 style=&#123;style&#125;&gt;Hello, React!&lt;/h1&gt;,&gt; document.getElementById('example')&gt; );&gt;&gt; ä»Žè¿™ä¸ªä¾‹å­ï¼Œå¤§å®¶åº”è¯¥èƒ½å¤Ÿä½“ä¼špolished.jsçš„ç”¨æ³•ã€‚ 6ã€ ä¸‹é¢å†çœ‹å‡ ä¸ªå¾ˆæœ‰ç”¨çš„å‡½æ•°ã€‚ ellipsiså°†è¶…è¿‡æŒ‡å®šé•¿åº¦çš„æ–‡æœ¬ï¼Œä½¿ç”¨çœç•¥å·æ›¿ä»£ï¼ˆæŸ¥çœ‹å®Œæ•´ä»£ç ï¼‰ã€‚ 123456789101112131415&gt; const styles = &#123;&gt; ...polished.ellipsis('200px')&gt; &#125;&gt;&gt; // è¿”å›žå€¼&gt; // &#123;&gt; // 'display': 'inline-block',&gt; // 'max-width': '250px',&gt; // 'overflow': 'hidden',&gt; // 'text-overflow': 'ellipsis',&gt; // 'white-space': 'nowrap',&gt; // 'word-wrap': 'normal'&gt; // &#125;&gt;&gt; hideTextç”¨äºŽéšè—æ–‡æœ¬ï¼Œæ˜¾ç¤ºå›¾ç‰‡ã€‚ 1234567891011121314&gt; const styles = &#123;&gt; 'background-image': 'url(logo.png)',&gt; ...polished.hideText(),&gt; &#125;;&gt;&gt; // è¿”å›žå€¼&gt; // &#123;&gt; 'background-image': 'url(logo.png)',&gt; 'text-indent': '101%',&gt; 'overflow': 'hidden',&gt; 'white-space': 'nowrap',&gt; &#125;&gt;&gt; hiDPIæŒ‡å®šé«˜åˆ†å±æ ·å¼ã€‚ 12345678910111213141516&gt; const styles = &#123;&gt; [polished.hiDPI(1.5)]: &#123;&gt; width: '200px',&gt; &#125;&gt; &#125;;&gt;&gt; // è¿”å›žå€¼&gt; //'@media only screen and (-webkit-min-device-pixel-ratio: 1.5),&gt; // only screen and (min--moz-device-pixel-ratio: 1.5),&gt; // only screen and (-o-min-device-pixel-ratio: 1.5/1),&gt; // only screen and (min-resolution: 144dpi),&gt; // only screen and (min-resolution: 1.5dppx)': &#123;&gt; // 'width': '200px',&gt; //&#125;&gt;&gt; retinaImageä¸ºé«˜åˆ†å±å’Œä½Žåˆ†å±è®¾ç½®ä¸åŒçš„èƒŒæ™¯å›¾ã€‚ 123456789101112131415&gt; const styles = &#123;&gt; ...polished.retinaImage('my-img')&gt; &#125;;&gt;&gt; // è¿”å›žå€¼&gt; // backgroundImage: 'url(my-img.png)',&gt; // '@media only screen and (-webkit-min-device-pixel-ratio: 1.3),&gt; // only screen and (min--moz-device-pixel-ratio: 1.3),&gt; // only screen and (-o-min-device-pixel-ratio: 1.3/1),&gt; // only screen and (min-resolution: 144dpi),&gt; // only screen and (min-resolution: 1.5dppx)': &#123;&gt; // backgroundImage: 'url(my-img_2x.png)',&gt; // &#125;&gt;&gt; 7ã€ polished.jsæä¾›çš„å…¶ä»–æ–¹æ³•å¦‚ä¸‹ï¼Œè¯¦ç»†ç”¨æ³•è¯·å‚è€ƒæ–‡æ¡£ã€‚ normalize()ï¼šæ ·å¼è¡¨åˆå§‹åŒ– placeholder()ï¼šå¯¹ placeholder ä¼ªå…ƒç´ è®¾ç½®æ ·å¼ selection()ï¼šå¯¹ selection ä¼ªå…ƒç´ è®¾ç½®æ ·å¼ darken()ï¼šè°ƒèŠ‚é¢œè‰²æ·±æµ… lighten()ï¼šè°ƒèŠ‚é¢œè‰²æ·±æµ… desaturate()ï¼šé™ä½Žé¢œè‰²çš„é¥±å’Œåº¦ saturate()ï¼šå¢žåŠ é¢œè‰²çš„é¥±å’Œåº¦ opacify()ï¼šè°ƒèŠ‚é€æ˜Žåº¦ complement()ï¼šè¿”å›žäº’è¡¥è‰² grayscale()ï¼šå°†ä¸€ä¸ªé¢œè‰²è½¬ä¸ºç°åº¦ rgb()ï¼šæŒ‡å®šçº¢ã€ç»¿ã€è“ä¸‰ä¸ªå€¼ï¼Œè¿”å›žä¸€ä¸ªé¢œè‰² rgba()ï¼šæŒ‡å®šçº¢ã€ç»¿ã€è“å’Œé€æ˜Žåº¦å››ä¸ªå€¼ï¼Œè¿”å›žä¸€ä¸ªé¢œè‰² hsl()ï¼šæŒ‡å®šè‰²è°ƒã€é¥±å’Œåº¦å’Œäº®åº¦ä¸‰ä¸ªå€¼ï¼Œè¿”å›žä¸€ä¸ªé¢œè‰² hsla()ï¼šæŒ‡å®šè‰²è°ƒã€é¥±å’Œåº¦ã€äº®åº¦å’Œé€æ˜Žåº¦ä¸‰ä¸ªå€¼ï¼Œè¿”å›žä¸€ä¸ªé¢œè‰² mix()ï¼šæ··åˆä¸¤ç§é¢œè‰² em()ï¼šå°†åƒç´ è½¬ä¸º em rem()ï¼šå°†åƒç´ è½¬ä¸º rem ç›®å‰ï¼Œpolished.jsåªæ˜¯1.0ç‰ˆï¼Œä»¥åŽåº”è¯¥ä¼šæœ‰è¶Šæ¥è¶Šå¤šçš„æ–¹æ³•ã€‚ 8ã€ polished.jsè¿˜æœ‰ä¸€ä¸ªç‰¹è‰²ï¼šæ‰€æœ‰å‡½æ•°é»˜è®¤éƒ½æ˜¯æŸ¯é‡ŒåŒ–çš„ï¼Œå› æ­¤å¯ä»¥è¿›è¡Œå‡½æ•°ç»„åˆè¿ç®—ï¼Œå®šåˆ¶å‡ºè‡ªå·±æƒ³è¦çš„å‡½æ•°ã€‚ 123456&gt; import &#123; compose &#125; from 'ramda';&gt; import &#123; lighten, desaturate &#125; from 'polished';&gt;&gt; const tone = compose(lighten(10), desaturate(10))&gt;&gt; ä¸Šé¢ä»£ç ä½¿ç”¨ Ramda å‡½æ•°åº“å®Œæˆç»„åˆè¿ç®—ã€‚Ramda çš„ç”¨æ³•å¯ä»¥å‚è€ƒæˆ‘å†™çš„æ•™ç¨‹ã€‚ ï¼ˆæ­£æ–‡å®Œï¼‰]]></content>
      <categories>
        <category>Webå¼€å‘.React</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Typora â€“ ç»ˆäºŽæœ‰ä¸€æ¬¾ä¼˜ç¾Žçš„ Markdown ç¼–è¾‘å™¨[Win/macOS]]]></title>
    <url>%2Fblog%2F2017-06-02.md-best-offline-client%2F</url>
    <content type="text"><![CDATA[0x00 å¶ç„¶é—´çš„é‚‚é€…ä»Šå¤©å¶ç„¶é—´çœ‹åˆ°äº† Typora ï¼Œ çœ‹äº†ä¸‹ä»–çš„æ–‡æ¡£ï¼Œ å¾ˆå¥½çš„ç¬¦åˆæˆ‘çš„è¦æ±‚ï¼Œ é…åˆ Hexo ä½¿ç”¨ï¼Œ ç®€ç›´å®Œç¾Žã€‚ä¸‹é¢æ˜¯ appinn çš„è¯„ä»·ï¼š é’å°è›™ on 2016.07.16. Typora æ˜¯ä¸€æ¬¾ Markdown ç¼–è¾‘å™¨ï¼Œæ‹¥æœ‰ Windowsã€macOS å®¢æˆ·ç«¯ï¼Œå¯ä»¥ç®—ä½œä¸€æ¬¾ Windows ä¸‹éš¾å¾—çš„å¥½çœ‹ã€ä¼˜ç¾Žçš„å®¢æˆ·ç«¯ã€‚@Appinn 0x01 éœ€æ±‚å¯¹äºŽ md ï¼Œ å›¾ç‰‡ä¸€ç›´æ˜¯ä¸ªç—›ç‚¹ï¼Œ çœ‹åˆ° Typora å¯ä»¥æ”¯æŒ Paste images from clipboard , ç«‹åˆ»ä¸¤çœ¼æ”¾å…‰ï¼Œç¨åŠ éªŒè¯ï¼Œ å®Œå…¨å¯ä»¥æ»¡è¶³éœ€æ±‚ ã€‚ è€Œä¸” ï¼Œ æä¾›äº†ä¸€äº›äººæ€§åŒ–çš„ å¿«æ·é”®ï¼Œå¯ä»¥æ›´ä¼˜é›…çš„ç¼–å†™ md æ–‡ä»¶äº† :) ã€‚ è€Œä¸” å¯ä»¥ç›´æŽ¥åœ¨ æ¸²æŸ“åŽçš„æ•ˆæžœè¿›è¡Œä¹¦å†™ï¼Œè¿™ä¸ªæ•ˆæžœå¾ˆæ£’ã€‚è¿™æ˜¯ä¸€ç§å…¶ä»–ç¼–è¾‘å™¨éƒ½æ²¡æœ‰çš„ä½“éªŒã€‚ 0x02 ç²˜è´´å›¾ç‰‡çš„é…ç½® å®˜æ–¹æ–‡æ¡£ in English Images in Typora å¦‚æžœè¦è¾¾åˆ° ä»Ž clipboard ç²˜è´´å›¾ç‰‡çš„æ•ˆæžœï¼Œ Typora è¦æ±‚æä¾›å›¾ç‰‡çš„å­˜æ”¾è·¯å¾„ï¼Œ è¿™é‡Œç¨æœ‰ä¸è¶³çš„åœ°æ–¹æ˜¯ â€“ éœ€è¦é’ˆå¯¹æ¯ä¸ªæ–‡ä»¶éƒ½è¿›è¡Œè°ƒæ•´ã€‚ æ“ä½œæ­¥éª¤ Paste images from clipboard Since Markdown file is only plain text file, users could not insert image data into Markdown file directly, but can insert image reference to file/url. Typora support paste image data from clipboard, after telling typora where to put those images. Typora would put image data into given folder or server, then insert images referring to that stored file or url One common scenario is to edit *.md posts in static sites (like Jekyll) using Typora. For example, if the .*md file is put under _posts folder while the image files goes into _media folder, you may want to copy images files into folder _media when you drag/drop or paste images into Markdown file automatically. Hereâ€™s how: Save your file into some path. (md æ–‡ä»¶å¿…é¡»è¢«ä¿å­˜åŽ) Enable Editor â†’ Image Insert â†’ Allow copy images to given folder in preferences panel. Select Edit â†’ Image Tools â†’ When Insert Local Images â†’ Copy Image File to Folder from menubar, pick the target folder. In step 3, a new item typora-copy-images-to: {relative path} will be inserted into the YAML Front Matter block of current document. So you could also manually add typora-copy-images-to property in YAML Front Matter to enable this behaviour. åœ¨ step 3 ä¸­ï¼Œä¼šåœ¨æ–‡ä»¶ä¸­æ·»åŠ  YAML ä¿¡æ¯ï¼Œ ç±»ä¼¼å¦‚ä¸‹æ•ˆæžœï¼š 1234---typora-copy-images-to: &lt;path&gt;typora-root-url: &lt;path&gt;--- After that, if you drag &amp; drop local images or paste images into Typora, the image file will be copied into the target file and update related src. è¿™æ ·æ“ä½œå®ŒæˆåŽï¼Œ ä¸ç®¡æ˜¯ æ‹–æ‹½ è¿˜æ˜¯ ç²˜è´´ï¼Œ å›¾ç‰‡éƒ½ä¼š è¢«æ‹·è´åˆ° target ç›®å½•ï¼Œ å¹¶æ›´æ–°ç›¸å…³çš„ image çš„ç›¸å¯¹åœ°å€ã€‚ ç»“åˆ Hexo ä½¿ç”¨å‚è€ƒ ä¹‹å‰çš„æ–‡ç«  åœ¨ hexo ä¸­æ— ç—›ä½¿ç”¨æœ¬åœ°å›¾ç‰‡ ç¡®ä¿ æŒ‰ 2.1 ä¸­çš„é…ç½®å¥½åŽï¼Œ åšå¦‚ä¸‹ä¿®æ”¹ï¼Œä»¥åŽå°±å¯ä»¥åŸºæœ¬ä¸ç”¨è€ƒè™‘ å›¾ç‰‡çš„ç—›ç‚¹äº†ï¼š ä¿®æ”¹ scaffolds ä¸‹é¢çš„ post.md å’Œ draft.md ï¼Œ æ·»åŠ å¦‚ä¸‹ YAML ï¼š 12typora-copy-images-to: &#123;&#123; title &#125;&#125;typora-root-url: &#123;&#123; title &#125;&#125; ä»¥åŽç”¨ hexo new &lt;post&gt; æ–¹å¼ç”Ÿæˆçš„æ–‡ä»¶ï¼Œå°±å¯ä»¥ç›´æŽ¥è´´å›¾ç‰‡äº†ï¼Œè¿™é‡Œç¨å¾®è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼š å› ä¸º hexo-asset-imageä¼šå¿½ç•¥ ä»¥/å¼€å¤´çš„å›¾ç‰‡ï¼Œæ‰€ä»¥è¦æ‰‹åŠ¨çš„æŠŠ ![123](/123.jpg) è·¯å¾„ä¸­çš„ /åŽ»æŽ‰ã€‚]]></content>
      <categories>
        <category>markdown</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨ Hexo ä¸­æ— ç—›ä½¿ç”¨æœ¬åœ°å›¾ç‰‡]]></title>
    <url>%2Fblog%2F2017-06-01.no-pains-with-hexo-local-image%2F</url>
    <content type="text"><![CDATA[åŽŸæ–‡ï¼šhttp://www.tuicool.com/articles/umEBVfIhttp://codefalling.com/2015/12/19/no-pains-with-hexo-local-image/ å·²å¤±æ•ˆ 1 èµ·å› åœ¨ hexo ä¸­ä½¿ç”¨æœ¬åœ°å›¾ç‰‡æ˜¯ä»¶éžå¸¸è®©äººçº ç»“çš„äº‹æƒ…ï¼Œåœ¨ markdown é‡Œçš„å›¾ç‰‡åœ°å€ä¼¼ä¹Žæ°¸è¿œæ— æ³•å’Œæœ€åŽç”Ÿæˆçš„ç½‘é¡µä¿æŒä¸€è‡´ã€‚ è¿™äº›é—®é¢˜ä½¿å¾—æˆ‘ä¸€åº¦ä¸æ„¿æ„ä½¿ç”¨æœ¬åœ°å›¾ç‰‡è€Œé€‰æ‹©ç”¨å›¾åºŠï¼Œä½†è¢«ç§»åŠ¨è¿è¥å•†æ— è€»çš„æ¨ªæ¡å¹¿å‘Šé€¼å¾—æ‰“ç®—ä¸Š httpsï¼Œå›¾åºŠåªæ”¯æŒ http å°±æˆäº†é—®é¢˜ã€‚ hexo ä¸‹æ’å…¥å›¾ç‰‡çŽ°åœ¨å¤§æ¦‚æœ‰å‡ ä¸ªæ–¹æ¡ˆ 1.1 æ”¾åœ¨æ ¹ç›®å½•æ—©æœŸå¤§éƒ¨åˆ†çš„æ–¹æ¡ˆæ˜¯æŠŠå›¾ç‰‡æ”¾åœ¨ source/imgä¸‹ï¼Œç„¶åŽåœ¨ markdown é‡Œå†™ ![img](/source/img/img.png)ã€‚æ˜¾ç„¶è¿™æ ·åœ¨æœ¬åœ°çš„ç¼–è¾‘å™¨é‡Œå®Œå…¨ä¸èƒ½æ­£ç¡®è¯†åˆ«å›¾ç‰‡çš„ä½ç½®ã€‚ 1.2 asset-imageåœ¨ hexo 2.x æ—¶å‡ºçŽ°çš„æ’ä»¶ï¼ŒåŽæ¥è¢«å¸çº³è¿› hexo 3 coreï¼Œç”¨æ³•çš„ä»‹ç»è§ èµ„æºæ–‡ä»¶å¤¹ | Hexoã€‚æ¯”è¾ƒå°´å°¬çš„æ˜¯ï¼Œè¿™ç§æ–¹æ³•ç›´æŽ¥æ”¾å¼ƒäº† markdown åŽŸæ¥çš„è¯­æ³•ï¼Œä½¿ç”¨ç±»ä¼¼ ``çš„è¯­æ³•ï¼Œã€‚markdown æœ¬æ¥æœ‰æ’å…¥å›¾ç‰‡çš„è¯­æ³•ä¸å¥½å¥½æ”¯æŒï¼Œä¸“é—¨ç”¨ä¸€ä¸ªæ–°çš„è¯­æ³•æ¥æ’å…¥æœ¬åœ°å›¾ç‰‡ï¼Œè®©æˆ‘è¿™ç§å¼ºè¿«ç—‡ä¸å¤ªèƒ½æŽ¥å—ã€‚ 2 è§£å†³æ–¹æ¡ˆCodeFalling/hexo-asset-image 2.1ä½¿ç”¨é¦–å…ˆç¡®è®¤ _config.ymlä¸­æœ‰ post_asset_folder:trueã€‚ åœ¨ hexo ç›®å½•ï¼Œæ‰§è¡Œ 1234npm install https://github.com/CodeFalling/hexo-asset-image --save# åœ¨ pull request merged ä¹‹å‰ä½¿ç”¨ä¸‹é¢çš„npm install https://github.com/yafey/hexo-asset-image --save å‡è®¾åœ¨ 12345MacGesture2-Publishâ”œâ”€â”€ apppicker.jpgâ”œâ”€â”€ logo.jpgâ””â”€â”€ rules.jpgMacGesture2-Publish.md è¿™æ ·çš„ç›®å½•ç»“æž„ï¼ˆç›®å½•åå’Œæ–‡ç« åä¸€è‡´ï¼‰ï¼Œåªè¦ä½¿ç”¨ ![logo](MacGesture2-Publish/logo.jpg)å°±å¯ä»¥æ’å…¥å›¾ç‰‡ã€‚ ç”Ÿæˆçš„ç»“æž„ä¸º 12345public/2015/10/18/MacGesture2-Publishâ”œâ”€â”€ apppicker.jpgâ”œâ”€â”€ index.htmlâ”œâ”€â”€ logo.jpgâ””â”€â”€ rules.jpg åŒæ—¶ï¼Œç”Ÿæˆçš„ html æ˜¯ 1&lt;img src="/HexoBlog/2015/10/18/MacGesture2-Publish/logo.jpg" alt="logo"&gt; è€Œä¸æ˜¯æ„šè ¢çš„ 1&lt;img src="MacGesture2-Publish/logo.jpg" alt="logo"&gt; å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿™ä¸ªæ’ä»¶å¯¹äºŽ( yafey æ³¨ï¼šæˆ‘çŽ°åœ¨è¿˜ä¸çŸ¥é“è¿™è´§æ˜¯å¹²å˜›ç”¨çš„ â€“&gt; ) CodeFalling/hexo-renderer-org åŒæ ·æœ‰æ•ˆã€‚ 2.1.1 å…¼å®¹æ€§é—®é¢˜ï¼Ÿåœ¨æœ¬åœ°ä½¿ç”¨è¿‡ç¨‹ä¸­å‘çŽ°ï¼Œåœ¨ ä½¿ç”¨äº† hexo-asset-image ä¹‹åŽï¼Œ å¦‚æžœæ›´æ–°äº†æ–‡ä»¶ï¼Œ é¢„è§ˆçš„æ—¶å€™ æ–‡ä»¶å°±æ— æ³•æ­£å¸¸æ˜¾ç¤ºï¼Œ ä¸€å®šè¦ é‡æ–° hexo g ï¼Œ ç„¶åŽ hexo s -p 80 æ‰èƒ½é¢„è§ˆï¼Œ è¿™ä¸ªä¼°è®¡å€¼å¾— enhance ï¼Œ å¯ä»¥åŽ» æä¸ª issue ã€‚ 2.2 ç¬¬ä¸€æ¬¡ raise a pull request to an open source projectå› ä¸ºæˆ‘çš„ Hexo çŽ°åœ¨æ˜¯æ”¾åœ¨ xxx.github.io/HexoBlog ä¸Šçš„ï¼Œ hexo-asset-image ç”Ÿæˆçš„ link åŽŸå…ˆæ˜¯ ä¸å¸¦ HexoBlog çš„ï¼Œç«Ÿç„¶è¢«æˆ‘ç¨€é‡Œç³Šæ¶‚çš„æ”¹æŽ‰äº†ï¼Œ é‚£å°± raise pull request ç»™ ä½œè€…å§ï¼Œ è¿™ç®—æ˜¯æˆ‘ç¬¬ä¸€æ¬¡ç»™ open source æ pull request ï¼Œ ä»¥åŽä¹Ÿå¯ä»¥è¯´æ˜¯ ç»™ open source åšè¿‡è´¡çŒ®äº† :) ã€‚ pull request é“¾æŽ¥ ï¼š https://github.com/CodeFalling/hexo-asset-image/pull/25/files]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nvm or N]]></title>
    <url>%2Fblog%2F2017-06-01.node-version-control-nvm-or-n%2F</url>
    <content type="text"><![CDATA[å¦‚ä½•é€‰æ‹© nvm è¿˜æ˜¯ n ? ç®¡ç† node ç‰ˆæœ¬ï¼Œé€‰æ‹© nvm è¿˜æ˜¯ nï¼Ÿ@ã€Œæ·˜å®å‰ç«¯å›¢é˜Ÿ(FED)ã€ nvm å’Œ n çš„å·®å¼‚è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œå…·ä½“ä½“çŽ°åœ¨ï¼š å®‰è£…ç®€æ˜“åº¦ã€‚nvm å®‰è£…èµ·æ¥æ˜¾ç„¶æ˜¯è¦éº»çƒ¦ä¸å°‘ï¼›n è¿™ç§å®‰è£…æ–¹å¼æ›´ç¬¦åˆ node çš„æƒ¯æ€§æ€ç»´ã€‚è§ä»è§æ™ºå§ã€‚ ç³»ç»Ÿæ”¯æŒã€‚æ³¨æ„ï¼Œ nvm ä¸æ”¯æŒ Windows n ä¸æ”¯æŒ windowsã€‚ å¯¹å…¨å±€æ¨¡å—çš„ç®¡ç†ã€‚n å¯¹å…¨å±€æ¨¡å—æ¯«æ— ä½œä¸ºï¼Œå› æ­¤æœ‰å¯èƒ½åœ¨åˆ‡æ¢äº† node ç‰ˆæœ¬åŽå‘ç”Ÿå…¨å±€æ¨¡å—æ‰§è¡Œå‡ºé”™çš„é—®é¢˜ï¼›nvm çš„å…¨å±€æ¨¡å—å­˜åœ¨äºŽå„è‡ªç‰ˆæœ¬çš„æ²™ç®±ä¸­ï¼Œåˆ‡æ¢ç‰ˆæœ¬åŽéœ€è¦é‡æ–°å®‰è£…ï¼Œä¸åŒç‰ˆæœ¬é—´ä¹Ÿä¸å­˜åœ¨ä»»ä½•å†²çªã€‚ å…³äºŽ node è·¯å¾„ã€‚n æ˜¯ä¸‡å¹´ä¸å˜çš„ /usr/local/binï¼›nvm éœ€è¦æ‰‹åŠ¨æŒ‡å®šè·¯å¾„ã€‚ æ‰€ä»¥ï¼Œå¦‚ä½•é€‰æ‹©ï¼ŸçœŸå¿ƒè§ä»è§æ™ºäº†ï¼Œä¸è¿‡è¿™é‡Œå¯ä»¥ç»™å‡ºå¤§ä½“çš„å»ºè®®ï¼š å¦‚æžœä½ ä½¿ç”¨ Windowsï¼Œé‚£æ²¡å¾—é€‰äº†ï¼Œä½¿ç”¨ nï¼Œæˆ–è€…æ¢ä¸€å° Macã€‚ å¦‚æžœä½ ä¼šé¢‘ç¹åˆ‡æ¢ node ç‰ˆæœ¬ï¼ˆæ¯”å¦‚æœ¬åœ°ç»å¸¸æµ‹è¯•æœ€æ–°ç‰ˆçš„ç‰¹æ€§ï¼ŒåŒæ—¶åˆè¦å…¼é¡¾ä»£ç åœ¨ç”Ÿäº§çŽ¯å¢ƒçš„å…¼å®¹æ€§ï¼‰ï¼Œé‚£ä¹ˆä»Žå…¨å±€æ¨¡å—å…¼å®¹æ€§çš„è§’åº¦è€ƒè™‘ï¼Œåªèƒ½ä½¿ç”¨ nvmã€‚ å¦‚æžœä½ æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ç”¨æˆ·ï¼Œä¸éœ€è¦æ‹…å¿ƒå…¼å®¹æ€§çš„é—®é¢˜ï¼Œæ›´å…³å¿ƒ node å®‰è£…å’Œä½¿ç”¨ä¸Šçš„ä½“éªŒï¼Œé‚£ä¹ˆé€‰æ‹© nã€‚ ä½ å¦‚æžœè¦é—®ï¼Œæ¥¼ä¸»æœ€ç»ˆé€‰ç”¨äº†è°ï¼Ÿæˆ‘ä¼šè¯´ï¼Œæˆ‘é€‰æ‹©äº†æ›´æµè¡Œçš„é‚£ä¸€ä¸ªã€‚ å‡çº§node.jså’Œnpm [æ³¨] å‚è€ƒï¼šhttps://segmentfault.com/a/1190000009025883 n æ¨¡å—ä¸æ”¯æŒwindowsç³»ç»Ÿï¼Œå®˜æ–¹æ–‡æ¡£(Unfortunately n is not supported on Windows yet. If youâ€™re able to make it work, send in a pull request!) ä¸€è¡Œå‘½ä»¤æžå®šnpmå’Œnode.jsçš„å‡çº§ï¼ŒçœåŽ»äº†é‡æ–°ç¼–è¯‘å’Œå®‰è£…çš„è¿‡ç¨‹ã€‚å…·ä½“å¦‚ä¸‹ï¼š å‡çº§node.jsnpmä¸­æœ‰ä¸€ä¸ªæ¨¡å—å«åš â€œnâ€ï¼Œä¸“é—¨ç”¨æ¥ç®¡ç†node.jsç‰ˆæœ¬çš„ã€‚ æ›´æ–°åˆ°æœ€æ–°çš„ç¨³å®šç‰ˆåªéœ€è¦åœ¨å‘½ä»¤è¡Œä¸­æ‰“ä¸‹å¦‚ä¸‹ä»£ç ï¼š 12345# ç¬¬ä¸€æ­¥ï¼Œå®‰è£… n (n æ¨¡å—ä¸æ”¯æŒ windows ç³»ç»Ÿ)npm install -g n# ç¬¬äºŒæ­¥ï¼Œå‡çº§ node åˆ°æœ€æ–°ç¨³å®šç‰ˆæœ¬n stable å¦‚éœ€æœ€æ–°ç‰ˆæœ¬åˆ™ç”¨n latest å½“ç„¶ï¼ŒnåŽé¢ä¹Ÿå¯ä»¥è·Ÿå…·ä½“çš„ç‰ˆæœ¬å·ï¼šn v6.2.0 æˆ– n 6.2.0 node.jså‡çº§å°±æ˜¯è¿™ä¹ˆç®€å•ã€‚ å‡çº§npmnpmå‡çº§å°±æ›´ç®€å•äº†ï¼Œåªéœ€è¦åœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼š 1npm -g install npm@next è¡¥å……å¸¸ç”¨ npm å‘½ä»¤ å‚è€ƒ ï¼š https://segmentfault.com/a/1190000006869650 1234567891011121314151617$ npm -v #æ˜¾ç¤ºç‰ˆæœ¬ï¼Œæ£€æŸ¥npm æ˜¯å¦æ­£ç¡®å®‰è£…ã€‚ $ npm install express #å®‰è£…expressæ¨¡å— $ npm install -g express #å…¨å±€å®‰è£…expressæ¨¡å— $ npm list #åˆ—å‡ºå·²å®‰è£…æ¨¡å— $ npm show express #æ˜¾ç¤ºæ¨¡å—è¯¦æƒ… $ npm update #å‡çº§å½“å‰ç›®å½•ä¸‹çš„é¡¹ç›®çš„æ‰€æœ‰æ¨¡å— $ npm update express #å‡çº§å½“å‰ç›®å½•ä¸‹çš„é¡¹ç›®çš„æŒ‡å®šæ¨¡å— $ npm update -g express #å‡çº§å…¨å±€å®‰è£…çš„expressæ¨¡å— $ npm uninstall express #åˆ é™¤æŒ‡å®šçš„æ¨¡å— Windows å¼ºè¡Œå®‰è£… n æ¨¡å—ï¼ˆç„¶å¹¶è½¯ï¼‰ å‚è€ƒ ï¼š http://blog.csdn.net/u013474104/article/details/52197772 123456789101112131415PS C:\Users\yafey&gt; npm install -g nnpm ERR! Windows_NT 10.0.14393npm ERR! argv "C:\\_installed_soft\\nodejs\\node.exe" "C:\\_installed_soft\\nodejs\\node_modules\\npm\\bin\\npm-cli.js" "install" "-g" "n"npm ERR! node v6.9.2npm ERR! npm v3.10.9npm ERR! code EBADPLATFORMnpm ERR! notsup Unsupported platform for n@2.1.7: wanted &#123;"os":"!win32","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)npm ERR! notsup Valid OS: !win32npm ERR! notsup Valid Arch: anynpm ERR! notsup Actual OS: win32npm ERR! notsup Actual Arch: x64npm ERR! Please include the following file with any support request:npm ERR! C:\Users\yafey\npm-debug.log è§£å†³æ–¹æ¡ˆåœ¨åŽé¢åŠ ä¸Š --force å³å¯ã€‚ 1npm install -g n --force ç„¶å¹¶è½¯è¯¥æŠ¥é”™ è¿˜æ˜¯ ç»§ç»­æŠ¥é”™ã€‚ 1234PS C:\Users\yafey&gt; n stable/bin/bash: C:\Users\yafey\AppData\Roaming\npm\node_modules\n\bin\n: No such file or directoryPS C:\Users\yafey&gt; n v4.4.7/bin/bash: C:\Users\yafey\AppData\Roaming\npm\node_modules\n\bin\n: No such file or directory]]></content>
      <categories>
        <category>node.js</category>
      </categories>
      <tags>
        <tag>node.js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git_clone_include_submodule]]></title>
    <url>%2Fblog%2F2017-06-01.git-clone-include-submodule%2F</url>
    <content type="text"><![CDATA[git clone æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶ register and update submodulesIf your submodule was added in a branch be sure to include it in your clone commandâ€¦1git clone -b &lt;branch_name&gt; --recursive &lt;remote&gt; &lt;directory&gt; If --recursive is specified, this command will recurse into the registered submodules, and update any nested submodules within. å‚è€ƒï¼š How to `git clone` including submodules?]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>submodule</tag>
        <tag>clone</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Tools]]></title>
    <url>%2Fblog%2F2017-05-31.tools%2F</url>
    <content type="text"><![CDATA[Web tool.oschina Bootcss å‰ç«¯å¼€å‘èµ„æºå¯¼èˆª Linux explainshell Miscellaneous (æ‚é¡¹) Youtube downloader ä¼ªå°„æ‰‹å­—å¹• è°·ç²‰æœæœ-è°·æ­Œæ›¿ä»£å“ ã€c#ç‰ˆã€‘æˆ‘ä¸ºå¼€æºåšè´¡çŒ®ï¼Œç½‘é¡µæ­£æ–‡æå–â€”â€”Html2Article ã€phpç‰ˆã€‘å¦‚ä½•å°†CSDNçš„æ–‡ç« è½¬æˆ.mdçš„markdownæ–‡ä»¶ GitPage ä¸Šçš„é•œåƒReact ã€æŽ¨èã€‘èƒ¡å­å¤§å“ˆçš„ ã€ŠReact å°ä¹¦ã€‹ | è‡ªå·±githubé•œåƒ ES6 ã€ŠES6 æ ‡å‡†å…¥é—¨ã€‹ï¼ˆç¬¬äºŒç‰ˆï¼‰å‡ºç‰ˆäº† by é˜®ä¸€å³° | è‡ªå·±githubé•œåƒ å‚è€ƒè‡ª ï¼š http://www.zipperary.com/tools/ ä¸´æ—¶é“¾æŽ¥ ï¼š bk.html]]></content>
      <categories>
        <category>tools</category>
      </categories>
      <tags>
        <tag>tools</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2Fblog%2F2017-05-28.hello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
      <categories>
        <category>new to Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Doc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HelloHexo Test]]></title>
    <url>%2Fblog%2F2017-05-28.HelloHexo-Test%2F</url>
    <content type="text"><![CDATA[æµ‹è¯• 1Git submodules: Specify a branch/taghttps://stackoverflow.com/questions/1777854/git-submodules-specify-a-branch-tagumlÃ¤ute refines dtmlandâ€™s command with a simplified version in the comments:1git submodule foreach -q --recursive 'git checkout $(git config -f $toplevel/.gitmodules submodule.$name.branch || echo master)' multiple lines:123git submodule foreach -q --recursive \ 'git checkout \ $(git config -f $toplevel/.gitmodules submodule.$name.branch || echo master)' GETTING GIT SUBMODULE TO TRACK A BRANCH (add submodule çš„æ­¥éª¤)https://www.activestate.com/blog/2014/05/getting-git-submodule-track-branch åˆ é™¤ submodule : git rm --cached &lt;mysubmodule&gt; add submodule : git submodule add --force -b BUAT &lt;git url&gt; &lt;submodule path&gt; Add a submodule which canâ€™t be removed from the indexhttps://stackoverflow.com/questions/12218420/add-a-submodule-which-cant-be-removed-from-the-index If the output adding a new submodule is: 12345678 #'FolderName' already exists in the index # Tip the next commandsgit ls-files --stage # The output will be something similar to:160000 d023657a21c1bf05d0eeaac6218eb5cca8520d16 0 FolderName # Then, to remove the folder index tip:git rm -r --cached FolderName #Try again add the submodule]]></content>
      <tags>
        <tag>test</tag>
      </tags>
  </entry>
</search>